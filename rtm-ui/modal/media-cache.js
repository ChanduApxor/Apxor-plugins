!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self)["apxor-rtm"]=e()}(this,(function(){"use strict";function _iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,o,a,r,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw o}}return s}}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _regeneratorRuntime(){_regeneratorRuntime=function(){return e};var t,e={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function d(t,e,n,i){var a=e&&e.prototype instanceof f?e:f,r=Object.create(a.prototype),s=new S(i||[]);return o(r,"_invoke",{value:k(t,n,s)}),r}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var h="suspendedStart",u="executing",m="completed",g={};function f(){}function v(){}function _(){}var b={};c(b,r,(function(){return this}));var y=Object.getPrototypeOf,x=y&&y(y(I([])));x&&x!==n&&i.call(x,r)&&(b=x);var w=_.prototype=f.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(o,a,r,s){var l=p(t[o],t,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,r,s)}),(function(t){n("throw",t,r,s)})):e.resolve(d).then((function(t){c.value=t,r(c)}),(function(t){return n("throw",t,r,s)}))}s(l.arg)}var a;o(this,"_invoke",{value:function(t,i){function o(){return new e((function(e,o){n(t,i,e,o)}))}return a=a?a.then(o,o):o()}})}function k(e,n,i){var o=h;return function(a,r){if(o===u)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw r;return{value:t,done:!0}}for(i.method=a,i.arg=r;;){var s=i.delegate;if(s){var l=T(s,i);if(l){if(l===g)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===h)throw o=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=u;var c=p(e,n,i);if("normal"===c.type){if(o=i.done?m:"suspendedYield",c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(o=m,i.method="throw",i.arg=c.arg)}}}function T(e,n){var i=n.method,o=e.iterator[i];if(o===t)return n.delegate=null,"throw"===i&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var a=p(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var r=a.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[r];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(i.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return v.prototype=_,o(w,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:v,configurable:!0}),v.displayName=c(_,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,c(t,l,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},C(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,i,o,a){void 0===a&&(a=Promise);var r=new E(d(t,n,i,o),a);return e.isGeneratorFunction(n)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},C(w),c(w,l,"Generator"),c(w,r,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=I,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(i,o){return s.type="throw",s.arg=e,n.next=i,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],s=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var l=i.call(r,"catchLoc"),c=i.call(r,"finallyLoc");if(l&&c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=t,r.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:I(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),g}},e}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function asyncGeneratorStep(t,e,n,i,o,a,r){try{var s=t[a](r),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(i,o)}function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function r(t){asyncGeneratorStep(a,i,o,r,s,"next",t)}function s(t){asyncGeneratorStep(a,i,o,r,s,"throw",t)}r(void 0)}))}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey(i.key),i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _defineProperty(t,e,n){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _possibleConstructorReturn(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _toPrimitive(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==typeof e?e:String(e)}
/*! shepherd.js 7.1.2 */function _defineProperties$1(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass$1(t,e,n){return e&&_defineProperties$1(t.prototype,e),n&&_defineProperties$1(t,n),t}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function _assertThisInitialized$1(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function isElement(t){return t instanceof HTMLElement}function isFunction(t){return"function"==typeof t}function isString(t){return"string"==typeof t}function isUndefined(t){return void 0===t}var Evented=function(){function t(){}var e=t.prototype;return e.on=function(t,e,n,i){return void 0===i&&(i=!1),isUndefined(this.bindings)&&(this.bindings={}),isUndefined(this.bindings[t])&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i}),this},e.once=function(t,e,n){return this.on(t,e,n,!0)},e.off=function(t,e){var n=this;return isUndefined(this.bindings)||isUndefined(this.bindings[t])||(isUndefined(e)?delete this.bindings[t]:this.bindings[t].forEach((function(i,o){i.handler===e&&n.bindings[t].splice(o,1)}))),this},e.trigger=function(t){for(var e=this,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return!isUndefined(this.bindings)&&this.bindings[t]&&this.bindings[t].forEach((function(n,o){var a=n.ctx,r=n.handler,s=n.once,l=a||e;r.apply(l,i),s&&e.bindings[t].splice(o,1)})),this},t}();function autoBind(t){for(var e=Object.getOwnPropertyNames(t.constructor.prototype),n=0;n<e.length;n++){var i=e[n],o=t[i];"constructor"!==i&&"function"==typeof o&&(t[i]=o.bind(t))}return t}function _setupAdvanceOnHandler(t,e){return function(n){if(e.isOpen()){var i=e.el&&n.currentTarget===e.el;(!isUndefined(t)&&n.currentTarget.matches(t)||i)&&e.tour.next()}}}function bindAdvance(t){var e=t.options.advanceOn||{},n=e.event,i=e.selector;if(!n)return console.error("advanceOn was defined, but no event name was passed.");var o,a=_setupAdvanceOnHandler(i,t);try{o=document.querySelector(i)}catch(t){}if(!isUndefined(i)&&!o)return console.error("No element was found for the selector supplied to advanceOn: "+i);o?(o.addEventListener(n,a),t.on("destroy",(function(){return o.removeEventListener(n,a)}))):(document.body.addEventListener(n,a,!0),t.on("destroy",(function(){return document.body.removeEventListener(n,a,!0)})))}function getBoundingClientRect(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}function getWindow(t){if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e?e.defaultView:window}return t}function getWindowScroll(t){var e=getWindow(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function isElement$1(t){return t instanceof getWindow(t).Element||t instanceof Element}function isHTMLElement(t){return t instanceof getWindow(t).HTMLElement||t instanceof HTMLElement}function getHTMLElementScroll(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function getNodeScroll(t){return t!==getWindow(t)&&isHTMLElement(t)?getHTMLElementScroll(t):getWindowScroll(t)}function getNodeName(t){return t?(t.nodeName||"").toLowerCase():null}function getDocumentElement(t){return(isElement$1(t)?t.ownerDocument:t.document).documentElement}function getWindowScrollBarX(t){return getBoundingClientRect(getDocumentElement(t)).left+getWindowScroll(t).scrollLeft}function getCompositeRect(t,e,n){var i;void 0===n&&(n=!1);var o=getBoundingClientRect(t),a={scrollLeft:0,scrollTop:0},r={x:0,y:0};return n||("body"!==getNodeName(e)&&(a=getNodeScroll(e)),isHTMLElement(e)?((r=getBoundingClientRect(e)).x+=e.clientLeft,r.y+=e.clientTop):(i=getDocumentElement(e))&&(r.x=getWindowScrollBarX(i))),{x:o.left+a.scrollLeft-r.x,y:o.top+a.scrollTop-r.y,width:o.width,height:o.height}}function getLayoutRect(t){return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}function getParentNode(t){return"html"===getNodeName(t)?t:t.assignedSlot||t.parentNode||t.host||getDocumentElement(t)}function getComputedStyle(t){return getWindow(t).getComputedStyle(t)}function getScrollParent(t){if(["html","body","#document"].indexOf(getNodeName(t))>=0)return t.ownerDocument.body;if(isHTMLElement(t)){var e=getComputedStyle(t),n=e.overflow,i=e.overflowX,o=e.overflowY;if(/auto|scroll|overlay|hidden/.test(n+o+i))return t}return getScrollParent(getParentNode(t))}function listScrollParents(t,e){void 0===e&&(e=[]);var n=getScrollParent(t),i="body"===getNodeName(n),o=getWindow(n),a=i?[o].concat(o.visualViewport||[]):n,r=e.concat(a);return i?r:r.concat(listScrollParents(getParentNode(a)))}function isTableElement(t){return["table","td","th"].indexOf(getNodeName(t))>=0}function getTrueOffsetParent(t){return isHTMLElement(t)&&"fixed"!==getComputedStyle(t).position?t.offsetParent:null}function getOffsetParent(t){for(var e=getWindow(t),n=getTrueOffsetParent(t);n&&isTableElement(n);)n=getTrueOffsetParent(n);return n&&"body"===getNodeName(n)&&"static"===getComputedStyle(n).position?e:n||e}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce((function(t,e){return t.concat([e+"-"+start,e+"-"+end])}),[]),placements=[].concat(basePlacements,[auto]).reduce((function(t,e){return t.concat([e,e+"-"+start,e+"-"+end])}),[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function order(t){var e=new Map,n=new Set,i=[];return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||function t(o){n.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach((function(i){if(!n.has(i)){var o=e.get(i);o&&t(o)}})),i.push(o)}(t)})),i}function orderModifiers(t){var e=order(t);return modifierPhases.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}function debounce(t){var e;return function(){return e||(e=new Promise((function(n){Promise.resolve().then((function(){e=void 0,n(t())}))}))),e}}function getBasePlacement(t){return t.split("-")[0]}function mergeByName(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,{},e,{options:Object.assign({},n.options,{},e.options),data:Object.assign({},n.data,{},e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function popperGenerator(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,i=void 0===n?[]:n,o=e.defaultOptions,a=void 0===o?DEFAULT_OPTIONS:o;return function(t,e,n){void 0===n&&(n=a);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,{},a),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},r=[],s=!1,l={state:o,setOptions:function(n){c(),o.options=Object.assign({},a,{},o.options,{},n),o.scrollParents={reference:isElement$1(t)?listScrollParents(t):t.contextElement?listScrollParents(t.contextElement):[],popper:listScrollParents(e)};var s=orderModifiers(mergeByName([].concat(i,o.options.modifiers)));return o.orderedModifiers=s.filter((function(t){return t.enabled})),o.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,i=void 0===n?{}:n,a=t.effect;if("function"==typeof a){var s=a({state:o,name:e,instance:l,options:i});r.push(s||function(){})}})),l.update()},forceUpdate:function(){if(!s){var t=o.elements,e=t.reference,n=t.popper;if(areValidElements(e,n)){o.rects={reference:getCompositeRect(e,getOffsetParent(n),"fixed"===o.options.strategy),popper:getLayoutRect(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(t){return o.modifiersData[t.name]=Object.assign({},t.data)}));for(var i=0;i<o.orderedModifiers.length;i++)if(!0!==o.reset){var a=o.orderedModifiers[i],r=a.fn,c=a.options,d=void 0===c?{}:c,p=a.name;"function"==typeof r&&(o=r({state:o,options:d,name:p,instance:l})||o)}else o.reset=!1,i=-1}}},update:debounce((function(){return new Promise((function(t){l.forceUpdate(),t(o)}))})),destroy:function(){c(),s=!0}};if(!areValidElements(t,e))return l;function c(){r.forEach((function(t){return t()})),r=[]}return l.setOptions(n).then((function(t){!s&&n.onFirstUpdate&&n.onFirstUpdate(t)})),l}}var passive={passive:!0};function effect(t){var e=t.state,n=t.instance,i=t.options,o=i.scroll,a=void 0===o||o,r=i.resize,s=void 0===r||r,l=getWindow(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach((function(t){t.addEventListener("scroll",n.update,passive)})),s&&l.addEventListener("resize",n.update,passive),function(){a&&c.forEach((function(t){t.removeEventListener("scroll",n.update,passive)})),s&&l.removeEventListener("resize",n.update,passive)}}var eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:effect,data:{}};function getVariation(t){return t.split("-")[1]}function getMainAxisFromPlacement(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function computeOffsets(t){var e,n=t.reference,i=t.element,o=t.placement,a=o?getBasePlacement(o):null,r=o?getVariation(o):null,s=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(a){case top:e={x:s,y:n.y-i.height};break;case bottom:e={x:s,y:n.y+n.height};break;case right:e={x:n.x+n.width,y:l};break;case left:e={x:n.x-i.width,y:l};break;default:e={x:n.x,y:n.y}}var c=a?getMainAxisFromPlacement(a):null;if(null!=c){var d="y"===c?"height":"width";switch(r){case start:e[c]=Math.floor(e[c])-Math.floor(n[d]/2-i[d]/2);break;case end:e[c]=Math.floor(e[c])+Math.ceil(n[d]/2-i[d]/2)}}return e}function popperOffsets(t){var e=t.state,n=t.name;e.modifiersData[n]=computeOffsets({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}},unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsets(t){var e=t.x,n=t.y,i=window.devicePixelRatio||1;return{x:Math.round(e*i)/i||0,y:Math.round(n*i)/i||0}}function mapToStyles(t){var e,n=t.popper,i=t.popperRect,o=t.placement,a=t.offsets,r=t.position,s=t.gpuAcceleration,l=t.adaptive,c=roundOffsets(a),d=c.x,p=c.y,h=a.hasOwnProperty("x"),u=a.hasOwnProperty("y"),m=left,g=top,f=window;if(l){var v=getOffsetParent(n);v===getWindow(n)&&(v=getDocumentElement(n)),o===top&&(g=bottom,p-=v.clientHeight-i.height,p*=s?1:-1),o===left&&(m=right,d-=v.clientWidth-i.width,d*=s?1:-1)}var _,b=Object.assign({position:r},l&&unsetSides);return s?Object.assign({},b,((_={})[g]=u?"0":"",_[m]=h?"0":"",_.transform=(f.devicePixelRatio||1)<2?"translate("+d+"px, "+p+"px)":"translate3d("+d+"px, "+p+"px, 0)",_)):Object.assign({},b,((e={})[g]=u?p+"px":"",e[m]=h?d+"px":"",e.transform="",e))}function computeStyles(t){var e=t.state,n=t.options,i=n.gpuAcceleration,o=void 0===i||i,a=n.adaptive,r=void 0===a||a,s={placement:getBasePlacement(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,{},mapToStyles(Object.assign({},s,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,{},mapToStyles(Object.assign({},s,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};function applyStyles(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},o=e.elements[t];isHTMLElement(o)&&getNodeName(o)&&(Object.assign(o.style,n),Object.keys(i).forEach((function(t){var e=i[t];!1===e?o.removeAttribute(t):o.setAttribute(t,!0===e?"":e)})))}))}function effect$1(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var i=e.elements[t],o=e.attributes[t]||{},a=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});isHTMLElement(i)&&getNodeName(i)&&(Object.assign(i.style,a),Object.keys(o).forEach((function(t){i.removeAttribute(t)})))}))}}var applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$1,requires:["computeStyles"]};function distanceAndSkiddingToXY(t,e,n){var i=getBasePlacement(t),o=[left,top].indexOf(i)>=0?-1:1,a="function"==typeof n?n(Object.assign({},e,{placement:t})):n,r=a[0],s=a[1];return r=r||0,s=(s||0)*o,[left,right].indexOf(i)>=0?{x:s,y:r}:{x:r,y:s}}function offset(t){var e=t.state,n=t.options,i=t.name,o=n.offset,a=void 0===o?[0,0]:o,r=placements.reduce((function(t,n){return t[n]=distanceAndSkiddingToXY(n,e.rects,a),t}),{}),s=r[e.placement],l=s.x,c=s.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=r}var offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset},hash={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(t){return t.replace(/left|right|bottom|top/g,(function(t){return hash[t]}))}var hash$1={start:"end",end:"start"};function getOppositeVariationPlacement(t){return t.replace(/start|end/g,(function(t){return hash$1[t]}))}function getViewportRect(t){var e=getWindow(t),n=e.visualViewport,i=e.innerWidth,o=e.innerHeight;return n&&/iPhone|iPod|iPad/.test(navigator.platform)&&(i=n.width,o=n.height),{width:i,height:o,x:0,y:0}}function getDocumentRect(t){var e=getWindow(t),n=getWindowScroll(t),i=getCompositeRect(getDocumentElement(t),e);return i.height=Math.max(i.height,e.innerHeight),i.width=Math.max(i.width,e.innerWidth),i.x=-n.scrollLeft,i.y=-n.scrollTop,i}function toNumber(t){return parseFloat(t)||0}function getBorders(t){var e=isHTMLElement(t)?getComputedStyle(t):{};return{top:toNumber(e.borderTopWidth),right:toNumber(e.borderRightWidth),bottom:toNumber(e.borderBottomWidth),left:toNumber(e.borderLeftWidth)}}function getDecorations(t){var e=getWindow(t),n=getBorders(t),i="html"===getNodeName(t),o=getWindowScrollBarX(t),a=t.clientWidth+n.right,r=t.clientHeight+n.bottom;return i&&e.innerHeight-t.clientHeight>50&&(r=e.innerHeight-n.bottom),{top:i?0:t.clientTop,right:t.clientLeft>n.left?n.right:i?e.innerWidth-a-o:t.offsetWidth-a,bottom:i?e.innerHeight-r:t.offsetHeight-r,left:i?o:t.clientLeft}}function contains(t,e){var n=Boolean(e.getRootNode&&e.getRootNode().host);if(t.contains(e))return!0;if(n){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function rectToClientRect(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function getClientRectFromMixedType(t,e){return e===viewport?rectToClientRect(getViewportRect(t)):isHTMLElement(e)?getBoundingClientRect(e):rectToClientRect(getDocumentRect(getDocumentElement(t)))}function getClippingParents(t){var e=listScrollParents(t),n=["absolute","fixed"].indexOf(getComputedStyle(t).position)>=0&&isHTMLElement(t)?getOffsetParent(t):t;return isElement$1(n)?e.filter((function(t){return isElement$1(t)&&contains(t,n)})):[]}function getClippingRect(t,e,n){var i="clippingParents"===e?getClippingParents(t):[].concat(e),o=[].concat(i,[n]),a=o[0],r=o.reduce((function(e,n){var i=getClientRectFromMixedType(t,n),o=getDecorations(isHTMLElement(n)?n:getDocumentElement(t));return e.top=Math.max(i.top+o.top,e.top),e.right=Math.min(i.right-o.right,e.right),e.bottom=Math.min(i.bottom-o.bottom,e.bottom),e.left=Math.max(i.left+o.left,e.left),e}),getClientRectFromMixedType(t,a));return r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(t){return Object.assign({},getFreshSideObject(),{},t)}function expandToHashMap(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}function detectOverflow(t,e){void 0===e&&(e={});var n=e,i=n.placement,o=void 0===i?t.placement:i,a=n.boundary,r=void 0===a?clippingParents:a,s=n.rootBoundary,l=void 0===s?viewport:s,c=n.elementContext,d=void 0===c?popper:c,p=n.altBoundary,h=void 0!==p&&p,u=n.padding,m=void 0===u?0:u,g=mergePaddingObject("number"!=typeof m?m:expandToHashMap(m,basePlacements)),f=d===popper?reference:popper,v=t.elements.reference,_=t.rects.popper,b=t.elements[h?f:d],y=getClippingRect(isElement$1(b)?b:b.contextElement||getDocumentElement(t.elements.popper),r,l),x=getBoundingClientRect(v),w=computeOffsets({reference:x,element:_,strategy:"absolute",placement:o}),C=rectToClientRect(Object.assign({},_,{},w)),E=d===popper?C:x,k={top:y.top-E.top+g.top,bottom:E.bottom-y.bottom+g.bottom,left:y.left-E.left+g.left,right:E.right-y.right+g.right},T=t.modifiersData.offset;if(d===popper&&T){var A=T[o];Object.keys(k).forEach((function(t){var e=[right,bottom].indexOf(t)>=0?1:-1,n=[top,bottom].indexOf(t)>=0?"y":"x";k[t]+=A[n]*e}))}return k}function computeAutoPlacement(t,e){void 0===e&&(e={});var n=e,i=n.placement,o=n.boundary,a=n.rootBoundary,r=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?placements:l,d=getVariation(i),p=(d?s?variationPlacements:variationPlacements.filter((function(t){return getVariation(t)===d})):basePlacements).filter((function(t){return c.indexOf(t)>=0})).reduce((function(e,n){return e[n]=detectOverflow(t,{placement:n,boundary:o,rootBoundary:a,padding:r})[getBasePlacement(n)],e}),{});return Object.keys(p).sort((function(t,e){return p[t]-p[e]}))}function getExpandedFallbackPlacements(t){if(getBasePlacement(t)===auto)return[];var e=getOppositePlacement(t);return[getOppositeVariationPlacement(t),e,getOppositeVariationPlacement(e)]}function flip(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var o=n.fallbackPlacements,a=n.padding,r=n.boundary,s=n.rootBoundary,l=n.altBoundary,c=n.flipVariations,d=void 0===c||c,p=n.allowedAutoPlacements,h=e.options.placement,u=getBasePlacement(h),m=o||(u===h||!d?[getOppositePlacement(h)]:getExpandedFallbackPlacements(h)),g=[h].concat(m).reduce((function(t,n){return t.concat(getBasePlacement(n)===auto?computeAutoPlacement(e,{placement:n,boundary:r,rootBoundary:s,padding:a,flipVariations:d,allowedAutoPlacements:p}):n)}),[]),f=e.rects.reference,v=e.rects.popper,_=new Map,b=!0,y=g[0],x=0;x<g.length;x++){var w=g[x],C=getBasePlacement(w),E=getVariation(w)===start,k=[top,bottom].indexOf(C)>=0,T=k?"width":"height",A=detectOverflow(e,{placement:w,boundary:r,rootBoundary:s,altBoundary:l,padding:a}),O=k?E?right:left:E?bottom:top;f[T]>v[T]&&(O=getOppositePlacement(O));var S=getOppositePlacement(O),I=[A[C]<=0,A[O]<=0,A[S]<=0];if(I.every((function(t){return t}))){y=w,b=!1;break}_.set(w,I)}if(b)for(var P=function(t){var e=g.find((function(e){var n=_.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return y=e,"break"},L=d?3:1;L>0;L--){if("break"===P(L))break}e.placement!==y&&(e.modifiersData[i]._skip=!0,e.placement=y,e.reset=!0)}}var flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getAltAxis(t){return"x"===t?"y":"x"}function within(t,e,n){return Math.max(t,Math.min(e,n))}function preventOverflow(t){var e=t.state,n=t.options,i=t.name,o=n.mainAxis,a=void 0===o||o,r=n.altAxis,s=void 0!==r&&r,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,p=n.padding,h=n.tether,u=void 0===h||h,m=n.tetherOffset,g=void 0===m?0:m,f=detectOverflow(e,{boundary:l,rootBoundary:c,padding:p,altBoundary:d}),v=getBasePlacement(e.placement),_=getVariation(e.placement),b=!_,y=getMainAxisFromPlacement(v),x=getAltAxis(y),w=e.modifiersData.popperOffsets,C=e.rects.reference,E=e.rects.popper,k="function"==typeof g?g(Object.assign({},e.rects,{placement:e.placement})):g,T={x:0,y:0};if(w){if(a){var A="y"===y?top:left,O="y"===y?bottom:right,S="y"===y?"height":"width",I=w[y],P=w[y]+f[A],L=w[y]-f[O],M=u?-E[S]/2:0,N=_===start?C[S]:E[S],$=_===start?-E[S]:-C[S],R=e.elements.arrow,D=u&&R?getLayoutRect(R):{width:0,height:0},B=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:getFreshSideObject(),F=B[A],V=B[O],H=within(0,C[S],D[S]),W=b?C[S]/2-M-H-F-k:N-H-F-k,j=b?-C[S]/2+M+H+V+k:$+H+V+k,z=e.elements.arrow&&getOffsetParent(e.elements.arrow),U=z?"y"===y?z.clientTop||0:z.clientLeft||0:0,q=e.modifiersData.offset?e.modifiersData.offset[e.placement][y]:0,Y=w[y]+W-q-U,G=w[y]+j-q,X=within(u?Math.min(P,Y):P,I,u?Math.max(L,G):L);w[y]=X,T[y]=X-I}if(s){var K="x"===y?top:left,Z="x"===y?bottom:right,J=w[x],Q=within(J+f[K],J,J-f[Z]);w[x]=Q,T[x]=Q-J}e.modifiersData[i]=T}}var preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function arrow(t){var e,n=t.state,i=t.name,o=n.elements.arrow,a=n.modifiersData.popperOffsets,r=getBasePlacement(n.placement),s=getMainAxisFromPlacement(r),l=[left,right].indexOf(r)>=0?"height":"width";if(o&&a){var c=n.modifiersData[i+"#persistent"].padding,d=getLayoutRect(o),p="y"===s?top:left,h="y"===s?bottom:right,u=n.rects.reference[l]+n.rects.reference[s]-a[s]-n.rects.popper[l],m=a[s]-n.rects.reference[s],g=n.elements.arrow&&getOffsetParent(n.elements.arrow),f=g?"y"===s?g.clientHeight||0:g.clientWidth||0:0,v=u/2-m/2,_=c[p],b=f-d[l]-c[h],y=f/2-d[l]/2+v,x=within(_,y,b),w=s;n.modifiersData[i]=((e={})[w]=x,e.centerOffset=x-y,e)}}function effect$2(t){var e=t.state,n=t.options,i=t.name,o=n.element,a=void 0===o?"[data-popper-arrow]":o,r=n.padding,s=void 0===r?0:r;null!=a&&("string"!=typeof a||(a=e.elements.popper.querySelector(a)))&&contains(e.elements.popper,a)&&(e.elements.arrow=a,e.modifiersData[i+"#persistent"]={padding:mergePaddingObject("number"!=typeof s?s:expandToHashMap(s,basePlacements))})}var arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$2,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getSideOffsets(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function isAnySideFullyClipped(t){return[top,right,bottom,left].some((function(e){return t[e]>=0}))}function hide(t){var e=t.state,n=t.name,i=e.rects.reference,o=e.rects.popper,a=e.modifiersData.preventOverflow,r=detectOverflow(e,{elementContext:"reference"}),s=detectOverflow(e,{altBoundary:!0}),l=getSideOffsets(r,i),c=getSideOffsets(s,o,a),d=isAnySideFullyClipped(l),p=isAnySideFullyClipped(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}var hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide},defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers:defaultModifiers}),current_component;function _getCenteredStylePopperModifier(){return[{name:"applyStyles",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){if("popper"===t){var n=e.attributes[t]||{},i=e.elements[t];Object.assign(i.style,{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}),Object.keys(n).forEach((function(t){var e=n[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)}))}}))}},{name:"computeStyles",options:{adaptive:!1}}]}function makeCenteredPopper(t){var e=_getCenteredStylePopperModifier(),n=t.shepherdElementComponent.getElement(),i=_makeCommonPopperOptions(t);return n.classList.add("shepherd-centered"),i=_extends({},i,{modifiers:Array.from(new Set([].concat(i.modifiers,e)))})}function _makeCommonPopperOptions(t){return{placement:"top",strategy:"fixed",modifiers:[],onFirstUpdate:function(){t.el.focus()}}}function normalizePrefix(t){return isString(t)&&""!==t?"-"!==t.charAt(t.length-1)?t+"-":t:""}function parseAttachTo(t){var e=t.options.attachTo||{},n=Object.assign({},e);if(isString(e.element)){try{n.element=document.querySelector(e.element)}catch(t){}n.element||console.error("The element for this Shepherd step was not found "+e.element)}return n}function setupTooltip(t){t.tooltip&&t.tooltip.destroy();var e=parseAttachTo(t),n=getPopperOptions(e,t),i=n.element,o=n.popperOptions,a=n.target;t.tooltip=createPopper(a,i,o),t.target=e.element}function uuid(){var t=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)}))}function getPopperOptions(t,e){var n={modifiers:[{name:"preventOverflow",options:{altAxis:!0}}],strategy:"absolute",onFirstUpdate:function(){e.el.focus()}},i=document.body;if(t.element&&t.on?(n.placement=t.on||"right",i=t.element):n=makeCenteredPopper(e),e.options.popperOptions){if(e.options.popperOptions.modifiers&&e.options.popperOptions.modifiers.length>0){var o=e.options.popperOptions.modifiers.map((function(t){return t.name})),a=n.modifiers.filter((function(t){return!o.includes(t.name)}));n.modifiers=Array.from(new Set([].concat(a,e.options.popperOptions.modifiers)))}n=Object.assign(e.options.popperOptions,n)}return{element:e.el,popperOptions:n,target:i}}function noop(){}function assign(t,e){for(var n in e)t[n]=e[n];return t}function run(t){return t()}function blank_object(){return Object.create(null)}function run_all(t){t.forEach(run)}function is_function(t){return"function"==typeof t}function safe_not_equal(t,e){return t!=t?e==e:t!==e||t&&"object"===_typeof(t)||"function"==typeof t}function append(t,e){t.appendChild(e)}function insert(t,e,n){t.insertBefore(e,n||null)}function detach(t){t.parentNode.removeChild(t)}function destroy_each(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function element(t){return document.createElement(t)}function svg_element(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function text(t){return document.createTextNode(t)}function space(){return text(" ")}function empty(){return text("")}function listen(t,e,n,i){return t.addEventListener(e,n,i),function(){return t.removeEventListener(e,n,i)}}function attr(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function set_attributes(t,e){var n=Object.getOwnPropertyDescriptors(t.__proto__);for(var i in e)null==e[i]?t.removeAttribute(i):"style"===i?t.style.cssText=e[i]:"__value"===i||n[i]&&n[i].set?t[i]=e[i]:attr(t,i,e[i])}function children(t){return Array.from(t.childNodes)}function toggle_class(t,e,n){t.classList[n?"add":"remove"](e)}function set_current_component(t){current_component=t}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(t){get_current_component().$$.on_mount.push(t)}function afterUpdate(t){get_current_component().$$.after_update.push(t)}var dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve(),update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(t){render_callbacks.push(t)}var flushing=!1,seen_callbacks=new Set;function flush(){if(!flushing){flushing=!0;do{for(var t=0;t<dirty_components.length;t+=1){var e=dirty_components[t];set_current_component(e),update(e.$$)}for(dirty_components.length=0;binding_callbacks.length;)binding_callbacks.pop()();for(var n=0;n<render_callbacks.length;n+=1){var i=render_callbacks[n];seen_callbacks.has(i)||(seen_callbacks.add(i),i())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,flushing=!1,seen_callbacks.clear()}}function update(t){if(null!==t.fragment){t.update(),run_all(t.before_update);var e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(add_render_callback)}}var outroing=new Set,outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(t,e){t&&t.i&&(outroing.delete(t),t.i(e))}function transition_out(t,e,n,i){if(t&&t.o){if(outroing.has(t))return;outroing.add(t),outros.c.push((function(){outroing.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}function get_spread_update(t,e){for(var n={},i={},o={$$scope:1},a=t.length;a--;){var r=t[a],s=e[a];if(s){for(var l in r)l in s||(i[l]=1);for(var c in s)o[c]||(n[c]=s[c],o[c]=1);t[a]=s}else for(var d in r)o[d]=1}for(var p in i)p in n||(n[p]=void 0);return n}function create_component(t){t&&t.c()}function mount_component(t,e,n){var i=t.$$,o=i.fragment,a=i.on_mount,r=i.on_destroy,s=i.after_update;o&&o.m(e,n),add_render_callback((function(){var e=a.map(run).filter(is_function);r?r.push.apply(r,e):run_all(e),t.$$.on_mount=[]})),s.forEach(add_render_callback)}function destroy_component(t,e){var n=t.$$;null!==n.fragment&&(run_all(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function make_dirty(t,e){-1===t.$$.dirty[0]&&(dirty_components.push(t),schedule_update(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function init(t,e,n,i,o,a,r){void 0===r&&(r=[-1]);var s=current_component;set_current_component(t);var l=e.props||{},c=t.$$={fragment:null,ctx:null,props:a,update:noop,not_equal:o,bound:blank_object(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:blank_object(),dirty:r},d=!1;if(c.ctx=n?n(t,l,(function(e,n){var i=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return c.ctx&&o(c.ctx[e],c.ctx[e]=i)&&(c.bound[e]&&c.bound[e](i),d&&make_dirty(t,e)),n})):[],c.update(),d=!0,run_all(c.before_update),c.fragment=!!i&&i(c.ctx),e.target){if(e.hydrate){var p=children(e.target);c.fragment&&c.fragment.l(p),p.forEach(detach)}else c.fragment&&c.fragment.c();e.intro&&transition_in(t.$$.fragment),mount_component(t,e.target,e.anchor),flush()}set_current_component(s)}var SvelteComponent=function(){function t(){}var e=t.prototype;return e.$destroy=function(){destroy_component(this,1),this.$destroy=noop},e.$on=function(t,e){var n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}},e.$set=function(){},t}();function create_fragment(t){var e,n,i,o;return{c:function(){attr(e=element("button"),"aria-label",n=t[4]?t[4]:null),attr(e,"class",i=(t[1]||"")+" shepherd-button "+(t[2]?"shepherd-button-secondary":"")),e.disabled=t[5],attr(e,"tabindex","0")},m:function(n,i,a){insert(n,e,i),e.innerHTML=t[3],a&&o(),o=listen(e,"click",(function(){is_function(t[0])&&t[0].apply(this,arguments)}))},p:function(o,a){var r=a[0];t=o,8&r&&(e.innerHTML=t[3]),16&r&&n!==(n=t[4]?t[4]:null)&&attr(e,"aria-label",n),6&r&&i!==(i=(t[1]||"")+" shepherd-button "+(t[2]?"shepherd-button-secondary":""))&&attr(e,"class",i),32&r&&(e.disabled=t[5])},i:noop,o:noop,d:function(t){t&&detach(e),o()}}}function instance(t,e,n){var i,o,a,r,s,l,c=e.config,d=e.step;return t.$set=function(t){"config"in t&&n(6,c=t.config),"step"in t&&n(7,d=t.step)},t.$$.update=function(){192&t.$$.dirty&&(n(0,i=c.action?c.action.bind(d.tour):null),n(1,o=c.classes),n(2,a=c.secondary),n(3,r=c.text),n(4,s=c.label),n(5,l=!!c.disabled&&function(t){return isFunction(t)?t.call(d):t}(c.disabled)))},[i,o,a,r,s,l,c,d]}var Shepherd_button=function(t){function e(e){var n;return init(_assertThisInitialized$1(n=t.call(this)||this),e,instance,create_fragment,safe_not_equal,{config:6,step:7}),n}return _inheritsLoose(e,t),e}(SvelteComponent);function get_each_context(t,e,n){var i=t.slice();return i[2]=e[n],i}function create_if_block(t){for(var e,n,i=t[1],o=[],a=0;a<i.length;a+=1)o[a]=create_each_block(get_each_context(t,i,a));var r=function(t){return transition_out(o[t],1,1,(function(){o[t]=null}))};return{c:function(){for(var t=0;t<o.length;t+=1)o[t].c();e=empty()},m:function(t,i){for(var a=0;a<o.length;a+=1)o[a].m(t,i);insert(t,e,i),n=!0},p:function(t,n){if(3&n){var a;for(i=t[1],a=0;a<i.length;a+=1){var s=get_each_context(t,i,a);o[a]?(o[a].p(s,n),transition_in(o[a],1)):(o[a]=create_each_block(s),o[a].c(),transition_in(o[a],1),o[a].m(e.parentNode,e))}for(group_outros(),a=i.length;a<o.length;a+=1)r(a);check_outros()}},i:function(t){if(!n){for(var e=0;e<i.length;e+=1)transition_in(o[e]);n=!0}},o:function(t){o=o.filter(Boolean);for(var e=0;e<o.length;e+=1)transition_out(o[e]);n=!1},d:function(t){destroy_each(o,t),t&&detach(e)}}}function create_each_block(t){var e,n=new Shepherd_button({props:{config:t[2],step:t[0]}});return{c:function(){create_component(n.$$.fragment)},m:function(t,i){mount_component(n,t,i),e=!0},p:function(t,e){var i={};2&e&&(i.config=t[2]),1&e&&(i.step=t[0]),n.$set(i)},i:function(t){e||(transition_in(n.$$.fragment,t),e=!0)},o:function(t){transition_out(n.$$.fragment,t),e=!1},d:function(t){destroy_component(n,t)}}}function create_fragment$1(t){var e,n,i=t[1]&&create_if_block(t);return{c:function(){e=element("footer"),i&&i.c(),attr(e,"class","shepherd-footer")},m:function(t,o){insert(t,e,o),i&&i.m(e,null),n=!0},p:function(t,n){var o=n[0];t[1]?i?(i.p(t,o),transition_in(i,1)):((i=create_if_block(t)).c(),transition_in(i,1),i.m(e,null)):i&&(group_outros(),transition_out(i,1,1,(function(){i=null})),check_outros())},i:function(t){n||(transition_in(i),n=!0)},o:function(t){transition_out(i),n=!1},d:function(t){t&&detach(e),i&&i.d()}}}function instance$1(t,e,n){var i,o=e.step;return t.$set=function(t){"step"in t&&n(0,o=t.step)},t.$$.update=function(){1&t.$$.dirty&&n(1,i=o.options.buttons)},[o,i]}var Shepherd_footer=function(t){function e(e){var n;return init(_assertThisInitialized$1(n=t.call(this)||this),e,instance$1,create_fragment$1,safe_not_equal,{step:0}),n}return _inheritsLoose(e,t),e}(SvelteComponent);function create_fragment$2(t){var e,n,i,o;return{c:function(){e=element("button"),(n=element("span")).textContent="Ã—",attr(n,"aria-hidden","true"),attr(e,"aria-label",i=t[0].label?t[0].label:"Close Tour"),attr(e,"class","shepherd-cancel-icon"),attr(e,"type","button")},m:function(i,a,r){insert(i,e,a),append(e,n),r&&o(),o=listen(e,"click",t[1])},p:function(t,n){1&n[0]&&i!==(i=t[0].label?t[0].label:"Close Tour")&&attr(e,"aria-label",i)},i:noop,o:noop,d:function(t){t&&detach(e),o()}}}function instance$2(t,e,n){var i=e.cancelIcon,o=e.step;return t.$set=function(t){"cancelIcon"in t&&n(0,i=t.cancelIcon),"step"in t&&n(2,o=t.step)},[i,function(t){t.preventDefault(),o.cancel()},o]}var Shepherd_cancel_icon=function(t){function e(e){var n;return init(_assertThisInitialized$1(n=t.call(this)||this),e,instance$2,create_fragment$2,safe_not_equal,{cancelIcon:0,step:2}),n}return _inheritsLoose(e,t),e}(SvelteComponent);function create_fragment$3(t){var e;return{c:function(){attr(e=element("h3"),"id",t[1]),attr(e,"class","shepherd-title")},m:function(n,i){insert(n,e,i),t[3](e)},p:function(t,n){2&n[0]&&attr(e,"id",t[1])},i:noop,o:noop,d:function(n){n&&detach(e),t[3](null)}}}function instance$3(t,e,n){var i=e.labelId,o=e.element,a=e.title;return afterUpdate((function(){isFunction(a)&&n(2,a=a()),n(0,o.innerHTML=a,o)})),t.$set=function(t){"labelId"in t&&n(1,i=t.labelId),"element"in t&&n(0,o=t.element),"title"in t&&n(2,a=t.title)},[o,i,a,function(t){binding_callbacks[t?"unshift":"push"]((function(){n(0,o=t)}))}]}var Shepherd_title=function(t){function e(e){var n;return init(_assertThisInitialized$1(n=t.call(this)||this),e,instance$3,create_fragment$3,safe_not_equal,{labelId:1,element:0,title:2}),n}return _inheritsLoose(e,t),e}(SvelteComponent);function create_if_block_1(t){var e,n=new Shepherd_title({props:{labelId:t[0],title:t[2]}});return{c:function(){create_component(n.$$.fragment)},m:function(t,i){mount_component(n,t,i),e=!0},p:function(t,e){var i={};1&e&&(i.labelId=t[0]),4&e&&(i.title=t[2]),n.$set(i)},i:function(t){e||(transition_in(n.$$.fragment,t),e=!0)},o:function(t){transition_out(n.$$.fragment,t),e=!1},d:function(t){destroy_component(n,t)}}}function create_if_block$1(t){var e,n=new Shepherd_cancel_icon({props:{cancelIcon:t[3],step:t[1]}});return{c:function(){create_component(n.$$.fragment)},m:function(t,i){mount_component(n,t,i),e=!0},p:function(t,e){var i={};8&e&&(i.cancelIcon=t[3]),2&e&&(i.step=t[1]),n.$set(i)},i:function(t){e||(transition_in(n.$$.fragment,t),e=!0)},o:function(t){transition_out(n.$$.fragment,t),e=!1},d:function(t){destroy_component(n,t)}}}function create_fragment$4(t){var e,n,i,o=t[2]&&create_if_block_1(t),a=t[3]&&t[3].enabled&&create_if_block$1(t);return{c:function(){e=element("header"),o&&o.c(),n=space(),a&&a.c(),attr(e,"class","shepherd-header")},m:function(t,r){insert(t,e,r),o&&o.m(e,null),append(e,n),a&&a.m(e,null),i=!0},p:function(t,i){var r=i[0];t[2]?o?(o.p(t,r),transition_in(o,1)):((o=create_if_block_1(t)).c(),transition_in(o,1),o.m(e,n)):o&&(group_outros(),transition_out(o,1,1,(function(){o=null})),check_outros()),t[3]&&t[3].enabled?a?(a.p(t,r),transition_in(a,1)):((a=create_if_block$1(t)).c(),transition_in(a,1),a.m(e,null)):a&&(group_outros(),transition_out(a,1,1,(function(){a=null})),check_outros())},i:function(t){i||(transition_in(o),transition_in(a),i=!0)},o:function(t){transition_out(o),transition_out(a),i=!1},d:function(t){t&&detach(e),o&&o.d(),a&&a.d()}}}function instance$4(t,e,n){var i,o,a=e.labelId,r=e.step;return t.$set=function(t){"labelId"in t&&n(0,a=t.labelId),"step"in t&&n(1,r=t.step)},t.$$.update=function(){2&t.$$.dirty&&(n(2,i=r.options.title),n(3,o=r.options.cancelIcon))},[a,r,i,o]}var Shepherd_header=function(t){function e(e){var n;return init(_assertThisInitialized$1(n=t.call(this)||this),e,instance$4,create_fragment$4,safe_not_equal,{labelId:0,step:1}),n}return _inheritsLoose(e,t),e}(SvelteComponent);function create_fragment$5(t){var e;return{c:function(){attr(e=element("div"),"class","shepherd-text"),attr(e,"id",t[1])},m:function(n,i){insert(n,e,i),t[3](e)},p:function(t,n){2&n[0]&&attr(e,"id",t[1])},i:noop,o:noop,d:function(n){n&&detach(e),t[3](null)}}}function instance$5(t,e,n){var i=e.descriptionId,o=e.element,a=e.step;return afterUpdate((function(){var t=a.options.text;isFunction(t)&&(t=t.call(a)),isElement(t)?o.appendChild(t):n(0,o.innerHTML=t,o)})),t.$set=function(t){"descriptionId"in t&&n(1,i=t.descriptionId),"element"in t&&n(0,o=t.element),"step"in t&&n(2,a=t.step)},[o,i,a,function(t){binding_callbacks[t?"unshift":"push"]((function(){n(0,o=t)}))}]}var Shepherd_text=function(t){function e(e){var n;return init(_assertThisInitialized$1(n=t.call(this)||this),e,instance$5,create_fragment$5,safe_not_equal,{descriptionId:1,element:0,step:2}),n}return _inheritsLoose(e,t),e}(SvelteComponent);function create_if_block_2(t){var e,n=new Shepherd_header({props:{labelId:t[1],step:t[2]}});return{c:function(){create_component(n.$$.fragment)},m:function(t,i){mount_component(n,t,i),e=!0},p:function(t,e){var i={};2&e&&(i.labelId=t[1]),4&e&&(i.step=t[2]),n.$set(i)},i:function(t){e||(transition_in(n.$$.fragment,t),e=!0)},o:function(t){transition_out(n.$$.fragment,t),e=!1},d:function(t){destroy_component(n,t)}}}function create_if_block_1$1(t){var e,n=new Shepherd_text({props:{descriptionId:t[0],step:t[2]}});return{c:function(){create_component(n.$$.fragment)},m:function(t,i){mount_component(n,t,i),e=!0},p:function(t,e){var i={};1&e&&(i.descriptionId=t[0]),4&e&&(i.step=t[2]),n.$set(i)},i:function(t){e||(transition_in(n.$$.fragment,t),e=!0)},o:function(t){transition_out(n.$$.fragment,t),e=!1},d:function(t){destroy_component(n,t)}}}function create_if_block$2(t){var e,n=new Shepherd_footer({props:{step:t[2]}});return{c:function(){create_component(n.$$.fragment)},m:function(t,i){mount_component(n,t,i),e=!0},p:function(t,e){var i={};4&e&&(i.step=t[2]),n.$set(i)},i:function(t){e||(transition_in(n.$$.fragment,t),e=!0)},o:function(t){transition_out(n.$$.fragment,t),e=!1},d:function(t){destroy_component(n,t)}}}function create_fragment$6(t){var e,n,i,o,a=!isUndefined(t[2].options.title)||t[2].options.cancelIcon&&t[2].options.cancelIcon.enabled,r=!isUndefined(t[2].options.text),s=Array.isArray(t[2].options.buttons)&&t[2].options.buttons.length,l=a&&create_if_block_2(t),c=r&&create_if_block_1$1(t),d=s&&create_if_block$2(t);return{c:function(){e=element("div"),l&&l.c(),n=space(),c&&c.c(),i=space(),d&&d.c(),attr(e,"class","shepherd-content")},m:function(t,a){insert(t,e,a),l&&l.m(e,null),append(e,n),c&&c.m(e,null),append(e,i),d&&d.m(e,null),o=!0},p:function(t,o){var p=o[0];4&p&&(a=!isUndefined(t[2].options.title)||t[2].options.cancelIcon&&t[2].options.cancelIcon.enabled),a?l?(l.p(t,p),transition_in(l,1)):((l=create_if_block_2(t)).c(),transition_in(l,1),l.m(e,n)):l&&(group_outros(),transition_out(l,1,1,(function(){l=null})),check_outros()),4&p&&(r=!isUndefined(t[2].options.text)),r?c?(c.p(t,p),transition_in(c,1)):((c=create_if_block_1$1(t)).c(),transition_in(c,1),c.m(e,i)):c&&(group_outros(),transition_out(c,1,1,(function(){c=null})),check_outros()),4&p&&(s=Array.isArray(t[2].options.buttons)&&t[2].options.buttons.length),s?d?(d.p(t,p),transition_in(d,1)):((d=create_if_block$2(t)).c(),transition_in(d,1),d.m(e,null)):d&&(group_outros(),transition_out(d,1,1,(function(){d=null})),check_outros())},i:function(t){o||(transition_in(l),transition_in(c),transition_in(d),o=!0)},o:function(t){transition_out(l),transition_out(c),transition_out(d),o=!1},d:function(t){t&&detach(e),l&&l.d(),c&&c.d(),d&&d.d()}}}function instance$6(t,e,n){var i=e.descriptionId,o=e.labelId,a=e.step;return t.$set=function(t){"descriptionId"in t&&n(0,i=t.descriptionId),"labelId"in t&&n(1,o=t.labelId),"step"in t&&n(2,a=t.step)},[i,o,a]}var Shepherd_content=function(t){function e(e){var n;return init(_assertThisInitialized$1(n=t.call(this)||this),e,instance$6,create_fragment$6,safe_not_equal,{descriptionId:0,labelId:1,step:2}),n}return _inheritsLoose(e,t),e}(SvelteComponent);function create_if_block$3(t){var e;return{c:function(){attr(e=element("div"),"class","shepherd-arrow"),attr(e,"data-popper-arrow","")},m:function(t,n){insert(t,e,n)},d:function(t){t&&detach(e)}}}function create_fragment$7(t){for(var e,n,i,o,a=t[4].options.arrow&&t[4].options.attachTo&&t[4].options.attachTo.element&&create_if_block$3(),r=new Shepherd_content({props:{descriptionId:t[2],labelId:t[3],step:t[4]}}),s=[{"aria-describedby":isUndefined(t[4].options.text)?null:t[2]},{"aria-labelledby":t[4].options.title?t[3]:null},t[1],{role:"dialog"},{tabindex:"0"}],l={},c=0;c<s.length;c+=1)l=assign(l,s[c]);return{c:function(){e=element("div"),a&&a.c(),n=space(),create_component(r.$$.fragment),set_attributes(e,l),toggle_class(e,"shepherd-has-cancel-icon",t[5]),toggle_class(e,"shepherd-has-title",t[6]),toggle_class(e,"shepherd-element",!0)},m:function(s,l,c){insert(s,e,l),a&&a.m(e,null),append(e,n),mount_component(r,e,null),t[17](e),i=!0,c&&o(),o=listen(e,"keydown",t[7])},p:function(t,i){var o=i[0];t[4].options.arrow&&t[4].options.attachTo&&t[4].options.attachTo.element?a||((a=create_if_block$3()).c(),a.m(e,n)):a&&(a.d(1),a=null);var l={};4&o&&(l.descriptionId=t[2]),8&o&&(l.labelId=t[3]),16&o&&(l.step=t[4]),r.$set(l),set_attributes(e,get_spread_update(s,[20&o&&{"aria-describedby":isUndefined(t[4].options.text)?null:t[2]},24&o&&{"aria-labelledby":t[4].options.title?t[3]:null},2&o&&t[1],{role:"dialog"},{tabindex:"0"}])),toggle_class(e,"shepherd-has-cancel-icon",t[5]),toggle_class(e,"shepherd-has-title",t[6]),toggle_class(e,"shepherd-element",!0)},i:function(t){i||(transition_in(r.$$.fragment,t),i=!0)},o:function(t){transition_out(r.$$.fragment,t),i=!1},d:function(n){n&&detach(e),a&&a.d(),destroy_component(r),t[17](null),o()}}}var KEY_TAB=9,KEY_ESC=27,LEFT_ARROW=37,RIGHT_ARROW=39;function getClassesArray(t){return t.split(" ").filter((function(t){return!!t.length}))}function instance$7(t,e,n){var i,o,a,r=e.classPrefix,s=e.element,l=e.descriptionId,c=e.firstFocusableElement,d=e.focusableElements,p=e.labelId,h=e.lastFocusableElement,u=e.step,m=e.dataStepId;function g(){f(a),v(a=u.options.classes)}function f(t){if(isString(t)){var e,n=getClassesArray(t);if(n.length)(e=s.classList).remove.apply(e,n)}}function v(t){if(isString(t)){var e,n=getClassesArray(t);if(n.length)(e=s.classList).add.apply(e,n)}}onMount((function(){var t;n(1,((t={})["data-"+r+"shepherd-step-id"]=u.id,m=t)),n(9,d=s.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')),n(8,c=d[0]),n(10,h=d[d.length-1])})),afterUpdate((function(){a!==u.options.classes&&g()}));return t.$set=function(t){"classPrefix"in t&&n(11,r=t.classPrefix),"element"in t&&n(0,s=t.element),"descriptionId"in t&&n(2,l=t.descriptionId),"firstFocusableElement"in t&&n(8,c=t.firstFocusableElement),"focusableElements"in t&&n(9,d=t.focusableElements),"labelId"in t&&n(3,p=t.labelId),"lastFocusableElement"in t&&n(10,h=t.lastFocusableElement),"step"in t&&n(4,u=t.step),"dataStepId"in t&&n(1,m=t.dataStepId)},t.$$.update=function(){16&t.$$.dirty&&(n(5,i=u.options&&u.options.cancelIcon&&u.options.cancelIcon.enabled),n(6,o=u.options&&u.options.title))},[s,m,l,p,u,i,o,function(t){var e=u.tour;switch(t.keyCode){case KEY_TAB:if(0===d.length){t.preventDefault();break}t.shiftKey?document.activeElement===c&&(t.preventDefault(),h.focus()):document.activeElement===h&&(t.preventDefault(),c.focus());break;case KEY_ESC:e.options.exitOnEsc&&u.cancel();break;case LEFT_ARROW:e.options.keyboardNavigation&&e.back();break;case RIGHT_ARROW:e.options.keyboardNavigation&&e.next()}},c,d,h,r,function(){return s},a,g,f,v,function(t){binding_callbacks[t?"unshift":"push"]((function(){n(0,s=t)}))}]}var Shepherd_element=function(t){function e(e){var n;return init(_assertThisInitialized$1(n=t.call(this)||this),e,instance$7,create_fragment$7,safe_not_equal,{classPrefix:11,element:0,descriptionId:2,firstFocusableElement:8,focusableElements:9,labelId:3,lastFocusableElement:10,step:4,dataStepId:1,getElement:12}),n}return _inheritsLoose(e,t),_createClass$1(e,[{key:"getElement",get:function(){return this.$$.ctx[12]}}]),e}(SvelteComponent);function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var smoothscroll=createCommonjsModule((function(t,e){t.exports={polyfill:function(){var t=window,e=document;if(!("scrollBehavior"in e.documentElement.style)||!0===t.__forceSmoothScrollPolyfill__){var n,i=t.HTMLElement||t.Element,o={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:i.prototype.scroll||s,scrollIntoView:i.prototype.scrollIntoView},a=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now,r=(n=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?m.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):o.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!==_typeof(arguments[0])?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(l(arguments[0])?o.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!==_typeof(arguments[0])?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):m.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},i.prototype.scroll=i.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==l(arguments[0])){var t=arguments[0].left,e=arguments[0].top;m.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!==_typeof(arguments[0])?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},i.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},i.prototype.scrollIntoView=function(){if(!0!==l(arguments[0])){var n=h(this),i=n.getBoundingClientRect(),a=this.getBoundingClientRect();n!==e.body?(m.call(this,n,n.scrollLeft+a.left-i.left,n.scrollTop+a.top-i.top),"fixed"!==t.getComputedStyle(n).position&&t.scrollBy({left:i.left,top:i.top,behavior:"smooth"})):t.scrollBy({left:a.left,top:a.top,behavior:"smooth"})}else o.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function s(t,e){this.scrollLeft=t,this.scrollTop=e}function l(t){if(null===t||"object"!==_typeof(t)||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"===_typeof(t)&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function c(t,e){return"Y"===e?t.clientHeight+r<t.scrollHeight:"X"===e?t.clientWidth+r<t.scrollWidth:void 0}function d(e,n){var i=t.getComputedStyle(e,null)["overflow"+n];return"auto"===i||"scroll"===i}function p(t){var e=c(t,"Y")&&d(t,"Y"),n=c(t,"X")&&d(t,"X");return e||n}function h(t){for(;t!==e.body&&!1===p(t);)t=t.parentNode||t.host;return t}function u(e){var n,i,o,r,s=(a()-e.startTime)/468;r=s=s>1?1:s,n=.5*(1-Math.cos(Math.PI*r)),i=e.startX+(e.x-e.startX)*n,o=e.startY+(e.y-e.startY)*n,e.method.call(e.scrollable,i,o),i===e.x&&o===e.y||t.requestAnimationFrame(u.bind(t,e))}function m(n,i,r){var l,c,d,p,h=a();n===e.body?(l=t,c=t.scrollX||t.pageXOffset,d=t.scrollY||t.pageYOffset,p=o.scroll):(l=n,c=n.scrollLeft,d=n.scrollTop,p=s),u({scrollable:l,method:p,startTime:h,startX:c,startY:d,x:i,y:r})}}}})),smoothscroll_1=smoothscroll.polyfill;smoothscroll.polyfill();var Step=function(t){function e(e,n){var i;return void 0===n&&(n={}),(i=t.call(this,e,n)||this).tour=e,i.classPrefix=i.tour.options?normalizePrefix(i.tour.options.classPrefix):"",i.styles=e.styles,autoBind(_assertThisInitialized$1(i)),i._setOptions(n),_assertThisInitialized$1(i)||_assertThisInitialized$1(i)}_inheritsLoose(e,t);var n=e.prototype;return n.cancel=function(){this.tour.cancel(),this.trigger("cancel")},n.complete=function(){this.tour.complete(),this.trigger("complete")},n.destroy=function(){this.tooltip&&(this.tooltip.destroy(),this.tooltip=null),isElement(this.el)&&this.el.parentNode&&(this.el.parentNode.removeChild(this.el),this.el=null),this.target&&this._updateStepTargetOnHide(),this.trigger("destroy")},n.getTour=function(){return this.tour},n.hide=function(){this.tour.modal.hide(),this.trigger("before-hide"),this.el&&(this.el.hidden=!0),this.target&&this._updateStepTargetOnHide(),this.trigger("hide")},n.isOpen=function(){return Boolean(this.el&&!this.el.hidden)},n.show=function(){var t=this;if(isFunction(this.options.beforeShowPromise)){var e=this.options.beforeShowPromise();if(!isUndefined(e))return e.then((function(){return t._show()}))}this._show()},n.updateStepOptions=function(t){Object.assign(this.options,t),this.shepherdElementComponent&&this.shepherdElementComponent.$set({step:this})},n._createTooltipContent=function(){var t=this.id+"-description",e=this.id+"-label";return this.shepherdElementComponent=new Shepherd_element({target:document.body,props:{classPrefix:this.classPrefix,descriptionId:t,labelId:e,step:this,styles:this.styles}}),this.shepherdElementComponent.getElement()},n._scrollTo=function(t){var e=parseAttachTo(this).element;isFunction(this.options.scrollToHandler)?this.options.scrollToHandler(e):isElement(e)&&"function"==typeof e.scrollIntoView&&e.scrollIntoView(t)},n._getClassOptions=function(t){var e=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions,n=t.classes?t.classes:"",i=e&&e.classes?e.classes:"",o=[].concat(n.split(" "),i.split(" ")),a=new Set(o);return Array.from(a).join(" ").trim()},n._setOptions=function(t){var e=this;void 0===t&&(t={});var n=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions;this.options=Object.assign({arrow:!0},n,t);var i=this.options.when;this.options.classes=this._getClassOptions(t),this.destroy(),this.id=this.options.id||"step-"+uuid(),i&&Object.keys(i).forEach((function(t){e.on(t,i[t],e)}))},n._setupElements=function(){isUndefined(this.el)||this.destroy(),this.el=this._createTooltipContent(),this.options.advanceOn&&bindAdvance(this),setupTooltip(this)},n._show=function(){var t=this;this.trigger("before-show"),this._setupElements(),this.tour.modal||this.tour._setupModal(),this.tour.modal.setupForStep(this),this._styleTargetElementForStep(this),this.el.hidden=!1,this.options.scrollTo&&setTimeout((function(){t._scrollTo(t.options.scrollTo)})),this.el.hidden=!1;var e=this.shepherdElementComponent.getElement(),n=this.target||document.body;n.classList.add(this.classPrefix+"shepherd-enabled"),n.classList.add(this.classPrefix+"shepherd-target"),e.classList.add("shepherd-enabled"),this.trigger("show")},n._styleTargetElementForStep=function(t){var e=t.target;e&&(t.options.highlightClass&&e.classList.add(t.options.highlightClass),!1===t.options.canClickTarget&&e.classList.add("shepherd-target-click-disabled"))},n._updateStepTargetOnHide=function(){this.options.highlightClass&&this.target.classList.remove(this.options.highlightClass),this.target.classList.remove(this.classPrefix+"shepherd-enabled",this.classPrefix+"shepherd-target")},e}(Evented);function cleanupSteps(t){t&&t.steps.forEach((function(t){t.options&&!1===t.options.canClickTarget&&t.options.attachTo&&t.target instanceof HTMLElement&&t.target.classList.remove("shepherd-target-click-disabled")}))}function makeOverlayPath(t){var e=t.width,n=t.height,i=t.x,o=void 0===i?0:i,a=t.y,r=void 0===a?0:a,s=t.r,l=void 0===s?0:s,c=window,d=c.innerWidth,p=c.innerHeight;return"M"+d+","+p+"H0V0H"+d+"V"+p+"ZM"+(o+l)+","+r+"a"+l+","+l+",0,0,0-"+l+","+l+"V"+(n+r-l)+"a"+l+","+l+",0,0,0,"+l+","+l+"H"+(e+o-l)+"a"+l+","+l+",0,0,0,"+l+"-"+l+"V"+(r+l)+"a"+l+","+l+",0,0,0-"+l+"-"+l+"Z"}function create_fragment$8(t){var e,n,i,o;return{c:function(){e=svg_element("svg"),attr(n=svg_element("path"),"d",t[2]),attr(e,"class",i=(t[1]?"shepherd-modal-is-visible":"")+" shepherd-modal-overlay-container")},m:function(i,a,r){insert(i,e,a),append(e,n),t[17](e),r&&o(),o=listen(e,"touchmove",t[3])},p:function(t,o){var a=o[0];4&a&&attr(n,"d",t[2]),2&a&&i!==(i=(t[1]?"shepherd-modal-is-visible":"")+" shepherd-modal-overlay-container")&&attr(e,"class",i)},i:noop,o:noop,d:function(n){n&&detach(e),t[17](null),o()}}}function _getScrollParent(t){if(!t)return null;var e=t instanceof HTMLElement&&window.getComputedStyle(t).overflowY;return"hidden"!==e&&"visible"!==e&&t.scrollHeight>=t.clientHeight?t:_getScrollParent(t.parentElement)}function _getVisibleHeight(t,e){var n=t.getBoundingClientRect(),i=n.y||n.top,o=n.bottom||i+n.height;if(e){var a=e.getBoundingClientRect(),r=a.y||a.top,s=a.bottom||r+a.height;i=Math.max(i,r),o=Math.min(o,s)}return{y:i,height:Math.max(o-i,0)}}function instance$8(t,e,n){var i,o=e.element,a=e.openingProperties,r=uuid(),s=!1,l=void 0;c();function c(){n(4,a={width:0,height:0,x:0,y:0,r:0})}function d(){n(1,s=!1),g()}function p(t,e,i,o){if(void 0===i&&(i=0),void 0===o&&(o=0),t.getBoundingClientRect){var r=_getVisibleHeight(t,e),s=r.y,l=r.height,c=t.getBoundingClientRect(),d=c.x,p=c.width,h=c.left;n(4,a={width:p+2*i,height:l+2*i,x:(d||h)-i,y:s-i,r:o})}}function h(){n(1,s=!0)}var u=function(t){t.preventDefault()};function m(){window.addEventListener("touchmove",u,{passive:!1})}function g(){l&&(cancelAnimationFrame(l),l=void 0),window.removeEventListener("touchmove",u,{passive:!1})}function f(t){var e=t.options,n=e.modalOverlayOpeningPadding,i=e.modalOverlayOpeningRadius;if(t.target){var o=_getScrollParent(t.target);!function e(){l=void 0,p(t.target,o,n,i),l=requestAnimationFrame(e)}(),m()}else c()}return t.$set=function(t){"element"in t&&n(0,o=t.element),"openingProperties"in t&&n(4,a=t.openingProperties)},t.$$.update=function(){16&t.$$.dirty&&n(2,i=makeOverlayPath(a))},[o,s,i,function(t){t.stopPropagation()},a,function(){return o},c,d,p,function(t){g(),t.tour.options.useModalOverlay?(f(t),h()):d()},h,l,r,u,m,g,f,function(t){binding_callbacks[t?"unshift":"push"]((function(){n(0,o=t)}))}]}var Shepherd_modal=function(t){function e(e){var n;return init(_assertThisInitialized$1(n=t.call(this)||this),e,instance$8,create_fragment$8,safe_not_equal,{element:0,openingProperties:4,getElement:5,closeModalOpening:6,hide:7,positionModalOpening:8,setupForStep:9,show:10}),n}return _inheritsLoose(e,t),_createClass$1(e,[{key:"getElement",get:function(){return this.$$.ctx[5]}},{key:"closeModalOpening",get:function(){return this.$$.ctx[6]}},{key:"hide",get:function(){return this.$$.ctx[7]}},{key:"positionModalOpening",get:function(){return this.$$.ctx[8]}},{key:"setupForStep",get:function(){return this.$$.ctx[9]}},{key:"show",get:function(){return this.$$.ctx[10]}}]),e}(SvelteComponent),Shepherd=new Evented,Tour=function(t){function e(e){var n;void 0===e&&(e={}),autoBind(_assertThisInitialized$1(n=t.call(this,e)||this));n.options=Object.assign({},{exitOnEsc:!0,keyboardNavigation:!0},e),n.classPrefix=normalizePrefix(n.options.classPrefix),n.steps=[],n.addSteps(n.options.steps);return["active","cancel","complete","inactive","show","start"].map((function(t){var e;e=t,n.on(e,(function(t){(t=t||{}).tour=_assertThisInitialized$1(n),Shepherd.trigger(e,t)}))})),n._setTourID(),_assertThisInitialized$1(n)||_assertThisInitialized$1(n)}_inheritsLoose(e,t);var n=e.prototype;return n.addStep=function(t,e){var n=t;return n instanceof Step?n.tour=this:n=new Step(this,n),isUndefined(e)?this.steps.push(n):this.steps.splice(e,0,n),n},n.addSteps=function(t){var e=this;return Array.isArray(t)&&t.forEach((function(t){e.addStep(t)})),this},n.back=function(){var t=this.steps.indexOf(this.currentStep);this.show(t-1,!1)},n.cancel=function(){if(this.options.confirmCancel){var t=this.options.confirmCancelMessage||"Are you sure you want to stop the tour?";window.confirm(t)&&this._done("cancel")}else this._done("cancel")},n.complete=function(){this._done("complete")},n.getById=function(t){return this.steps.find((function(e){return e.id===t}))},n.getCurrentStep=function(){return this.currentStep},n.hide=function(){var t=this.getCurrentStep();if(t)return t.hide()},n.isActive=function(){return Shepherd.activeTour===this},n.next=function(){var t=this.steps.indexOf(this.currentStep);t===this.steps.length-1?this.complete():this.show(t+1,!0)},n.removeStep=function(t){var e=this,n=this.getCurrentStep();this.steps.some((function(n,i){if(n.id===t)return n.isOpen()&&n.hide(),n.destroy(),e.steps.splice(i,1),!0})),n&&n.id===t&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())},n.show=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!0);var n=isString(t)?this.getById(t):this.steps[t];n&&(this._updateStateBeforeShow(),isFunction(n.options.showOn)&&!n.options.showOn()?this._skipStep(n,e):(this.trigger("show",{step:n,previous:this.currentStep}),this.currentStep=n,n.show()))},n.start=function(){this.trigger("start"),this.focusedElBeforeOpen=document.activeElement,this.currentStep=null,this._setupModal(),this._setupActiveTour(),this.next()},n._done=function(t){var e=this.steps.indexOf(this.currentStep);if(Array.isArray(this.steps)&&this.steps.forEach((function(t){return t.destroy()})),cleanupSteps(this),this.trigger(t,{index:e}),Shepherd.activeTour=null,this.trigger("inactive",{tour:this}),this.modal&&this.modal.hide(),("cancel"===t||"complete"===t)&&this.modal){var n=document.querySelector(".shepherd-modal-overlay-container");n&&n.remove()}isElement(this.focusedElBeforeOpen)&&this.focusedElBeforeOpen.focus()},n._setupActiveTour=function(){this.trigger("active",{tour:this}),Shepherd.activeTour=this},n._setupModal=function(){this.modal=new Shepherd_modal({target:this.options.modalContainer||document.body,props:{classPrefix:this.classPrefix,styles:this.styles}})},n._skipStep=function(t,e){var n=this.steps.indexOf(t),i=e?n+1:n-1;this.show(i,e)},n._updateStateBeforeShow=function(){this.currentStep&&this.currentStep.hide(),this.isActive()||this._setupActiveTour()},n._setTourID=function(){var t=this.options.tourName||"tour";this.id=t+"--"+uuid()},e}(Evented);Object.assign(Shepherd,{Tour:Tour,Step:Step});var CENTER="center",CLOSE_BUTTON_STYLE={NORMAL:"normal",FILL:"filled"},INAPP_POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_CENTER:"top-center",BOTTOM_CENTER:"bottom-center",CENTER:"center",FULL_SCREEN:"full-screen",LEFT:"left",RIGHT:"right"},imgWrapperStyles={"margin-left":"marginLeft","margin-right":"marginRight","margin-top":"marginTop","margin-bottom":"marginBottom","align-self":"alignSelf",width:"width"},imgWrapperStylesForStories={"margin-left":"marginLeft","margin-right":"marginRight","margin-top":"marginTop","margin-bottom":"marginBottom","align-self":"alignSelf",width:"width"},DIRECTION={HORIZONTAL:"horizontal",VERTICAL:"vertical"},EVENT_PREFIX={INAPP:"InApp_",INLINE:"InLine_",SURVEY:"Survey_"},COLORS={BLACK:"#000000",WHITE:"#ffffff"},BUTTON_CONTAINER_POSITION={TOP:"top",CENTER:"center",BOTTOM:"bottom",SURVEY_BOTTOM:"survey_button"},VIDEOS_MODES={PLAYER:"mini",PIP:"PIP"},SCROLL_BEHAVIOUR={SMOOTH:"smooth"},CAROUSEL_TYPE={NUMBER:"number",CAROUSEL:"carousel"},EMBED_CARD_TYPE={cell:"div",img:"img",text:"span",button:"button",cta_button:"button"},BUILDER_TEMPLATE_NODE_TYPES={cell:"div",img:"img",text:"div",button:"button",cta_button:"button"},CROSS_ICON_SVG='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" style="border-radius: inherit; width: 100%; height: 100%;"><path stroke="none" d="M0 0h24v24H0z" fill="current-color"></path><path d="M18 6l-12 12"></path><path d="M6 6l12 12"></path></svg>',isUndefined$1=function(t){return void 0===t},isNull=function(t){return null===t},isDefined=function(t){return void 0!==t&&!isNull(t)},isElementInViewport=function(t){var e=t.offsetHeight,n=t.offsetWidth,i=t.getBoundingClientRect();return i.left>=-n&&i.top>=-e&&parseInt(i.right)<=(window.innerWidth===document.documentElement.clientWidth?window.innerWidth:document.documentElement.clientWidth+n)&&parseInt(i.bottom)<=(window.innerHeight===document.documentElement.clientHeight?window.innerHeight:document.documentElement.clientHeight+e)},getFontMultiplier=function(){var t=document.querySelector("meta[name='viewport']");if(t){var e,n,i=null!==(e=null===(n=t.getAttribute("content"))||void 0===n?void 0:n.split(","))&&void 0!==e?e:[],o=1;if(i.forEach((function(t,e,n){0===t.trimStart().indexOf("initial-scale")&&(o=parseFloat(t.split("=")[1]))})),o)return 1/o}return 1};function deepGet(t,e,n){return null==t?n:0===e.length?t:deepGet(t[e[0]],e.slice(1),n)}var convertTheDirectionCode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(t){case"H":return"horizontal";case"V":return"vertical";default:return t}},convertThePositionCode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(t){case"TL":return"top-left";case"TC":case"T":return"top-center";case"TR":return"top-right";case"L":return"left";case"C":return"center";case"R":return"right";case"BL":return"bottom-left";case"BC":case"B":return"bottom-center";case"BR":return"bottom-right";default:return t}},_setFontFaceAtRule=function(t){if(!t.source||"url"===t.source||"name"===t.source)return[t.family,""];var e,n=t.family;"res"===t.source?e="file:///android_res/".concat(n):"assets"===t.source?e="file:///android_asset/".concat(n):"path"===t.source&&(e=t.family),n=t.family.split("/").pop().replace(/[^A-Za-z0-9]/g,"");var i="\n  @font-face {\n    font-family: ".concat(n,";\n    src: url(").concat(e,");\n  }");return["".concat(n,", ").concat("sans-serif"),i]},createNewTextElement=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"desc",i=document.createElement("span");i.setAttribute("id",e+"-"+n),i.className="apx-class-".concat(e,"-").concat(n);var o=document.createElement("style"),a=_setFontFaceAtRule(t.font);return o.innerHTML="\n    ".concat(a[1],"\n\n    .apx-class-").concat(e,"-").concat(n," {\n      z-index:99999;\n      color:").concat(t.color," !important;\n      font-family:").concat(a[0]," !important;\n      font-size:").concat(t.font.size,"px !important;\n      font-weight:").concat(t.font.weight," !important;\n      font-style:").concat("normal"===t.font.style||"italic"===t.font.style?t.font.style+" !important":"unset",";\n    }\n  "),i.appendChild(o),i.appendChild(getStylisedText(t.text,t.segments,t.quote,t.link_config)),i},getStylisedText=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=document.createElement("span");if(0==e.length?o.innerText=addLinksToText(t,i):e.forEach((function(e){var n=parseInt(e.start),a=parseInt(e.end),r=t.substring(n,a),s="";e.color&&(s="".concat(s,"color:").concat(e.color,";")),e.font_family&&(s="".concat(s,"font-family:").concat(e.font_family,";")),e.size&&(s="".concat(s,"font-size:").concat(e.size,"px;")),"italic"===e.style&&(s="".concat(s,"font-style:").concat(e.style,";")),"bold"===e.style&&(s="".concat(s,"font-weight:").concat(e.style,";")),"normal"===e.style&&(s="".concat(s,"font-weight:").concat(e.style,";")),1==e.underline&&(s="".concat(s,"text-decoration:underline;")),1==e.strike_through&&(s="".concat(s,"text-decoration:line-through;")),"super"==e.script&&(s="".concat(s,"vertical-align:super;")),"sub"==e.script&&(s="".concat(s,"vertical-align:sub;")),e.bg_color&&(s="".concat(s,"background-color:").concat(e.bg_color,";"));var l=document.createElement("span");l.style=s,l.innerHTML=addLinksToText(r,i),o.appendChild(l)})),void 0!==n){var a=document.createElement("blockquote"),r="";return n.color&&(r="border-left-color:".concat(n.color,";")),n.width&&(r="".concat(r,"border-left-width:").concat(n.width,"px;")),n.gap&&(r="".concat(r,"padding:").concat(n.gap,"px;")),a.appendChild(o),a.style=r,a}return o},addLinksToText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t;return e.forEach((function(e){e.text===t&&(n='<a style="text-decoration: none;" target="_blank" href="'.concat(e.url,'">').concat(t,"</a>"))})),n},makeid=function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length,o=0;o<t;o++)e+=n.charAt(Math.floor(Math.random()*i));return e},getHeightWidthFromResolution=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0,o=0;try{var a=t.width,r=void 0===a?360:a,s=t.height,l=void 0===s?360:s,c=l/r,d=window.innerWidth,p=window.innerHeight;n?(o=(i=p*e)/c)>.7*d&&(i=(o=.7*d)*c):(i=(o=d*e)*c)>.7*p&&(o=(i=.7*p)/c)}catch(t){console.log("Error \n ".concat(t," \n occured while calculating the height and width"))}return{height:i,width:o}},generateButtonsBlock=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:EVENT_PREFIX.INAPP,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,r=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{},d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"center",h=arguments.length>12&&void 0!==arguments[12]?arguments[12]:1,u=arguments.length>13&&void 0!==arguments[13]?arguments[13]:-1,m=document.createElement("div");m.className="".concat(r,"-buttons-container"),m.style.zIndex=99999999;var g=generateButtonsFromConfig(o,s,t,e,i,r,l,c,d,u),f=g.buttons_array,v=g.buttons_css;v.fontMultiplier=h;var _=document.createElement("style");return _.innerHTML=getButtonsCSSFromConfig(n,v,a,r,p),m.appendChild(_),f.forEach((function(t){var e=t.classes,i=t.type,o=t.sub_type,a=t.text,r=t.action,s=document.createElement("div");if(s.className="button-div "+e,"stepper"===i){var l=document.createElement("div");l.className=i+"-"+o,l.innerHTML=setCarousel(o,n),s.appendChild(l)}else{var c=document.createElement("button");c.className=e,c.innerHTML=a,s.appendChild(c),s.onclick=function(){return r()}}m.appendChild(s)})),m},getAnimationValue=function(t){return 50===t?10:16},translateDir=function(t,e){switch(t.toLowerCase()){case"top":case"top-start":case"top-end":return"translateY(".concat(getAnimationValue(e)-26,"px)");case"right":case"right-start":case"right-end":return"translateX(".concat(getAnimationValue(e),"px)");case"bottom":case"bottom-start":case"bottom-end":return"translateY(".concat(getAnimationValue(e),"px)");case"left":case"left-start":case"left-end":return"translateX(".concat(getAnimationValue(e)-26,"px)")}},getButtonsCSSFromConfig=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"center",a="",r=0,s=0;s=i===BUTTON_CONTAINER_POSITION.TOP?3:i===BUTTON_CONTAINER_POSITION.BOTTOM?5:i===BUTTON_CONTAINER_POSITION.SURVEY_BOTTOM?3:1;var l,c={},d={};t.enable_numbered&&(c=t.numbered,d=null===(l=c)||void 0===l?void 0:l.font);var p="space-between",h=e.fontMultiplier;return e.forEach((function(t,o){var l,u,m,g,f=t.slot,v=t.type,_=t.sub_type,b=t.bg_color,y=t.text_color,x=t.size,w=t.style,C=t.weight,E=t.font_family,k=t.enable_border,T=t.border,A=T.width,O=T.color,S=T.radius,I=T.style,P=t.enable_margin,L=t.margin,M=L.bottom,N=L.left,$=L.right,R=L.top,D=t.enable_padding,B=t.padding,F=B.bottom,V=B.left,H=B.right,W=B.top,j=t.text_margin,z=j.bottom,U=j.left,q=j.right,Y=j.top,G=t.text_padding,X=G.bottom,K=G.left,Z=G.right,J=G.top,Q=t.enable_gradient,tt=t.gradient,et=void 0===tt?{}:tt,nt=t.custom_font,it=void 0===nt?"":nt;Q&&(u=et.direction||"to right",m=et.colors[0]||COLORS.BLACK,g=et.colors[1]||COLORS.WHITE);var ot=!1,at=!1;if(null!==(l="vertical"!==n)&&void 0!==l?l:i!==BUTTON_CONTAINER_POSITION.BOTTOM){var rt,st=(null===(rt=e[o+1])||void 0===rt?void 0:rt.slot)||s+1;2===e.length&&(2===f&&3===st||4===f&&3===r||3===f&&(2===r||4===st))?p="center":(f-r>1&&(ot=!0),st-f>1&&(at=!0),3===f&&(ot=2!=e.length||1!==r,at=(e.length,!0))),r=f}i===BUTTON_CONTAINER_POSITION.CENTER&&(ot=!0,at=!0);var lt="";k&&(lt="border:".concat(A,"px ").concat(I," ").concat(O,";border-radius: ").concat(S,"px;"));var ct="";P&&(ct="margin:".concat(R,"px ").concat($,"px ").concat(M,"px ").concat(N,"px;"));var dt="";D&&(dt="padding:".concat(W,"px ").concat(H,"px ").concat(F,"px ").concat(V,"px;"));var pt="";Q&&(pt="background-image:linear-gradient(".concat(u,", ").concat(m,", ").concat(g,");")),a+="stepper"!==v?"\n        ".concat(it,"\n    div .button-div.").concat(i,"-button-").concat(f,"{\n      width:auto;\n      height:auto;\n      cursor: pointer;\n      background-color: ").concat("#"===b?"transparent":b,";\n      ").concat(lt,"\n      ").concat(ct,"\n      ").concat(dt,"\n      ").concat(ot?"margin-left:auto;":"","\n      ").concat(at?"margin-right:auto;":"margin-right:12px;","\n      ").concat(pt,"\n    }\n    .").concat(i,"-button-").concat(f,"{\n      cursor: pointer;\n      color: ").concat(y,";\n      background-color: transparent;\n      font-size: ").concat(x*h,"px;\n      border:none;\n      font-family: ").concat(E,";\n      font-weight: ").concat(C,";\n      font-style: ").concat(w,";\n      margin: ").concat(Y*h,"px ").concat(q*h,"px ").concat(z*h,"px ").concat(U*h,"px;\n      padding: ").concat(J*h,"px ").concat(Z*h,"px ").concat(X*h,"px ").concat(K*h,"px;\n    }\n    "):"\n        ".concat(it,"\n    div .button-div.").concat(i,"-button-").concat(f,"{\n      width:auto;\n      height:auto;\n      cursor: pointer;\n      background-color: transparent;\n      ").concat(ot?"margin-left:auto;":"","\n      ").concat(at?"margin-right:auto;":"margin-right:12px;","\n      ").concat(pt,"\n    }\n    ").concat(_===CAROUSEL_TYPE.NUMBER?"div .stepper-".concat(_,"{\n          font-family:").concat(d.family,";\n          font-size: ").concat(d.size*h,"px;\n          font-style:").concat(d.style,";\n          font-width:").concat(d.width,";\n          color:").concat(c.color,";\n        }"):"","\n\n    ").concat(_===CAROUSEL_TYPE.CAROUSAL?"div .stepper-".concat(_,'{\n        font-size:"20px";\n      }'):"","\n    ")})),"\n  div .".concat(i,"-buttons-container  {\n    width:100%;\n    display: flex;\n    flex-direction:").concat(n===DIRECTION.VERTICAL&&i===BUTTON_CONTAINER_POSITION.BOTTOM?"column":"row",";\n    justify-content:").concat(p,";\n        align-items:").concat(n===DIRECTION.HORIZONTAL?"center":getButtonPosition(o),";\n    flex-wrap:wrap;\n  }\n  ").concat(a,"\n  ")},setImgAction=function(t,e,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:EVENT_PREFIX.INAPP,a=function(){},r=null==t?void 0:t.action;try{switch(r){case"done":case"dismiss":a=function(){e.complete(!1,"dismiss"),window.Apxor.logActionEvent(o+"img_Clicked",n,i)};break;case"redirect":a=function(){var a;if("ios"===(null===(a=window.Apxor)||void 0===a?void 0:a.platform)){window.Apxor.logActionEvent(o+"img_Clicked",n,i),e.complete(!1,"redirect"),window.Apxor.redirectTo(JSON.stringify(t));var r=o.toLowerCase();window.Apxor.logActionEvent("".concat(r,"dismissed"),n,i)}else e.complete(!0,"redirect"),window.Apxor.redirectTo("IN_APP",n,i,"img",JSON.stringify(t))};break;case"cancel":a=function(){e.cancel(!0,"cancel"),e._isCancelled=!0,window.Apxor.logActionEvent(o+"img_Clicked",n,i),window.Apxor.logActionEvent("walk_through_cancelled",n,i)};break;case"never":a=function(){e.cancel(!0,"cancel"),e._isCancelled=!0,window.Apxor.logActionEvent(o+"img_Clicked",n,i),window.Apxor.neverShow(n,i,"IN_APP"),window.Apxor.logActionEvent("never_show_clicked",n,i)};break;default:a=function(){e.cancel(!1,"cancel"),window.Apxor.logActionEvent(o+"img_Clicked",n,i)}}}catch(t){console.error("Error setting actions on the image:"+t)}return a},generateButtonsFromConfig=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Inline_",a=arguments.length>5?arguments[5]:void 0,r=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:-1,d=[],p=[];return t.sort((function(t,e){return t.slot-e.slot})),t.forEach((function(t){var h,u,m,g=null!==(h=null==t?void 0:t.action)&&void 0!==h?h:{},f=null==g?void 0:g.action;t.enable_text&&(u=null===(m=t.text)||void 0===m||null===(m=m.script)||void 0===m?void 0:m.vmap);var v,_=t.slot,b=t.type,y=t.sub_type,x=t.enable_border,w=t.border,C=t.color,E=t.enable_margin,k=t.margin,T=t.enable_padding,A=t.padding,O=t.text,S=O.text,I=O.color,P=O.font,L=P.size,M=P.style,N=(P.family,P.weight),$=O.margin,R=O.padding,D=t.gradient,B=void 0===D?{}:D,F=t.enable_gradient;try{switch(f){case"done":case"dismiss":v=function(){var t;(e.complete(!1,"dismiss"),window.Apxor.logActionEvent(o+S+"_Clicked",n,i),-1!=c)&&(null===(t=window)||void 0===t||null===(t=t.Apxor)||void 0===t||t.triggerNextStep(n,c+1))};break;case"next":v=function(){e.complete(!1,"next"),r&&l+1<s.length&&e.next(n,l+1),window.Apxor.logActionEvent(o+S+"_Clicked",n,i)};break;case"prev":v=function(){e.complete(!1,"prev"),r&&l-1>=0&&e.prev(n,l-1),window.Apxor.logActionEvent(o+S+"_Clicked",n,i)};break;case"redirect":v=function(){var t;if("ios"===(null===(t=window.Apxor)||void 0===t?void 0:t.platform)){window.Apxor.logActionEvent(o+S+"_Clicked",n,i),e.complete(!1,"redirect"),window.Apxor.redirectTo(JSON.stringify(g));var a,r=o.toLowerCase();if(window.Apxor.logActionEvent("".concat(r,"dismissed"),n,i),-1!=c)null===(a=window)||void 0===a||null===(a=a.Apxor)||void 0===a||a.triggerNextStep(n,c+1)}else{var s;if(e.complete(!0,"redirect"),window.Apxor.redirectTo("IN_APP",n,i,S,JSON.stringify(g)),-1!=c)null===(s=window)||void 0===s||null===(s=s.Apxor)||void 0===s||s.triggerNextStep(n,c+1)}};break;case"cancel":v=function(){e.cancel(!0,"cancel"),e._isCancelled=!0,window.Apxor.logActionEvent(o+S+"_Clicked",n,i),window.Apxor.logActionEvent("walk_through_cancelled",n,i)};break;case"submit":v=function(){e.complete(!1,"submit"),window.Apxor.logActionEvent(o+S+"_Clicked",n,i)};break;case"skip":v=function(){e.complete(!1,"skip"),window.Apxor.logActionEvent(o+S+"_Clicked",n,i)};break;case"never":v=function(){e.cancel(!0,"cancel"),e._isCancelled=!0,window.Apxor.logActionEvent(o+S+"_Clicked",n,i),window.Apxor.neverShow(n,i,"IN_APP"),window.Apxor.logActionEvent("never_show_clicked",n,i)};break;default:v=function(){e.cancel(!1,"cancel"),window.Apxor.logActionEvent(o+S+"_Clicked",n,i)}}}catch(t){console.error("Error setting actions on the buttons:"+t)}var V=_setFontFaceAtRule(t.text.font),H=V[0];p.push({slot:_,type:b,sub_type:y,enable_border:x,border:w,bg_color:C,text_color:I,size:L,style:M,weight:N,font_family:H,text_margin:$,text_padding:R,enable_margin:E,margin:k,enable_padding:T,padding:A,enable_gradient:F,gradient:B,custom_font:V[1]}),d.push({type:"".concat(b||"button"),sub_type:"".concat(y||""),classes:"".concat(a,"-button-").concat(_),text:S,action:v})})),{buttons_array:d,buttons_css:p}},setCarousel=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t===CAROUSEL_TYPE.NUMBER&&e.enable_numbered){var n=e.numbered;if(e.index<=e.length)return"number"===n.style?"".concat(e.index,"/").concat(e.length):"number_of"===n.style?"".concat(e.index," of ").concat(e.length):"step_number"===n.style?"Step ".concat(e.index,"/").concat(e.length):"Step ".concat(e.index," of ").concat(e.length)}if(t===CAROUSEL_TYPE.CAROUSEL&&e.enable_pagination){var i=e.carousel;if(e.index<=e.length)return createCarousel(e,i)}return""};function createCarousel(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=document.createElement("div");n.setAttribute("class","carousel-container");var i=document.createElement("style"),o=2*parseInt(e.active_radius);i.innerHTML=".carousel-container{\n    display:flex;\n    flex-direction:row;\n    padding-left:8px;\n    gap:".concat(e.spacebetween,";\n    align-items:center;\n  }\n  .carousel-indicator-inactive{\n  height: ").concat(e.inactive_radius,";\n  width: ").concat(e.inactive_radius,";\n  background-color: ").concat(e.inactive_color,";\n  border-radius: 50%;\n  display: inline-block;\n  }\n  .carousel-indicator-active-default{\n    height: ").concat(e.inactive_radius,";\n    width: ").concat(e.inactive_radius,";\n    background-color: ").concat(e.active_color,";\n    border-radius: 50%;\n    display: inline-block;\n  }\n  .carousel-indicator-active-narrow\n  {\n    height: ").concat(e.inactive_radius,";\n    width: ").concat(o,"px;\n    border-radius:").concat(e.inactive_radius,";\n    background-color: ").concat(e.active_color,";\n    display: inline-block;\n  }\n  .carousel-indicator-active-circle\n  {\n    height: ").concat(e.active_radius,";\n    width: ").concat(e.active_radius,";\n    background-color: ").concat(e.active_color,";\n    border-radius: 50%;\n    display: inline-block;\n  }\n\n  "),n.appendChild(i);for(var a=0;a<=t.length;a++){var r=document.createElement("div");a===t.index?r.setAttribute("class","carousel-indicator-active-".concat(e.style)):r.setAttribute("class","carousel-indicator-inactive"),n.appendChild(r)}return n.outerHTML.toString()}var generateFormField=function(t){var e,n,i,o,a,r,s,l,c,d,p,h,u,m,g,f,v,_;switch(t.type){case"fullname":return'\n      <div class="mainName" style="padding: 8px; display: flex;gap :8px" >\n        <div class="first" style="width:50%">\n          '.concat(t.name?'<label for="fname" style="line-height:1.5;">'.concat(null!==(e=null==t||null===(n=t.name)||void 0===n?void 0:n[0])&&void 0!==e?e:" ","</label><br />"):"",'\n          <input type="text" id="fname" placeholder="').concat(null!==(i=null==t||null===(o=t.placeholder)||void 0===o?void 0:o[0])&&void 0!==i?i:" ",'" style="width: 90%;border-radius: 5px;padding: 8px;"/>\n        </div>\n        <div class="first" style="width:50%">\n          ').concat(t.name?'<label for="fname" style="line-height:1.5;">'.concat(null!==(a=null==t||null===(r=t.name)||void 0===r?void 0:r[1])&&void 0!==a?a:" ","</label><br />"):"",'\n        <input type="text" id="lname" placeholder="').concat(null!==(s=null==t||null===(l=t.placeholder)||void 0===l?void 0:l[1])&&void 0!==s?s:" ",'" style="width: 90%;border-radius: 5px;padding: 8px;"/>\n        </div>\n      </div>');case"name":return'\n      <div class="mainFullName" style="width:100%;padding: 8px;box-sizing: border-box;">\n        '.concat(t.name?'<label for="name" style="line-height:1.5;">'.concat(null!==(c=null==t?void 0:t.name)&&void 0!==c?c:" ","</label><br />"):"",'\n        <input type="text" id="name" placeholder="').concat(null!==(d=null==t?void 0:t.placeholder)&&void 0!==d?d:" ",'" style="width: 95%;border-radius: 5px;padding: 8px;"/>\n      </div>');case"email":return'\n      <div class="mainEmail" style="width:100%;padding: 8px;box-sizing: border-box;">\n      '.concat(t.name?'<label for="email" style="line-height:1.5;">'.concat(null!==(p=null==t?void 0:t.name)&&void 0!==p?p:" ","</label><br />"):"",'\n        <input type="email" id="email" placeholder="').concat(null!==(h=null==t?void 0:t.placeholder)&&void 0!==h?h:" ",'" style="width: 95%;border-radius: 5px;padding: 8px;\n      "/>\n      </div>');case"phone":return'\n      <div class="mainPhoneNumber" style="width:100%;padding: 8px;box-sizing: border-box;">\n      '.concat(t.name?'<label for="phoneNumber" style="line-height:1.5;">'.concat(null!==(u=null==t?void 0:t.name)&&void 0!==u?u:" ","</label><br />"):"",'<input type="tel" id="phoneNumber" placeholder="').concat(null!==(m=null==t?void 0:t.placeholder)&&void 0!==m?m:" ",'" style="width: 95%;border-radius: 5px;padding: 8px;\n      "/>\n      </div>');case"date":return'\n        <div class="mainDate" style="width:100%;padding: 8px;box-sizing: border-box;">\n        '.concat(t.name?'<label for="date" style="line-height:1.5;">'.concat(null!==(g=null==t?void 0:t.name)&&void 0!==g?g:" ","</label><br />"):"",'\n          <input type="date" id="date" style="width:95%;border-radius:5px;padding:8px;"/>\n        </div>');case"message":return'\n      <div class="mainTextField" style="width:100%;padding: 8px;box-sizing: border-box;">\n      '.concat(t.name?'<label for="textField" style="line-height:1.5;">'.concat(null!==(f=null==t?void 0:t.name)&&void 0!==f?f:" ","</label><br />"):"",'\n      <textarea id="textField" placeholder="').concat(null!==(v=null==t?void 0:t.placeholder)&&void 0!==v?v:" ",'" style="width: 95%;border-radius: 5px;padding: 8px;"></textarea>\n      </div>');case"button":return'\n      <div class="buttonClass" style="width:100%;padding: 8px;box-sizing: border-box;">\n        <input type="submit" value="'.concat(null!==(_=null==t?void 0:t.value)&&void 0!==_?_:" ",'" style="max-width:99%;width:100%;border-radius:5px;padding:8px;">\n      </div>\n      ');default:return}},getCloseWithCircleSVG=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o='<svg viewBox="0 0 24 24" fill="none" width="'.concat(t,'" height="').concat(e,'" xmlns="http://www.w3.org/2000/svg">\n  <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" fill="').concat(n,'"></path>\n  <path d="M13.0594 12.0001L15.3594 9.70011C15.6494 9.41011 15.6494 8.93011 15.3594 8.64011C15.0694 8.35011 14.5894 8.35011 14.2994 8.64011L11.9994 10.9401L9.69937 8.64011C9.40937 8.35011 8.92937 8.35011 8.63938 8.64011C8.34938 8.93011 8.34938 9.41011 8.63938 9.70011L10.9394 12.0001L8.63938 14.3001C8.34938 14.5901 8.34938 15.0701 8.63938 15.3601C8.78938 15.5101 8.97937 15.5801 9.16937 15.5801C9.35937 15.5801 9.54937 15.5101 9.69937 15.3601L11.9994 13.0601L14.2994 15.3601C14.4494 15.5101 14.6394 15.5801 14.8294 15.5801C15.0194 15.5801 15.2094 15.5101 15.3594 15.3601C15.6494 15.0701 15.6494 14.5901 15.3594 14.3001L13.0594 12.0001Z" fill="').concat(i,'"></path>\n  </svg>');return o},getCloseWithRectangleSVG=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o='\n  <svg viewBox="0 0 24 24" fill="currentColor" style="background-color:'.concat(n,";color:").concat(i,';" width="').concat(t,'" height="').concat(e,'">\n    <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path>\n  </svg>\n  ');return o},getCloseSVG=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,n=arguments.length>2?arguments[2]:void 0,i='\n  <svg xmlns="http://www.w3.org/2000/svg" width="'.concat(t,'" height="').concat(e,'" fill=').concat(n,' class="bi bi-x" viewBox="0 0 24 24" aria-hidden="true">\n    <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path>\n  </svg>');return i},getNumberOrDefault=function(t,e){var n=Number(t);return n||0===n?n:e},getStringOrDefault=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=String(t);return n||e},getColorOrDefault=function(t,e){var n=String(t);return n||e},getArrayOrDefault=function(t,e){return t&&Array.isArray(t)?t:e},isEmptyObject=function(t){return"object"!==_typeof(t)||0===Object.keys(t).length},hexToRGB=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=parseInt(t.slice(1,3),16),i=parseInt(t.slice(3,5),16),o=parseInt(t.slice(5,7),16);return e?"rgba("+n+", "+i+", "+o+", "+e+")":"rgb("+n+", "+i+", "+o+")"};function parseCSS(t){var e={},n=t.match(/([^\s]+)\s*:\s*([^;]+);/g);return n&&n.forEach((function(t){var n=_slicedToArray(t.split(":").map((function(t){return t.trim()})),2),i=n[0],o=n[1];i&&o&&(e[i]=o.slice(0,-1))})),e}function objectToCSS(t){var e="";return Object.entries(t).forEach((function(t){var n=_slicedToArray(t,2),i=n[0],o=n[1];e+="".concat(i,": ").concat(o,";")})),e}function removeKeys(t,e){var n=_objectSpread2({},t);return e.forEach((function(t){delete n[t]})),n}var extractBgImageUrl=function(t){var e,n=(null!==(e=null==t?void 0:t["background-image"])&&void 0!==e?e:"url()").match(/url\((.*?)\)/);return n&&n[1]?n[1]:""},getPIPSVG=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,n=arguments.length>2?arguments[2]:void 0,i='\n  <svg xmlns="http://www.w3.org/2000/svg" width="'.concat(t,'" height="').concat(e,'" fill=').concat(n,' class="bi bi-pip" viewBox="0 0 16 16">\n    <path d="M0 3.5A1.5 1.5 0 0 1 1.5 2h13A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5v-9zM1.5 3a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-13z"/>\n    <path d="M8 8.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-3z"/>\n  </svg>');return i},getSlotNumberByPosition=function(t){return"left"===t?1:"center"===t?3:5},collapseSpaces=function(t){return t.replace(/\s+/g," ")},contentBasedSearch=function(t,e,n,i){var o,a=t.innerText.trim().toLowerCase();if(a=collapseSpaces(a),i=null===(o=i)||void 0===o?void 0:o.trim().toLowerCase(),i=collapseSpaces(i),"s"!==e)return!1;switch(n){case"CONTAINS":return a.includes(i);case"EQ":return a===i;default:return!1}},getElementFromSelector=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=null;if(!(Object.keys(i).length>0&&Object.keys(n).length>0&&"content"==(null==n?void 0:n.search_criteria[0]))){if(!(o=document.getElementById(t)))try{o=document.querySelector(t)}catch(t){console.error("Error finding element in DOM:"+t)}var a;if(o||(o=getElementByXPath(t)),!o&&e.length>0)o=null===(a=document.getElementById(e))||void 0===a||null===(a=a.contentWindow)||void 0===a||null===(a=a.document)||void 0===a?void 0:a.querySelector(t);return o}var r,s=document.querySelectorAll('[id="'.concat(t,'"]'));if(0===s.length&&(s=document.querySelectorAll(t)),(null===(r=s)||void 0===r?void 0:r.length)>0){for(var l=[],c=0;c<s.length;c++){var d=contentBasedSearch(s[c],n.eval.t,n.eval.op,n.eval.val);d&&(l.push(s[c]),o=l[0])}null==i||i.content}else{s=document.querySelectorAll("*");for(var p=0;p<s.length;p++){var h=contentBasedSearch(s[p],n.eval.t,n.eval.op,n.eval.val);h&&(o=s[p])}}return o||null},getElementByXPath=function(t){var e=t.indexOf("svg");-1!==e&&(t=t.substring(0,e)+"svg:svg");try{return document.evaluate(t,document,(function(t){return"svg"===t?"http://www.w3.org/2000/svg":null}),XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}catch(t){console.error("Error finding element in DOM:"+t)}return null},isDescendant=function(t,e){for(var n=e.parentNode;null!=n;){if(n==t)return!0;n=n.parentNode}return!1};function isElementCovered(t){for(var e=t.getBoundingClientRect(),n=0;n<e.width;n+=e.width/5)for(var i=0;i<e.height;i+=e.height/5){var o=e.left+n,a=e.top+i,r=document.elementFromPoint(o,a);if(r===t||isDescendant(r,t)||isDescendant(t,r))return!1}return!0}var generateButtons=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Inline_",a=[],r=[];return t.forEach((function(t,s){var l,c,d,p,h,u,m,g,f,v,_,b,y=null!==(l=null==t||null===(c=t.action_config)||void 0===c?void 0:c.action)&&void 0!==l?l:"end",x=(d=null==t||null===(p=t.action_config)||void 0===p?void 0:p.vmap,h=null==t||null===(u=t.action_config)||void 0===u?void 0:u.url,m=null==t||null===(g=t.action_config)||void 0===g?void 0:g.is_external,f=null==t||null===(v=t.action_config)||void 0===v?void 0:v.is_within,_=null==t||null===(b=t.action_config)||void 0===b?void 0:b.callback_func,JSON.stringify(null==t?void 0:t.action_config));y=y.toLowerCase();var w,C=t.borders,E=t.color,k=t.text_config,T=k.text,A=k.color,O=k.size,S=k.style,I=k.font_family,P=t.gradient_config,L=void 0===P?{}:P;try{switch(y){case"done":case"dismiss":w=function(){window.Apxor.logActionEvent(o+T+"_Clicked",n,i),e.complete()};break;case"next":w=function(){window.Apxor.logActionEvent(o+T+"_Clicked",n,i),e.next()};break;case"prev":w=function(){window.Apxor.logActionEvent(o+T+"_Clicked",n,i),e.prev()};break;case"redirect":w=function(){var t;"ios"===(null===(t=window.Apxor)||void 0===t?void 0:t.platform)?window.Apxor.redirectTo(x):window.Apxor.redirectTo(n,i,T,x),e.complete(y)};break;case"cancel":w=function(){window.Apxor.logActionEvent(o+T+"_Clicked",n,i),e.cancel(y),window.Apxor.logActionEvent("walk_through_cancelled",n,i)};break;default:w=function(){e.cancel(),window.Apxor.logActionEvent(o+T+"_Clicked",n,i)}}}catch(t){console.error("Error setting actions on the buttons:"+t)}r.push({borders:C,bg_color:E,text_color:A,size:O,style:S,font_family:I,gradient_config:L}),a.push({classes:0===s?"button-o":"button-t",text:T,action:w})})),{buttons_array:a,buttons_css:r}},getButtonPosition=function(t){switch(t){case"center":return"center";case"left":return"flex-start";case"right":return"flex-end";case"ends":return"space-between";default:return"flex-end"}},getButtonsCSS=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"right",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:DIRECTION.HORIZONTAL,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o="";if(t.length>0){var a,r,s,l=t[0],c=l.bg_color,d=l.text_color,p=l.size,h=l.style,u=l.font_family,m=l.borders,g=m.stroke_color,f=m.radius,v=l.enable_gradient,_=l.gradient,b=void 0===_?{}:_;v&&(a=b.gradient_direction||"to right",r=b.gradient_c1||COLORS.BLACK,s=b.gradient_c2||COLORS.WHITE),o="\n    ".concat(i," footer .shepherd-button.button-o {\n      cursor: pointer;\n      background-color: ").concat("#"===c?"transparent":c,";\n      color: ").concat(d,";font-size: ").concat(p,"px;font-family: ").concat(u,";\n      font-weight: ").concat("bold"!==u?"normal":u,";\n      font-style: ").concat("italic"===h?"italic":"unset",";\n      border: 0px solid ").concat(g,";border-radius: ").concat(f,"px;\n      ").concat(v?"background-image:linear-gradient(".concat(a,", ").concat(r,", ").concat(s,");"):"","\n      margin-right:").concat("#"===c?0:"12px","\n    }\n    ")}if(t.length>1){var y,x,w,C=t[1],E=C.bg_color,k=C.text_color,T=C.size,A=C.font_family,O=C.borders,S=O.stroke_color,I=O.radius,P=C.gradient_config,L=void 0===P?{}:P,M=L.enable_gradient||!1;M&&(y=L.gradient_direction||"to right",x=(null==L?void 0:L.colors[0])||COLORS.BLACK,w=(null==L?void 0:L.colors[1])||COLORS.WHITE),o+="\n    ".concat(i," footer .shepherd-button.button-t {\n      cursor: pointer;\n      background-color: ").concat("#"===E?"transparent":E,";\n      color: ").concat(k,";font-size: ").concat(T,"px;font-family: ").concat(A,";\n      font-weight: ").concat("bold"!==A?"normal":A,";\n      font-style: ").concat("italic"===A?"italic":"unset",";\n      ").concat(M?"background-image:linear-gradient(".concat(y,", ").concat(x,", ").concat(w,");"):"","\n      border: 0px solid ").concat(S,";border-radius: ").concat(I,"px;\n    }\n    ")}return"\n  ".concat(i," footer .shepherd-button {\n    display: inline-block;\n    *display: inline;\n    vertical-align: middle;\n    *vertical-align: auto;\n    *zoom: 1;\n    border: 0;border-radius: 3px;cursor: pointer;display: inline;font-family: inherit;\n    font-size: .8em;letter-spacing: .01em;line-height: 18px;margin-right: 12px;\n    padding: 8px 16px;text-transform: none;transition: all .5s ease\n  }\n  ").concat(o,"\n  ").concat(i," footer .shepherd-button:last-child {\n  }\n\n  ").concat(i," footer {\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    display: flex;\n    flex-direction:").concat(n===DIRECTION.HORIZONTAL?"row":"column",";\n\n    align-items:center;\n    justify-content: ").concat(n===DIRECTION.HORIZONTAL?getButtonPosition(e):"space-evenly",";\n    padding: 0 .8em .8em;\n  }\n  ")},createTextElement=function(t,e){var n=t.color,i=void 0===n?"#000":n,o=t.font_family,a=void 0===o?"cursive":o,r=t.size,s=void 0===r?14:r,l=t.style,c=void 0===l?"bold":l,d=t.text,p=t.segments,h=t.quote,u=t.link_config,m=void 0===u?[]:u,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"desc",f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;s*=f;var v=document.createElement("span");v.setAttribute("id",e+"-"+g),v.className="apx-class-".concat(e,"-").concat(g);var _=document.createElement("style");return _.innerHTML="\n    .apx-class-".concat(e,"-").concat(g," {\n      z-index:99999;\n      color:").concat(i," !important;\n      font-family:").concat(a," !important;\n      font-size:").concat(s,"px !important;\n      font-weight:").concat(c," !important;\n      font-style:").concat("normal"===c||"italic"===c?c+" !important":"unset",";\n      max-width:400px;\n    }\n  "),v.appendChild(_),v.appendChild(getStylisedText(d,p,h,m)),v},isElementCompletlyInView=function(t){var e=t.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,i=window.innerWidth||document.documentElement.clientWidth;return!!(e.top>=0&&e.bottom<=n&&e.left>=0&&e.right<=i)||(window.scrollTo({top:e.top+window.scrollY-n/2,behavior:"smooth"}),!1)},ApxorWalkthroughTour,buttonAction=null,onClickCallback=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;if(i)try{n&&window.Apxor.logActionEvent("InlineTargetViewClicked",t,e),ApxorWalkthroughTour.complete()}catch(t){console.error(t)}};function addTourStep(t,e,n,i){var o,a,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=t.animation,l=void 0===s?{}:s,c=t.bg_color,d=void 0===c?"black":c,p=t.border,h=void 0===p?{}:p,u=t.buttons_config,m=void 0===u?[]:u,g=t.button_position,f=void 0===g?"right":g,v=t.button_direction,_=void 0===v?DIRECTION.HORIZONTAL:v,b=t.corners,y=void 0===b?{}:b,x=t.shadow,w=void 0===x?"0 8px 16px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)":x,C=t.opacity,E=void 0===C?1:C,k=t.dismiss_outside_touch,T=void 0!==k&&k,A=t.dismiss_target_touch,O=void 0===A||A,S=t.escapeWithReference,I=void 0!==S&&S,P=t.position,L=void 0===P?"TOP":P,M=t.text_config,N=void 0===M?{}:M,$=t.title_config,R=void 0===$?{}:$,D=t.view_id,B=(t.search_type,t.show_shadow),F=void 0!==B&&B,V=t.dim_background_color,H=void 0===V?"#0a0a0a":V,W=t.dim_background_opacity,j=void 0===W?.5:W,z=t.show_close_icon,U=void 0!==z&&z,q=t.set_font_to_scale,Y=void 0!==q&&q,G=t.is_preview,X=void 0!==G&&G,K=t.additional_info,Z=void 0===K?{}:K,J=n.configId,Q=n.configName,tt=Y?getFontMultiplier():1;tt=tt>1?tt:1;var et=[],nt=[],it=(null==N?void 0:N.alignment)||"left",ot=(null==R?void 0:R.alignment)||"left";m.forEach((function(t,e){var n,i,o,a,r,s,l;s=deepGet(t,["text_config","text"],null);var c=null!==(n=null==t||null===(i=t.action_config)||void 0===i?void 0:i.action)&&void 0!==n?n:"end",d=(null==t?void 0:t.action_config)||{},p=JSON.stringify(d);o=null==t||null===(a=t.action_config)||void 0===a?void 0:a.url;console.log("building-btns!",p),null===(r=window)||void 0===r||null===(r=r.ApxorLogger)||void 0===r||r.debug("Building buttons for ".concat(s," - ").concat(p));var h=function(){var t,e,n;Z.version&&4===Z.version?null===(t=window.Apxor)||void 0===t||t.logAppEvent("apx_nudge_CTA_clicked",{apx_nudge_name:Q,apx_nudge_id:J,apx_cta_name:s,apx_variant_code:null!==(e=null==Z?void 0:Z.apx_variant_code)&&void 0!==e?e:"",apx_step:(null===(n=window.Apxor)||void 0===n||n.platform,null!=Z&&Z.is_preview?1:null==Z?void 0:Z.apx_step)}):window.Apxor.logActionEvent("inline_".concat(s,"_Clicked"),J,Q)};switch(c){case"done":case"dismiss":case"next":case"prev":l=function(){h(),ApxorWalkthroughTour.complete()};break;case"redirect":l=function(){var t,e,n,i;buttonAction="redirect",null===(t=window)||void 0===t||null===(t=t.ApxorLogger)||void 0===t||t.debug("Redirecting in platform ".concat(null===(e=window.Apxor)||void 0===e?void 0:e.platform," - ").concat(p)),console.log("Redirecting in platform ".concat(null===(n=window.Apxor)||void 0===n?void 0:n.platform," - ").concat(p)),"ios"===(null===(i=window.Apxor)||void 0===i?void 0:i.platform)?window.Apxor.redirectTo(JSON.stringify(d)):window.Apxor.redirectTo(J,Q,s,p),h(),ApxorWalkthroughTour.complete()};break;case"cancel":l=function(){buttonAction="cancel",h(),ApxorWalkthroughTour.complete(),window.Apxor.logActionEvent("walk_through_cancelled",J,Q)};break;case"never":l=function(){var t,e;buttonAction="never",h(),ApxorWalkthroughTour.complete(),window.Apxor.logActionEvent("never_show_clicked",J,Q),null===(t=window.Apxor)||void 0===t||t.neverShow(J,Q,"WEB_INLINE"),null===(e=window.Apxor)||void 0===e||e.updateFlag(!1)};break;default:l=function(){h(),ApxorWalkthroughTour.cancel()}}et.push({classes:"shepherd-button "+(0===e?"button-o":"button-t"),text:s,action:function(){var t;console.log("default action callback"),null===(t=window)||void 0===t||null===(t=t.ApxorLogger)||void 0===t||t.debug("default action callback"),l()}});var u=t.borders,m=t.color,g=t.text_config,f=(g.text,g.color),v=g.size,_=g.style,b=g.font_family,y=t.gradient_config,x=void 0===y?{}:y;nt.push({borders:u,bg_color:m,text_color:f,size:v,style:_,font_family:b,gradient_config:x})}));var at={color:N.color,fontSize:Math.ceil(N.size*tt),fontFamily:N.font_family,fontStyle:N.style};if(N.margin_config&&Object.keys(N.margin_config).length>0){var rt=N.margin_config;at.margin="".concat(rt.top,"px ").concat(rt.right,"px ").concat(rt.bottom,"px ").concat(rt.left,"px")}var st=N.style;"bold"===st&&(at.fontWeight=st);var lt={color:null==R?void 0:R.color,fontSize:Math.ceil((null==R?void 0:R.size)*tt),fontFamily:null==R?void 0:R.font_family,fontStyle:null==R?void 0:R.style};if(null!=R&&R.margin_config&&Object.keys(null==R?void 0:R.margin_config).length>0){var ct=null==R?void 0:R.margin_config;lt.margin="".concat(ct.top,"px ").concat(ct.right,"px ").concat(ct.bottom,"px ").concat(ct.left,"px")}"bold"===(st=null==R?void 0:R.style)&&(at.fontWeight=st);var dt,pt={"border-radius":y.enabled?y.width:0,background:d,"border-color":h.color,"border-width":h.width},ht=getElementFromSelector(D);ht||(null===(dt=window)||void 0===dt||null===(dt=dt.Apxor)||void 0===dt||dt.updateFlag(!1));function ut(t){return 50===t?0:-4}function mt(t,e){switch(t.toLowerCase()){case"top":return"translateY(".concat(ut(e),"px)");case"right":return"translateX(".concat(ut(e),"px)");case"bottom":return"translateY(".concat(-ut(e),"px)");case"left":return"translateX(".concat(-ut(e),"px)")}}function gt(t){switch(t.toUpperCase()){case"TOP":return"top: -8px !important";case"LEFT":return"left: 0px !important";case"RIGHT":return"left: -0px !important";case"BOTTOM":return"top: 0px !important"}}function ft(){var t=document.createElement("style");if(t.setAttribute("id","apxor-style-"+J+"-step-"+r),t.innerHTML='\n    #shepherdModalOverlayContainer {\n      -ms-filter: "progid:dximagetransform.microsoft.gradient.alpha(Opacity=50)";\n      filter: alpha(opacity=50);height: 100vh;left: 0;opacity: '.concat(null!=j?j:.5,";position: fixed;\n      top: 0;transition: all .3s ease-out;width: 100vw;z-index: 9997;fill: ").concat(null!=H?H:"transparent","\n    }\n    #shepherdModalOverlayContainer #shepherdModalMask, #shepherdModalOverlayContainer #shepherdModalMaskRect {\n      height: 100vh;width: 100vw\n    }\n    .shepherd-modal.shepherd-enabled {\n      position: relative;z-index: 9998\n    }\n    .shepherd-active.shepherd-modal-is-visible :not(.shepherd-target) {\n      pointer-events: none\n    }\n    .shepherd-active.shepherd-modal-is-visible .shepherd-button, .shepherd-active.shepherd-modal-is-visible .shepherd-button *, .shepherd-active.shepherd-modal-is-visible .shepherd-cancel-link, .shepherd-active.shepherd-modal-is-visible .shepherd-cancel-link *, .shepherd-active.shepherd-modal-is-visible .shepherd-element, .shepherd-active.shepherd-modal-is-visible .shepherd-element *, .shepherd-active.shepherd-modal-is-visible .shepherd-target, .shepherd-active.shepherd-modal-is-visible .shepherd-target * {\n      pointer-events: auto\n    }\n    .tippy-popper.shepherd {\n      z-index: 999999\n    }\n    .tippy-popper.shepherd[x-placement^=top] {\n      margin-top: 0px\n    }\n    .tippy-popper.shepherd[x-placement^=bottom] {\n      margin-top: 8px\n    }\n    .tippy-popper.shepherd[x-placement^=left] {\n      margin-right: 0px\n    }\n    .tippy-popper.shepherd[x-placement^=right] {\n      margin-left: 0px\n    }\n    .tippy-popper.shepherd .tippy-tooltip .tippy-content {\n      max-height: 100%;padding-top:0px;padding-bottom:0px;text-align: left;max-width: calc(").concat(Math.ceil(400*tt),"px); overflow-wrap: break-word;\n    }\n    .shepherd-element, .shepherd-element *, .shepherd-element:after, .shepherd-element :after, .shepherd-element:before, .shepherd-element :before {\n      box-sizing: border-box\n    }\n    .shepherd-element {\n      outline: none;\n    }\n    .shepherd-element .shepherd-content header {\n      border-top-left-radius: 5px;border-top-right-radius: 5px;\n      line-height: 2em;").concat(U?"padding: .75em;":"","\n      background: ").concat(d,';\n      box-shadow: none;\n    }\n    .shepherd-element .shepherd-content header:after {\n      clear: both;content: "";display: table\n    }\n    .shepherd-element .shepherd-content header .shepherd-cancel-link, .shepherd-element .shepherd-content header .shepherd-title {\n      margin: 0;padding: 0;position: relative;vertical-align: middle\n    }\n\n    .shepherd-element .shepherd-content header .shepherd-cancel-link {\n      color: hsla(0, 0%, 70.2%, .75);font-size: 2em;margin-left: auto;\n      text-decoration: none;transition: color .5s ease\n    }\n    .shepherd-element .shepherd-content header .shepherd-cancel-link:before {\n      mix-blend-mode: screen;content: "Ã—"\n    }\n    .shepherd-element .shepherd-content header .shepherd-cancel-link:hover {\n      mix-blend-mode: difference;\n    }\n    .shepherd-element .shepherd-content .shepherd-text {\n      text-align:').concat(it,";\n      line-height: 1em;\n      padding:14px\n    }\n    .shepherd-element .shepherd-content .shepherd-text a,\n    .shepherd-element .shepherd-content .shepherd-text a:active,\n    .shepherd-element .shepherd-content .shepherd-text a:visited {\n      border-bottom: 1px dotted rgba(0, 0, 0, .75);color: ").concat(at.color,";\n      opacity: 0.75;text-decoration: none\n    }\n    .shepherd-element .shepherd-content .shepherd-text a:active:hover, \n    .shepherd-element .shepherd-content .shepherd-text a:hover,\n    .shepherd-element .shepherd-content .shepherd-text a:visited:hover {\n      border-bottom-style: solid\n    }\n    .shepherd-element .shepherd-content .shepherd-text p {\n      margin-top: 0\n    }\n    .shepherd-element .shepherd-content .shepherd-text p:last-child {\n      margin-bottom: 0\n    }\n    .shepherd-content > .shepherd-text p {\n      font-size:  ").concat(at.fontSize,"px;font-family: ").concat(at.fontFamily,"; \n      font-weight: ").concat("bold"!==at.fontStyle?"normal":at.fontStyle,";\n      font-style: ").concat("italic"===at.fontStyle?"italic":"unset",";\n      color: ").concat(at.color,";line-height:\n      ").concat(at.fontSize,"px;letter-spacing:0.01em;\n    }\n\n    @-webkit-keyframes cycle {\n      0% { transform: ").concat(mt(L,0),"; }\n      50% { transform: ").concat(mt(L,50),"; }\n      100% { transform: ").concat(mt(L,100),"; }\n    }\n    @keyframes cycle {\n      0% { transform: ").concat(mt(L,0),"; }\n      50% { transform: ").concat(mt(L,50),"; }\n      100% { transform: ").concat(mt(L,100),"; }\n    }\n    .tippy-tooltip.apxor-").concat(J,"-step-").concat(r,"-theme {\n       animation :").concat(l.enabled?l.type+" "+l.duration+"ms":"none",";\n      animation-timing-function: ease-in-out;animation-iteration-count: infinite;\n      box-shadow: ").concat(F?w:"none",";color: ").concat(at.color,";\n      opacity: ").concat(E,";border-radius: ").concat(pt["border-radius"]+"px",";\n      background-color: ").concat(pt.background,";").concat(gt(L),";\n    }\n    .apxor-").concat(J,"-step-").concat(r,"-theme  .tippy-roundarrow {\n      fill: ").concat(pt.background,";\n    }\n    .tippy-tooltip[data-placement^='top'] .tippy-arrow {\n      border-top-color: ").concat(pt.background,";\n    }\n    .tippy-tooltip[data-placement^='bottom'] .tippy-arrow {\n      border-bottom-color: ").concat(pt.background,";\n    }\n    .tippy-tooltip[data-placement^='left'] .tippy-arrow {\n      border-left-color: ").concat(pt.background,";\n    }\n    .tippy-tooltip[data-placement^='right'] .tippy-arrow {\n      border-right-color: ").concat(pt.background,";\n    }\n    .shepherd-element .shepherd-content footer .shepherd-button {\n      display: inline-block;\n      vertical-align: middle;\n      border: 0;border-radius: 3px;cursor: pointer;font-family: inherit;\n      font-size: .8em;letter-spacing: .01em;line-height: 18px;margin-right: 12px;\n      padding: 8px 16px;text-transform: none;transition: all .5s ease\n    }\n    .shepherd-element .shepherd-content footer {\n      border-bottom-left-radius: 5px;\n      border-bottom-right-radius: 5px;\n      display: flex;\n      flex-direction:").concat(_===DIRECTION.HORIZONTAL?"row":"column",";\n  \n      align-items:center;\n      justify-content: ").concat(_===DIRECTION.HORIZONTAL?getButtonPosition(f):"space-evenly",";\n      padding: 0 .8em .8em;\n      background: ").concat(d,";\n    }\n      "),Object.keys(R).length>0&&(t.innerHTML+="\n    .shepherd-element .shepherd-content header .shepherd-title {\n      text-align:".concat(ot,";\n      color: ").concat(lt.color,";display: block;flex: 1 0 auto;\n      font-size:  ").concat(lt.fontSize,"px;font-family: ").concat(lt.fontFamily,";\n      font-weight: ").concat("bold"!==lt.fontStyle?"normal":lt.fontStyle,";font-style: ").concat("italic"===lt.fontStyle?"italic":"unset",";\n      line-height: ").concat(lt.fontSize,"px;letter-spacing:0.01em;padding: 14px;padding-bottom: 0px;max-width: calc(").concat(Math.ceil(400*tt),"px);\n    }\n    .shepherd-element .shepherd-content .shepherd-text {\n      padding-top:4px;\n    }\n    ")),nt.length>0){var e,n,i,o=nt[0],a=o.bg_color,s=o.text_color,c=o.size,p=o.style,h=o.font_family,u=o.borders,m=u.stroke_color,g=u.radius,v=o.gradient_config,b=void 0===v?{}:v,y=b.enable_gradient||!1;y&&(e=b.gradient_direction||"to right",n=(null==b?void 0:b.colors[0])||COLORS.BLACK,i=(null==b?void 0:b.colors[1])||COLORS.WHITE),t.innerHTML+="\n    .shepherd-element .shepherd-content footer .shepherd-button.button-o {\n      cursor: pointer;\n      background-color: ".concat("#"===a?"transparent":a,";\n      color: ").concat(s,";font-size: ").concat(c,"px;font-family: ").concat(h,";\n      font-weight: ").concat("bold"!==p?"normal":p,";\n      font-style: ").concat("italic"===p?"italic":"unset",";\n      border: 0px solid ").concat(m,";border-radius: ").concat(g,"px;\n      ").concat(y?"background-image:linear-gradient(".concat(e,", ").concat(n,", ").concat(i,");"):"","\n      margin-right:").concat("#"===a?0:"12px",";\n    }\n    ")}if(nt.length>1){var x,C,k,T=nt[1],A=T.bg_color,O=T.text_color,S=T.size,I=T.style,P=T.font_family,M=T.borders,N=M.stroke_color,$=M.radius,D=T.gradient_config,B=void 0===D?{}:D,V=B.enable_gradient||!1;V&&(x=B.gradient_direction||"to right",C=(null==B?void 0:B.colors[0])||COLORS.BLACK,k=(null==B?void 0:B.colors[1])||COLORS.WHITE),t.innerHTML+="\n    .shepherd-element .shepherd-content footer .shepherd-button.button-t {\n      cursor: pointer;\n      background-color: ".concat("#"===A?"transparent":A,";\n      color: ").concat(O,";font-size: ").concat(S,"px;font-family: ").concat(P,";\n      font-weight: ").concat("bold"!==I?"normal":I,";\n      font-style: ").concat("italic"===I?"italic":"unset",";\n      ").concat(V?"background-image:linear-gradient(".concat(x,", ").concat(C,", ").concat(k,");"):"","\n      border: 0px solid ").concat(N,";border-radius: ").concat($,"px;\n    }\n    ")}return document.head.appendChild(t),t}ft();var vt,_t,bt=getElementFromSelector(D),yt=document.getElementById("apxor-".concat(J,"-step-").concat(r)),xt=function(t){onClickCallback(J,Q,!1,O)},wt=function(){var t,e,n,o;try{var s;null===(s=ApxorWalkthroughTour)||void 0===s||s.complete()}catch(t){console.error(t)}!0===T&&document.body.removeEventListener("touchmove",a),kt.disconnect(),Tt.disconnect(),null===(t=document.getElementById("shepherdModalOverlayContainer"))||void 0===t||t.remove(),null===(e=document.getElementById("apxor-style-"+J+"-step-"+r))||void 0===e||e.remove();var l=document.querySelector("style[data-tippy-stylesheet]");if(l&&l.remove(),null==yt||null===(n=yt.parentNode)||void 0===n||n.removeChild(yt),null===(o=window)||void 0===o||null===(o=o.Apxor)||void 0===o||o.updateFlag(!1),null!==buttonAction){var c,d,p,h,u,m;if("redirect"!==buttonAction||"never"!==buttonAction||"cancel"!==buttonAction)if(Z.version&&4===Z.version)null===(c=window)||void 0===c||null===(c=c.Apxo)||void 0===c||c.logAppEvent("apx_nudge_dismissed",{apx_nudge_id:J,apx_nudge_name:Q,apx_step:null!==(d=null==Z?void 0:Z.apx_step)&&void 0!==d?d:1,apx_termination_type:buttonAction+" Clicked",apx_variant_code:null!==(p=null==Z?void 0:Z.apx_variant_code)&&void 0!==p?p:""});else window.Apxor.logActionEvent("inline_dismissed",J,Q);if("never"===buttonAction)if(Z.version&&4===Z.version)null===(h=window)||void 0===h||null===(h=h.Apxo)||void 0===h||h.logAppEvent("apx_nudge_terminated",{apx_nudge_id:J,apx_nudge_name:Q,apx_step:null!==(u=null==Z?void 0:Z.apx_step)&&void 0!==u?u:1,apx_termination_type:buttonAction+" Clicked",apx_variant_code:null!==(m=null==Z?void 0:Z.apx_variant_code)&&void 0!==m?m:""});else window.Apxor.logActionEvent("inline_dismissed",J,Q)}else{var g,f,v;if(Z.version&&4===Z.version)null===(g=window)||void 0===g||null===(g=g.Apxo)||void 0===g||g.logAppEvent("apx_nudge_dismissed",{apx_nudge_id:J,apx_nudge_name:Q,apx_step:null!==(f=null==Z?void 0:Z.apx_step)&&void 0!==f?f:1,apx_termination_type:buttonAction+" Clicked",apx_variant_code:null!==(v=null==Z?void 0:Z.apx_variant_code)&&void 0!==v?v:""});else window.Apxor.logActionEvent("inline_dismissed",J,Q)}i.isShowingAction=!1,i.currentAction=null,bt.removeEventListener("click",xt)},Ct=!1;if(isElementInViewport(bt)&&isElementCovered(bt))return console.info("The tooltip is not visible because another element is overlapping the target element."),void(null===(vt=window)||void 0===vt||null===(vt=vt.Apxor)||void 0===vt||null===(_t=vt.updateFlag)||void 0===_t||_t.call(vt,!1));var Et,kt=new MutationObserver((function(){if(!document.body.contains(bt)){document.getElementById("shepherdModalOverlayContainer").remove();var t=document.getElementsByClassName("apxor-".concat(J,"-step-").concat(r,"-theme"));t.length>0&&t[0]&&t[0].parentNode&&t[0].parentNode.remove(),wt()}})),Tt=new IntersectionObserver((function(){var t,e,n=isElementInViewport(bt);if(!n&&Ct){document.getElementById("shepherdModalOverlayContainer").remove();var i=document.getElementsByClassName("apxor-".concat(J,"-step-").concat(r,"-theme"));i.length>0&&i[0]&&i[0].parentNode&&i[0].parentNode.remove(),wt()}if(n&&(Ct=!0,isElementCovered(bt)))return console.info("The tooltip is not visible because another element is overlapping the target element."),void(null===(t=window)||void 0===t||null===(t=t.Apxor)||void 0===t||null===(e=t.updateFlag)||void 0===e||e.call(t,!1))}));!0===T&&(a=function(){var t;null===(t=document.getElementById("shepherdModalOverlayContainer"))||void 0===t||t.remove();var e=document.getElementsByClassName("apxor-".concat(J,"-step-").concat(r,"-theme"));e.length>0&&e[0]&&e[0].parentNode&&e[0].parentNode.remove(),wt()},document.body.addEventListener("touchmove",a)),Et=(null==N||null===(o=N.segments)||void 0===o?void 0:o.length)>0?getStylisedText(null==N?void 0:N.text,null==N?void 0:N.segments,null==N?void 0:N.quote,null==N?void 0:N.link_config):[N&&N.text?N.text:"Tap here"];var At=getStylisedText(null==R?void 0:R.text,null==R?void 0:R.segments,null==R?void 0:R.quote,null==R?void 0:R.link_config);ApxorWalkthroughTour.addStep("apxor-step-"+r,{title:""===At?null:At.outerHTML,text:Et,classes:"apxor-".concat(J,"-step-").concat(r,"-theme"),attachTo:{element:ht,on:L.toLowerCase()},showCancelLink:U,buttons:et,tippyOptions:{allowHTML:!0,arrow:!0,flipOnUpdate:!0,interactive:!0,maxWidth:"100%",hideOnClick:T,escapeWithReference:I,theme:"apxor-".concat(J,"-step-").concat(r),onShow:function(){var t,e,o,a,r,s;(null===(t=window)||void 0===t||null===(t=t.Apxor)||void 0===t||null===(e=t.updateFlag)||void 0===e||e.call(t,!0),Z.version&&4===Z.version)?null===(o=window)||void 0===o||null===(o=o.Apxo)||void 0===o||o.logAppEvent("apx_nudge_shown",{apx_nudge_id:n.configId,apx_nudge_name:n.configName,apx_step:null!==(a=null==Z?void 0:Z.apx_step)&&void 0!==a?a:1,apx_variant_code:null!==(r=null==Z?void 0:Z.apx_variant_code)&&void 0!==r?r:"",apx_screen_name:null!==(s=null==Z?void 0:Z.apx_screen_name)&&void 0!==s?s:""}):window.Apxor.logActionEvent("inline_shown",J,Q);X&&setTimeout((function(){var t,e;null===(t=window)||void 0===t||null===(t=t.Apxor)||void 0===t||null===(e=t.logInternalEvent)||void 0===e||e.call(t,"capt")}),500),window.Apxor.updateCount(J),i.isShowingAction=!0,bt.addEventListener("click",xt),kt.observe(document.body,{childList:!0,subtree:!0}),Tt.observe(bt)},onHidden:wt}})}var showTooltip=function(t,e,n,i,o){var a=Array.isArray(e)&&e.length>0,r=t.delay,s=t.dim_background,l=t.view_id,c=t.find_interval,d=void 0===c?0:c,p=t.max_find_interval,h=void 0===p?1e4:p,u=t.scrollToView,m=void 0===u||u,g=t.additional_info,f=void 0===g?{}:g,v=!1;s&&!isElementInViewport(getElementFromSelector(l))&&(v={behavior:"smooth",block:"center"}),m&&(v={behavior:"smooth",block:"center"}),ApxorWalkthroughTour=new Shepherd.Tour({defaultStepOptions:{scrollTo:v},useModalOverlay:a||s});var _=function(){return getElementFromSelector(l)},b=function(r){try{var s=r.getBoundingClientRect();if(0===s.width||0===s.height)return void console.warn("Width and height are 0 for: ",l,". Can't show")}catch(t){console.error(t)}if(a?e.forEach((function(t,e){addTourStep(t.ui,n,i,o,e)})):addTourStep(t,n,i,o),o.isShowingAction)console.error("An action already being shown");else try{ApxorWalkthroughTour.start(),o.isShowingAction=!0}catch(t){console.error(t)}};setTimeout((function(){var t,e,n=_();n?b(n):(console.warn("Element with id:".concat(l," not found.")),d?(console.warn("Rechecking"),function(t){var e=new Date,n=setInterval((function(){var o,a,r=_();r?(clearInterval(n),b(r)):new Date-e>h&&(clearInterval(n),console.warn("Element with id:".concat(t," not found.")),null===(o=window)||void 0===o||null===(o=o.Apxo)||void 0===o||o.logAppEvent("apx_nudge_not_shown",{apx_nudge_id:i.configId,apx_nudge_name:i.configName,apx_reason:"View not found",apx_step:null!==(a=null==f?void 0:f.apx_step)&&void 0!==a?a:1}))}),d)}(l)):null===(t=window)||void 0===t||null===(t=t.Apxo)||void 0===t||t.logAppEvent("apx_nudge_not_shown",{apx_nudge_id:i.configId,apx_nudge_name:i.configName,apx_reason:"View not found",apx_step:null!==(e=null==f?void 0:f.apx_step)&&void 0!==e?e:1}))}),r),!0===n.auto_dismiss&&setTimeout((function(){ApxorWalkthroughTour.complete()}),r+n.duration);return function(){var t,e,n;f.version&&4===f.version?null===(t=window)||void 0===t||null===(t=t.Apxo)||void 0===t||t.logAppEvent("apx_nudge_terminated",{apx_nudge_id:i.configId,apx_nudge_name:i.configName,apx_step:null!==(e=null==f?void 0:f.apx_step)&&void 0!==e?e:1,apx_termination_type:buttonAction+" Clicked",apx_variant_code:null!==(n=null==f?void 0:f.apx_variant_code)&&void 0!==n?n:""}):window.Apxor.logActionEvent("inline_dismissed",i.configId,i.configName);ApxorWalkthroughTour.complete()}},DEFAULT_PADDING=5,fontMultiplier=1,currentId=makeid(10);function getDocumentOffsetPosition(t){var e=t.getBoundingClientRect(),n=e.left+window.scrollX,i=e.top+window.scrollY;return{left:n,top:i,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY,x:isDefined(e.x)?e.x+window.scrollX:n,y:isDefined(e.y)?e.y+window.scrollY:i,width:e.width,height:e.height}}function createTitleDescriptionButtons(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,r=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=null;if(!e&&t?l=createTextElement(t,currentId,"title",fontMultiplier):e&&t&&((l=document.createElement("div")).style.display="inline-flex",l.style.flexDirection="column",l.style.visibility="hidden",l.style.textAlign=(null==t?void 0:t.alignment)||"center",l.style.lineHeight="26px",l.style.letterSpacing="0.01em",l.appendChild(createTextElement(e,currentId,"title",fontMultiplier)),l.appendChild(createTextElement(t,currentId,"desc",fontMultiplier))),n&&n.length>0){var c=document.createElement("footer");c.className="shepherd-footer",c.style.zIndex=99999,c.style.margin="8px",c.style.padding="0";var d=function(t){s&&s(t)},p=generateButtons(n,{prev:d,next:d,complete:d,cancel:d},a,r),h=p.buttons_array,u=p.buttons_css,m=document.createElement("style");m.innerHTML=getButtonsCSS(u,i,o),c.appendChild(m),h.forEach((function(t){var e=t.classes,n=t.text,i=t.action,o=document.createElement("button");o.className="shepherd-button "+e,o.innerHTML=n,o.onclick=function(){return i()},c.appendChild(o)}));var g=document.createElement("div");g.style.display="inline-flex",g.style.flexDirection="column",g.style.visibility="hidden",g.appendChild(l),g.appendChild(c),l=g}return l.style.position="absolute",document.body.appendChild(l),l}function addRippleStyles(t,e,n){return"\n<style>\n.ripple-animator {\n  position: relative;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  flex-direction: row;\n  -webkit-box-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  align-items: center;\n  height: ".concat(n,"px !important;\n  width: ").concat(e,"px !important;\n  border-radius: ").concat("circle"===t?"100%":"0",";\n}\n.ripple-animator span {\n  position: relative;\n  font-size: 72px;\n  top: 5px;left: -5px;\n}\n\n.ripple-animator:before,\n.ripple-animator:after {\n  content: '';\n  display: block;\n  position: absolute;\n  top: 0; \n  right: 0; \n  bottom: 0; \n  left: 0;\n  opacity:1;\n  z-index:10;\n  border: 0px solid white;\n  border-radius: ").concat("circle"===t?"100%":"0%",";\n  z-index: 99999;\n}\n\n.ripple-animator:before {\n  animation: ripple 1s infinite ease-out;\n}\n\n@keyframes ripple{\n  0% { \n    border: 0px solid white;\n    transform: scale(0.8); \n  }\n  100% { \n    border: 20px solid white;\n    transform: scale(1.5); \n    opacity:0; \n  }\n}\n</style>")}function createInnerCircle(t,e,n,i,o,a){var r=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),s=r,l=n-(r-t)/2,c=i-(r-e)/2;"circle"!=o&&(r=t,s=e,l=n,c=i);var d=document.createElement("div");return d.setAttribute("id",currentId+"-ripple-div"),a&&(d.innerHTML=addRippleStyles(o,r,s)),d.style.position="absolute",d.style.width="".concat(r,"px"),d.style.height="".concat(s,"px"),d.style.left="".concat(l,"px"),d.style.top="".concat(c,"px"),d.classList.add("ripple-animator"),d.style.borderRadius="".concat("circle"===o?"50%":"0"),d.style.visibility="hidden",document.body.appendChild(d),d}function getSVG(t,e){return'\n  <svg\n    height="'.concat(document.scrollingElement.scrollHeight,'" \n    width="').concat(document.scrollingElement.scrollWidth,'"\n    class="apx-fade-in">\n    <defs>\n      <mask\n        id="apx-mask"\n        x="0"\n        y="0"\n        height="').concat(document.scrollingElement.scrollHeight,'" \n        width="').concat(document.scrollingElement.scrollWidth,'">\n        ').concat(t,"\n      </mask>\n    </defs>\n    ").concat(e,"\n  </svg>\n  ")}function getCircleSVG(t){var e=t.bg_color,n=t.opacity,i=t.innerRadius,o=t.innerCenterX,a=t.innerCenterY,r=t.outerRadius,s=t.outerCircleCenterX,l=t.outerCircleCenterY;return getSVG('\n  <rect\n    x="'.concat(s-r,'"\n    y="').concat(l-r<0?0:l-r,'"\n    height="').concat(2*r,'"\n    width="').concat(2*r,'"\n    fill="#fff" />\n  <circle\n    cx="').concat(o,'"\n    cy="').concat(a,'"\n    r="').concat(i,'" />\n  '),'\n  <circle\n    cx="'.concat(s,'" \n    cy="').concat(l,'" \n    r="').concat(r,'" \n    fill="').concat(e,'" \n    fill-opacity="').concat(n,'"\n    mask="url(#apx-mask)" />\n  '))}function getRectangleSVG(t){var e=t.bg_color,n=t.opacity,i=t.targetElementLeft,o=t.targetElementTop,a=t.targetElementWidth,r=t.targetElementHeight;return getSVG('\n  <rect\n    x="0" y="0"\n    height="'.concat(document.scrollingElement.scrollHeight,'" \n    width="').concat(document.scrollingElement.scrollWidth,'" \n    fill="#fff" />\n  <rect\n    x="').concat(i,'" \n    y="').concat(o,'" \n    width="').concat(a,'" \n    height="').concat(r,'" />\n  '),'\n  <rect\n    x="0" y="0"\n    height="'.concat(document.scrollingElement.scrollHeight,'" \n    width="').concat(document.scrollingElement.scrollWidth,'" \n    mask="url(#apx-mask)"\n    fill="').concat(e,'" \n    fill-opacity="').concat(n,'" />\n  '))}function createSVGDiv(t){var e=t.opacity,n=t.type,i=document.createElement("div");i.setAttribute("id",currentId+"-svg"),i.style.position="absolute",i.style.left=0,i.style.top=0,i.style.zIndex=99998,i.style.width="100%",i.style.height="99%";var o="";return o="circle"===n?getCircleSVG(t):getRectangleSVG(t),i.innerHTML="\n  <style>\n    @keyframes apx-anim {\n      from {\n        opacity: 0;\n      }\n\n      to {\n        opacity: ".concat(e,";\n      }\n    }\n    .apx-fade-in {\n      animation: apx-anim 0.4s linear;\n    }\n  </style>\n  ").concat(o),document.body.appendChild(i),i}function showCoachmark(t,e,n,i,o){var a=t.bg_color,r=t.buttons_config,s=void 0===r?[]:r,l=t.button_position,c=t.button_direction,d=void 0===c?DIRECTION.HORIZONTAL:c,p=t.coach_mark_details,h=p.has_ripple,u=void 0!==h&&h,m=p.type,g=void 0===m?"circle":m,f=t.delay,v=t.dismiss_outside_touch,_=void 0!==v&&v,b=t.opacity,y=void 0===b?.8:b,x=t.position,w=void 0===x?"TOP":x,C=t.text_config,E=t.title_config,k=void 0===E?null:E,T=t.view_id,A=t.iframe_id,O=void 0===A?"":A,S=t.scroll_to_view,I=void 0!==S&&S,P=e.configId,L=e.configName,M=getElementFromSelector(T,O);if(M){var N,$;if(isElementCovered(M))return console.info("The tooltip is not visible because another element is overlapping the target element."),void(null===(N=window)||void 0===N||null===(N=N.Apxor)||void 0===N||null===($=N.updateFlag)||void 0===$||$.call(N,!1));if(currentId=makeid(10),I||isElementInViewport(M)){var R=!1,D=new MutationObserver((function(){document.body.contains(M)||X()})),B=new IntersectionObserver((function(){var t=isElementInViewport(M);!t&&R&&X(),t&&(R=!0)})),F=getDocumentOffsetPosition(M),V=F.left,H=void 0===V?0:V,W=F.top,j=void 0===W?0:W,z=F.width,U=void 0===z?0:z,q=F.height,Y=void 0===q?0:q,G=F.left<window.innerWidth/2;if(0!==Y&&0!==U){var X=function(t){D.disconnect(),B.disconnect(),pt.parentNode.removeChild(pt),K.parentNode.removeChild(K),Q.parentNode.removeChild(Q),o&&o(t),ht&&clearTimeout(ht)},K=createTitleDescriptionButtons(C,k,s,l,d,P,L,X),Z=K.offsetWidth,J=K.offsetHeight,Q=createInnerCircle(U,Y,H,j,g,u),tt=H+U/2,et=j+Y/2,nt=Math.sqrt(Math.pow(U,2)+Math.pow(Y,2))/2,it=nt+Math.max(Z,U)/2+2*DEFAULT_PADDING,ot=-1,at=-1,rt=-1,st=-1,lt=et-nt,ct=et+nt;switch(w){case"TOP":at=(rt=tt-Z/2)<0?DEFAULT_PADDING:rt,ot="circle"===g?et-nt-J-25:j-J-25,st=ct-Math.abs(ct-ot)/2;break;case"BOTTOM":case"RIGHT":case"LEFT":at=(rt=tt-Z/2)<0?DEFAULT_PADDING:rt,st=lt+((ot="circle"===g?et+nt+25:j+Y+25)+J-lt)/2}if(-1!==at&&-1!==ot&&-1!==st){!G&&at+Z>window.innerWidth&&(at=window.innerWidth-Z-10),K.style.left="".concat(at,"px"),K.style.top="".concat(ot,"px");var dt=((rt=Math.min(H,at))+Math.max(H+U,at+Z))/2;(dt=Math.min(dt,document.scrollingElement.scrollWidth))<0&&(dt=0),(st=Math.min(st,document.scrollingElement.scrollHeight))<0&&(st=0);var pt=createSVGDiv({bg_color:a,opacity:y,innerRadius:nt,innerCenterX:tt,innerCenterY:et,outerRadius:it,outerCircleCenterX:dt,outerCircleCenterY:st,targetElementLeft:H,targetElementTop:j,targetElementWidth:U,targetElementHeight:Y,type:g});pt.style.visibility="hidden",Q.style.visibility="hidden",K.style.visibility="hidden";var ht=null,ut=function(t){var e=!1,n=!1;void 0===t&&(n=!0);var i=M.getBoundingClientRect();void 0!==t&&t.clientX>=i.left&&t.clientX<=i.left+i.width&&t.clientY>=i.top&&t.clientY<=i.top+i.height&&(e=!0),(_||e||n)&&(e&&M.click&&M.click(),X())};return n&&!0===n.auto_dismiss&&(ht=setTimeout((function(){return ut()}),f+n.duration)),pt.style.visibility="visible",Q.style.visibility="visible",K.style.visibility="visible",K.childElementCount>0&&(K.children[0].style.visibility="visible"),_&&pt.addEventListener("click",ut),Q.addEventListener("click",ut),I&&("TOP"===w?window.scrollTo({top:st-it,behavior:"smooth"}):"BOTTOM"===w&&window.scrollTo({top:Math.min(document.scrollingElement.scrollHeight,st+it),behavior:"smooth"})),D.observe(document.body,{childList:!0,subtree:!0}),B.observe(M),i&&i(),ut}console.warn("Failed to identify the right place for text")}else console.warn("Can't show on an invisible element: ",T)}else console.warn("Element ",T," not in viewport. Can't show")}else console.warn("Element not found with id or path: ",T)}function showCoachmarkWithDelay(t,e,n,i,o,a,r){if(null===t.currentAction||void 0===t.currentAction)if(e&&e.delay<=0){var s=showCoachmark(e,i,o,a);r(s)}else setTimeout((function(){if(null===t.currentAction||void 0===t.currentAction){var s=showCoachmark(e,n,i,o,a);r(s)}else console.error("An action is already being shown. Try after it gets dismissed")}),e.delay);else console.error("An action is already being shown. Try after it gets dismissed")}var top$1="top",bottom$1="bottom",right$1="right",left$1="left",auto$1="auto",basePlacements$1=[top$1,bottom$1,right$1,left$1],start$1="start",end$1="end",clippingParents$1="clippingParents",viewport$1="viewport",popper$1="popper",reference$1="reference",variationPlacements$1=basePlacements$1.reduce((function(t,e){return t.concat([e+"-"+start$1,e+"-"+end$1])}),[]),placements$1=[].concat(basePlacements$1,[auto$1]).reduce((function(t,e){return t.concat([e,e+"-"+start$1,e+"-"+end$1])}),[]),beforeRead$1="beforeRead",read$1="read",afterRead$1="afterRead",beforeMain$1="beforeMain",main$1="main",afterMain$1="afterMain",beforeWrite$1="beforeWrite",write$1="write",afterWrite$1="afterWrite",modifierPhases$1=[beforeRead$1,read$1,afterRead$1,beforeMain$1,main$1,afterMain$1,beforeWrite$1,write$1,afterWrite$1];function getNodeName$1(t){return t?(t.nodeName||"").toLowerCase():null}function getWindow$1(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function isElement$2(t){return t instanceof getWindow$1(t).Element||t instanceof Element}function isHTMLElement$1(t){return t instanceof getWindow$1(t).HTMLElement||t instanceof HTMLElement}function isShadowRoot(t){return"undefined"!=typeof ShadowRoot&&(t instanceof getWindow$1(t).ShadowRoot||t instanceof ShadowRoot)}function applyStyles$2(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},o=e.elements[t];isHTMLElement$1(o)&&getNodeName$1(o)&&(Object.assign(o.style,n),Object.keys(i).forEach((function(t){var e=i[t];!1===e?o.removeAttribute(t):o.setAttribute(t,!0===e?"":e)})))}))}function effect$3(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var i=e.elements[t],o=e.attributes[t]||{},a=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});isHTMLElement$1(i)&&getNodeName$1(i)&&(Object.assign(i.style,a),Object.keys(o).forEach((function(t){i.removeAttribute(t)})))}))}}var applyStyles$3={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles$2,effect:effect$3,requires:["computeStyles"]};function getBasePlacement$1(t){return t.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect$1(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var i=t.getBoundingClientRect(),o=1,a=1;e&&isHTMLElement$1(t)&&(o=t.offsetWidth>0&&round(i.width)/t.offsetWidth||1,a=t.offsetHeight>0&&round(i.height)/t.offsetHeight||1);var r=(isElement$2(t)?getWindow$1(t):window).visualViewport,s=!isLayoutViewport()&&n,l=(i.left+(s&&r?r.offsetLeft:0))/o,c=(i.top+(s&&r?r.offsetTop:0))/a,d=i.width/o,p=i.height/a;return{width:d,height:p,top:c,right:l+d,bottom:c+p,left:l,x:l,y:c}}function getLayoutRect$1(t){var e=getBoundingClientRect$1(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function contains$1(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&isShadowRoot(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function getComputedStyle$1(t){return getWindow$1(t).getComputedStyle(t)}function isTableElement$1(t){return["table","td","th"].indexOf(getNodeName$1(t))>=0}function getDocumentElement$1(t){return((isElement$2(t)?t.ownerDocument:t.document)||window.document).documentElement}function getParentNode$1(t){return"html"===getNodeName$1(t)?t:t.assignedSlot||t.parentNode||(isShadowRoot(t)?t.host:null)||getDocumentElement$1(t)}function getTrueOffsetParent$1(t){return isHTMLElement$1(t)&&"fixed"!==getComputedStyle$1(t).position?t.offsetParent:null}function getContainingBlock(t){var e=/firefox/i.test(getUAString());if(/Trident/i.test(getUAString())&&isHTMLElement$1(t)&&"fixed"===getComputedStyle$1(t).position)return null;var n=getParentNode$1(t);for(isShadowRoot(n)&&(n=n.host);isHTMLElement$1(n)&&["html","body"].indexOf(getNodeName$1(n))<0;){var i=getComputedStyle$1(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||e&&"filter"===i.willChange||e&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}function getOffsetParent$1(t){for(var e=getWindow$1(t),n=getTrueOffsetParent$1(t);n&&isTableElement$1(n)&&"static"===getComputedStyle$1(n).position;)n=getTrueOffsetParent$1(n);return n&&("html"===getNodeName$1(n)||"body"===getNodeName$1(n)&&"static"===getComputedStyle$1(n).position)?e:n||getContainingBlock(t)||e}function getMainAxisFromPlacement$1(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function within$1(t,e,n){return max(t,min(e,n))}function withinMaxClamp(t,e,n){var i=within$1(t,e,n);return i>n?n:i}function getFreshSideObject$1(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject$1(t){return Object.assign({},getFreshSideObject$1(),t)}function expandToHashMap$1(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}var toPaddingObject=function(t,e){return mergePaddingObject$1("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:expandToHashMap$1(t,basePlacements$1))};function arrow$2(t){var e,n=t.state,i=t.name,o=t.options,a=n.elements.arrow,r=n.modifiersData.popperOffsets,s=getBasePlacement$1(n.placement),l=getMainAxisFromPlacement$1(s),c=[left$1,right$1].indexOf(s)>=0?"height":"width";if(a&&r){var d=toPaddingObject(o.padding,n),p=getLayoutRect$1(a),h="y"===l?top$1:left$1,u="y"===l?bottom$1:right$1,m=n.rects.reference[c]+n.rects.reference[l]-r[l]-n.rects.popper[c],g=r[l]-n.rects.reference[l],f=getOffsetParent$1(a),v=f?"y"===l?f.clientHeight||0:f.clientWidth||0:0,_=m/2-g/2,b=d[h],y=v-p[c]-d[u],x=v/2-p[c]/2+_,w=within$1(b,x,y),C=l;n.modifiersData[i]=((e={})[C]=w,e.centerOffset=w-x,e)}}function effect$4(t){var e=t.state,n=t.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=e.elements.popper.querySelector(i)))&&contains$1(e.elements.popper,i)&&(e.elements.arrow=i)}var arrow$3={name:"arrow",enabled:!0,phase:"main",fn:arrow$2,effect:effect$4,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation$1(t){return t.split("-")[1]}var unsetSides$1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(t,e){var n=t.x,i=t.y,o=e.devicePixelRatio||1;return{x:round(n*o)/o||0,y:round(i*o)/o||0}}function mapToStyles$1(t){var e,n=t.popper,i=t.popperRect,o=t.placement,a=t.variation,r=t.offsets,s=t.position,l=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,p=t.isFixed,h=r.x,u=void 0===h?0:h,m=r.y,g=void 0===m?0:m,f="function"==typeof d?d({x:u,y:g}):{x:u,y:g};u=f.x,g=f.y;var v=r.hasOwnProperty("x"),_=r.hasOwnProperty("y"),b=left$1,y=top$1,x=window;if(c){var w=getOffsetParent$1(n),C="clientHeight",E="clientWidth";if(w===getWindow$1(n)&&"static"!==getComputedStyle$1(w=getDocumentElement$1(n)).position&&"absolute"===s&&(C="scrollHeight",E="scrollWidth"),w=w,o===top$1||(o===left$1||o===right$1)&&a===end$1)y=bottom$1,g-=(p&&w===x&&x.visualViewport?x.visualViewport.height:w[C])-i.height,g*=l?1:-1;if(o===left$1||(o===top$1||o===bottom$1)&&a===end$1)b=right$1,u-=(p&&w===x&&x.visualViewport?x.visualViewport.width:w[E])-i.width,u*=l?1:-1}var k,T=Object.assign({position:s},c&&unsetSides$1),A=!0===d?roundOffsetsByDPR({x:u,y:g},getWindow$1(n)):{x:u,y:g};return u=A.x,g=A.y,l?Object.assign({},T,((k={})[y]=_?"0":"",k[b]=v?"0":"",k.transform=(x.devicePixelRatio||1)<=1?"translate("+u+"px, "+g+"px)":"translate3d("+u+"px, "+g+"px, 0)",k)):Object.assign({},T,((e={})[y]=_?g+"px":"",e[b]=v?u+"px":"",e.transform="",e))}function computeStyles$2(t){var e=t.state,n=t.options,i=n.gpuAcceleration,o=void 0===i||i,a=n.adaptive,r=void 0===a||a,s=n.roundOffsets,l=void 0===s||s,c={placement:getBasePlacement$1(e.placement),variation:getVariation$1(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,mapToStyles$1(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,mapToStyles$1(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var computeStyles$3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles$2,data:{}},passive$1={passive:!0};function effect$5(t){var e=t.state,n=t.instance,i=t.options,o=i.scroll,a=void 0===o||o,r=i.resize,s=void 0===r||r,l=getWindow$1(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach((function(t){t.addEventListener("scroll",n.update,passive$1)})),s&&l.addEventListener("resize",n.update,passive$1),function(){a&&c.forEach((function(t){t.removeEventListener("scroll",n.update,passive$1)})),s&&l.removeEventListener("resize",n.update,passive$1)}}var eventListeners$1={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:effect$5,data:{}},hash$2={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement$1(t){return t.replace(/left|right|bottom|top/g,(function(t){return hash$2[t]}))}var hash$3={start:"end",end:"start"};function getOppositeVariationPlacement$1(t){return t.replace(/start|end/g,(function(t){return hash$3[t]}))}function getWindowScroll$1(t){var e=getWindow$1(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function getWindowScrollBarX$1(t){return getBoundingClientRect$1(getDocumentElement$1(t)).left+getWindowScroll$1(t).scrollLeft}function getViewportRect$1(t,e){var n=getWindow$1(t),i=getDocumentElement$1(t),o=n.visualViewport,a=i.clientWidth,r=i.clientHeight,s=0,l=0;if(o){a=o.width,r=o.height;var c=isLayoutViewport();(c||!c&&"fixed"===e)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:a,height:r,x:s+getWindowScrollBarX$1(t),y:l}}function getDocumentRect$1(t){var e,n=getDocumentElement$1(t),i=getWindowScroll$1(t),o=null==(e=t.ownerDocument)?void 0:e.body,a=max(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),r=max(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-i.scrollLeft+getWindowScrollBarX$1(t),l=-i.scrollTop;return"rtl"===getComputedStyle$1(o||n).direction&&(s+=max(n.clientWidth,o?o.clientWidth:0)-a),{width:a,height:r,x:s,y:l}}function isScrollParent(t){var e=getComputedStyle$1(t),n=e.overflow,i=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function getScrollParent$1(t){return["html","body","#document"].indexOf(getNodeName$1(t))>=0?t.ownerDocument.body:isHTMLElement$1(t)&&isScrollParent(t)?t:getScrollParent$1(getParentNode$1(t))}function listScrollParents$1(t,e){var n;void 0===e&&(e=[]);var i=getScrollParent$1(t),o=i===(null==(n=t.ownerDocument)?void 0:n.body),a=getWindow$1(i),r=o?[a].concat(a.visualViewport||[],isScrollParent(i)?i:[]):i,s=e.concat(r);return o?s:s.concat(listScrollParents$1(getParentNode$1(r)))}function rectToClientRect$1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function getInnerBoundingClientRect(t,e){var n=getBoundingClientRect$1(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function getClientRectFromMixedType$1(t,e,n){return e===viewport$1?rectToClientRect$1(getViewportRect$1(t,n)):isElement$2(e)?getInnerBoundingClientRect(e,n):rectToClientRect$1(getDocumentRect$1(getDocumentElement$1(t)))}function getClippingParents$1(t){var e=listScrollParents$1(getParentNode$1(t)),n=["absolute","fixed"].indexOf(getComputedStyle$1(t).position)>=0&&isHTMLElement$1(t)?getOffsetParent$1(t):t;return isElement$2(n)?e.filter((function(t){return isElement$2(t)&&contains$1(t,n)&&"body"!==getNodeName$1(t)})):[]}function getClippingRect$1(t,e,n,i){var o="clippingParents"===e?getClippingParents$1(t):[].concat(e),a=[].concat(o,[n]),r=a[0],s=a.reduce((function(e,n){var o=getClientRectFromMixedType$1(t,n,i);return e.top=max(o.top,e.top),e.right=min(o.right,e.right),e.bottom=min(o.bottom,e.bottom),e.left=max(o.left,e.left),e}),getClientRectFromMixedType$1(t,r,i));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function computeOffsets$1(t){var e,n=t.reference,i=t.element,o=t.placement,a=o?getBasePlacement$1(o):null,r=o?getVariation$1(o):null,s=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(a){case top$1:e={x:s,y:n.y-i.height};break;case bottom$1:e={x:s,y:n.y+n.height};break;case right$1:e={x:n.x+n.width,y:l};break;case left$1:e={x:n.x-i.width,y:l};break;default:e={x:n.x,y:n.y}}var c=a?getMainAxisFromPlacement$1(a):null;if(null!=c){var d="y"===c?"height":"width";switch(r){case start$1:e[c]=e[c]-(n[d]/2-i[d]/2);break;case end$1:e[c]=e[c]+(n[d]/2-i[d]/2)}}return e}function detectOverflow$1(t,e){void 0===e&&(e={});var n=e,i=n.placement,o=void 0===i?t.placement:i,a=n.strategy,r=void 0===a?t.strategy:a,s=n.boundary,l=void 0===s?clippingParents$1:s,c=n.rootBoundary,d=void 0===c?viewport$1:c,p=n.elementContext,h=void 0===p?popper$1:p,u=n.altBoundary,m=void 0!==u&&u,g=n.padding,f=void 0===g?0:g,v=mergePaddingObject$1("number"!=typeof f?f:expandToHashMap$1(f,basePlacements$1)),_=h===popper$1?reference$1:popper$1,b=t.rects.popper,y=t.elements[m?_:h],x=getClippingRect$1(isElement$2(y)?y:y.contextElement||getDocumentElement$1(t.elements.popper),l,d,r),w=getBoundingClientRect$1(t.elements.reference),C=computeOffsets$1({reference:w,element:b,strategy:"absolute",placement:o}),E=rectToClientRect$1(Object.assign({},b,C)),k=h===popper$1?E:w,T={top:x.top-k.top+v.top,bottom:k.bottom-x.bottom+v.bottom,left:x.left-k.left+v.left,right:k.right-x.right+v.right},A=t.modifiersData.offset;if(h===popper$1&&A){var O=A[o];Object.keys(T).forEach((function(t){var e=[right$1,bottom$1].indexOf(t)>=0?1:-1,n=[top$1,bottom$1].indexOf(t)>=0?"y":"x";T[t]+=O[n]*e}))}return T}function computeAutoPlacement$1(t,e){void 0===e&&(e={});var n=e,i=n.placement,o=n.boundary,a=n.rootBoundary,r=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?placements$1:l,d=getVariation$1(i),p=d?s?variationPlacements$1:variationPlacements$1.filter((function(t){return getVariation$1(t)===d})):basePlacements$1,h=p.filter((function(t){return c.indexOf(t)>=0}));0===h.length&&(h=p);var u=h.reduce((function(e,n){return e[n]=detectOverflow$1(t,{placement:n,boundary:o,rootBoundary:a,padding:r})[getBasePlacement$1(n)],e}),{});return Object.keys(u).sort((function(t,e){return u[t]-u[e]}))}function getExpandedFallbackPlacements$1(t){if(getBasePlacement$1(t)===auto$1)return[];var e=getOppositePlacement$1(t);return[getOppositeVariationPlacement$1(t),e,getOppositeVariationPlacement$1(e)]}function flip$2(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var o=n.mainAxis,a=void 0===o||o,r=n.altAxis,s=void 0===r||r,l=n.fallbackPlacements,c=n.padding,d=n.boundary,p=n.rootBoundary,h=n.altBoundary,u=n.flipVariations,m=void 0===u||u,g=n.allowedAutoPlacements,f=e.options.placement,v=getBasePlacement$1(f),_=l||(v===f||!m?[getOppositePlacement$1(f)]:getExpandedFallbackPlacements$1(f)),b=[f].concat(_).reduce((function(t,n){return t.concat(getBasePlacement$1(n)===auto$1?computeAutoPlacement$1(e,{placement:n,boundary:d,rootBoundary:p,padding:c,flipVariations:m,allowedAutoPlacements:g}):n)}),[]),y=e.rects.reference,x=e.rects.popper,w=new Map,C=!0,E=b[0],k=0;k<b.length;k++){var T=b[k],A=getBasePlacement$1(T),O=getVariation$1(T)===start$1,S=[top$1,bottom$1].indexOf(A)>=0,I=S?"width":"height",P=detectOverflow$1(e,{placement:T,boundary:d,rootBoundary:p,altBoundary:h,padding:c}),L=S?O?right$1:left$1:O?bottom$1:top$1;y[I]>x[I]&&(L=getOppositePlacement$1(L));var M=getOppositePlacement$1(L),N=[];if(a&&N.push(P[A]<=0),s&&N.push(P[L]<=0,P[M]<=0),N.every((function(t){return t}))){E=T,C=!1;break}w.set(T,N)}if(C)for(var $=function(t){var e=b.find((function(e){var n=w.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return E=e,"break"},R=m?3:1;R>0;R--){if("break"===$(R))break}e.placement!==E&&(e.modifiersData[i]._skip=!0,e.placement=E,e.reset=!0)}}var flip$3={name:"flip",enabled:!0,phase:"main",fn:flip$2,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets$1(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function isAnySideFullyClipped$1(t){return[top$1,right$1,bottom$1,left$1].some((function(e){return t[e]>=0}))}function hide$2(t){var e=t.state,n=t.name,i=e.rects.reference,o=e.rects.popper,a=e.modifiersData.preventOverflow,r=detectOverflow$1(e,{elementContext:"reference"}),s=detectOverflow$1(e,{altBoundary:!0}),l=getSideOffsets$1(r,i),c=getSideOffsets$1(s,o,a),d=isAnySideFullyClipped$1(l),p=isAnySideFullyClipped$1(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}var hide$3={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide$2};function distanceAndSkiddingToXY$1(t,e,n){var i=getBasePlacement$1(t),o=[left$1,top$1].indexOf(i)>=0?-1:1,a="function"==typeof n?n(Object.assign({},e,{placement:t})):n,r=a[0],s=a[1];return r=r||0,s=(s||0)*o,[left$1,right$1].indexOf(i)>=0?{x:s,y:r}:{x:r,y:s}}function offset$2(t){var e=t.state,n=t.options,i=t.name,o=n.offset,a=void 0===o?[0,0]:o,r=placements$1.reduce((function(t,n){return t[n]=distanceAndSkiddingToXY$1(n,e.rects,a),t}),{}),s=r[e.placement],l=s.x,c=s.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=r}var offset$3={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset$2};function popperOffsets$2(t){var e=t.state,n=t.name;e.modifiersData[n]=computeOffsets$1({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var popperOffsets$3={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets$2,data:{}};function getAltAxis$1(t){return"x"===t?"y":"x"}function preventOverflow$2(t){var e=t.state,n=t.options,i=t.name,o=n.mainAxis,a=void 0===o||o,r=n.altAxis,s=void 0!==r&&r,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,p=n.padding,h=n.tether,u=void 0===h||h,m=n.tetherOffset,g=void 0===m?0:m,f=detectOverflow$1(e,{boundary:l,rootBoundary:c,padding:p,altBoundary:d}),v=getBasePlacement$1(e.placement),_=getVariation$1(e.placement),b=!_,y=getMainAxisFromPlacement$1(v),x=getAltAxis$1(y),w=e.modifiersData.popperOffsets,C=e.rects.reference,E=e.rects.popper,k="function"==typeof g?g(Object.assign({},e.rects,{placement:e.placement})):g,T="number"==typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(w){if(a){var S,I="y"===y?top$1:left$1,P="y"===y?bottom$1:right$1,L="y"===y?"height":"width",M=w[y],N=M+f[I],$=M-f[P],R=u?-E[L]/2:0,D=_===start$1?C[L]:E[L],B=_===start$1?-E[L]:-C[L],F=e.elements.arrow,V=u&&F?getLayoutRect$1(F):{width:0,height:0},H=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:getFreshSideObject$1(),W=H[I],j=H[P],z=within$1(0,C[L],V[L]),U=b?C[L]/2-R-z-W-T.mainAxis:D-z-W-T.mainAxis,q=b?-C[L]/2+R+z+j+T.mainAxis:B+z+j+T.mainAxis,Y=e.elements.arrow&&getOffsetParent$1(e.elements.arrow),G=Y?"y"===y?Y.clientTop||0:Y.clientLeft||0:0,X=null!=(S=null==A?void 0:A[y])?S:0,K=M+q-X,Z=within$1(u?min(N,M+U-X-G):N,M,u?max($,K):$);w[y]=Z,O[y]=Z-M}if(s){var J,Q="x"===y?top$1:left$1,tt="x"===y?bottom$1:right$1,et=w[x],nt="y"===x?"height":"width",it=et+f[Q],ot=et-f[tt],at=-1!==[top$1,left$1].indexOf(v),rt=null!=(J=null==A?void 0:A[x])?J:0,st=at?it:et-C[nt]-E[nt]-rt+T.altAxis,lt=at?et+C[nt]+E[nt]-rt-T.altAxis:ot,ct=u&&at?withinMaxClamp(st,et,lt):within$1(u?st:it,et,u?lt:ot);w[x]=ct,O[x]=ct-et}e.modifiersData[i]=O}}var preventOverflow$3={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow$2,requiresIfExists:["offset"]};function getHTMLElementScroll$1(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function getNodeScroll$1(t){return t!==getWindow$1(t)&&isHTMLElement$1(t)?getHTMLElementScroll$1(t):getWindowScroll$1(t)}function isElementScaled(t){var e=t.getBoundingClientRect(),n=round(e.width)/t.offsetWidth||1,i=round(e.height)/t.offsetHeight||1;return 1!==n||1!==i}function getCompositeRect$1(t,e,n){void 0===n&&(n=!1);var i=isHTMLElement$1(e),o=isHTMLElement$1(e)&&isElementScaled(e),a=getDocumentElement$1(e),r=getBoundingClientRect$1(t,o,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&(("body"!==getNodeName$1(e)||isScrollParent(a))&&(s=getNodeScroll$1(e)),isHTMLElement$1(e)?((l=getBoundingClientRect$1(e,!0)).x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=getWindowScrollBarX$1(a))),{x:r.left+s.scrollLeft-l.x,y:r.top+s.scrollTop-l.y,width:r.width,height:r.height}}function order$1(t){var e=new Map,n=new Set,i=[];return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||function t(o){n.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach((function(i){if(!n.has(i)){var o=e.get(i);o&&t(o)}})),i.push(o)}(t)})),i}function orderModifiers$1(t){var e=order$1(t);return modifierPhases$1.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}function debounce$1(t){var e;return function(){return e||(e=new Promise((function(n){Promise.resolve().then((function(){e=void 0,n(t())}))}))),e}}function mergeByName$1(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}var DEFAULT_OPTIONS$1={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements$1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function popperGenerator$1(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,i=void 0===n?[]:n,o=e.defaultOptions,a=void 0===o?DEFAULT_OPTIONS$1:o;return function(t,e,n){void 0===n&&(n=a);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS$1,a),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},r=[],s=!1,l={state:o,setOptions:function(n){var s="function"==typeof n?n(o.options):n;c(),o.options=Object.assign({},a,o.options,s),o.scrollParents={reference:isElement$2(t)?listScrollParents$1(t):t.contextElement?listScrollParents$1(t.contextElement):[],popper:listScrollParents$1(e)};var d=orderModifiers$1(mergeByName$1([].concat(i,o.options.modifiers)));return o.orderedModifiers=d.filter((function(t){return t.enabled})),o.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,i=void 0===n?{}:n,a=t.effect;if("function"==typeof a){var s=a({state:o,name:e,instance:l,options:i});r.push(s||function(){})}})),l.update()},forceUpdate:function(){if(!s){var t=o.elements,e=t.reference,n=t.popper;if(areValidElements$1(e,n)){o.rects={reference:getCompositeRect$1(e,getOffsetParent$1(n),"fixed"===o.options.strategy),popper:getLayoutRect$1(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(t){return o.modifiersData[t.name]=Object.assign({},t.data)}));for(var i=0;i<o.orderedModifiers.length;i++)if(!0!==o.reset){var a=o.orderedModifiers[i],r=a.fn,c=a.options,d=void 0===c?{}:c,p=a.name;"function"==typeof r&&(o=r({state:o,options:d,name:p,instance:l})||o)}else o.reset=!1,i=-1}}},update:debounce$1((function(){return new Promise((function(t){l.forceUpdate(),t(o)}))})),destroy:function(){c(),s=!0}};if(!areValidElements$1(t,e))return l;function c(){r.forEach((function(t){return t()})),r=[]}return l.setOptions(n).then((function(t){!s&&n.onFirstUpdate&&n.onFirstUpdate(t)})),l}}var defaultModifiers$1=[eventListeners$1,popperOffsets$3,computeStyles$3,applyStyles$3,offset$3,flip$3,preventOverflow$3,arrow$3,hide$3],createPopper$1=popperGenerator$1({defaultModifiers:defaultModifiers$1}),BOX_CLASS="tippy-box",CONTENT_CLASS="tippy-content",BACKDROP_CLASS="tippy-backdrop",ARROW_CLASS="tippy-arrow",SVG_ARROW_CLASS="tippy-svg-arrow",TOUCH_OPTIONS={passive:!0,capture:!0},TIPPY_DEFAULT_APPEND_TO=function(){return document.body};function getValueAtIndexOrReturn(t,e,n){if(Array.isArray(t)){var i=t[e];return null==i?Array.isArray(n)?n[e]:n:i}return t}function isType(t,e){var n={}.toString.call(t);return 0===n.indexOf("[object")&&n.indexOf(e+"]")>-1}function invokeWithArgsOrReturn(t,e){return"function"==typeof t?t.apply(void 0,e):t}function debounce$2(t,e){return 0===e?t:function(i){clearTimeout(n),n=setTimeout((function(){t(i)}),e)};var n}function splitBySpaces(t){return t.split(/\s+/).filter(Boolean)}function normalizeToArray(t){return[].concat(t)}function pushIfUnique(t,e){-1===t.indexOf(e)&&t.push(e)}function unique(t){return t.filter((function(e,n){return t.indexOf(e)===n}))}function getBasePlacement$2(t){return t.split("-")[0]}function arrayFrom(t){return[].slice.call(t)}function removeUndefinedProps(t){return Object.keys(t).reduce((function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e}),{})}function div(){return document.createElement("div")}function isElement$3(t){return["Element","Fragment"].some((function(e){return isType(t,e)}))}function isNodeList(t){return isType(t,"NodeList")}function isMouseEvent(t){return isType(t,"MouseEvent")}function isReferenceElement(t){return!(!t||!t._tippy||t._tippy.reference!==t)}function getArrayOfElements(t){return isElement$3(t)?[t]:isNodeList(t)?arrayFrom(t):Array.isArray(t)?t:arrayFrom(document.querySelectorAll(t))}function setTransitionDuration(t,e){t.forEach((function(t){t&&(t.style.transitionDuration=e+"ms")}))}function setVisibilityState(t,e){t.forEach((function(t){t&&t.setAttribute("data-state",e)}))}function getOwnerDocument(t){var e,n=normalizeToArray(t)[0];return null!=n&&null!=(e=n.ownerDocument)&&e.body?n.ownerDocument:document}function isCursorOutsideInteractiveBorder(t,e){var n=e.clientX,i=e.clientY;return t.every((function(t){var e=t.popperRect,o=t.popperState,a=t.props.interactiveBorder,r=getBasePlacement$2(o.placement),s=o.modifiersData.offset;if(!s)return!0;var l="bottom"===r?s.top.y:0,c="top"===r?s.bottom.y:0,d="right"===r?s.left.x:0,p="left"===r?s.right.x:0,h=e.top-i+l>a,u=i-e.bottom-c>a,m=e.left-n+d>a,g=n-e.right-p>a;return h||u||m||g}))}function updateTransitionEndListener(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(e){t[i](e,n)}))}function actualContains(t,e){for(var n=e;n;){var i;if(t.contains(n))return!0;n=null==n.getRootNode||null==(i=n.getRootNode())?void 0:i.host}return!1}var currentInput={isTouch:!1},lastMouseMoveTime=0;function onDocumentTouchStart(){currentInput.isTouch||(currentInput.isTouch=!0,window.performance&&document.addEventListener("mousemove",onDocumentMouseMove))}function onDocumentMouseMove(){var t=performance.now();t-lastMouseMoveTime<20&&(currentInput.isTouch=!1,document.removeEventListener("mousemove",onDocumentMouseMove)),lastMouseMoveTime=t}function onWindowBlur(){var t=document.activeElement;if(isReferenceElement(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function bindGlobalEventListeners(){document.addEventListener("touchstart",onDocumentTouchStart,TOUCH_OPTIONS),window.addEventListener("blur",onWindowBlur)}var isBrowser="undefined"!=typeof window&&"undefined"!=typeof document,isIE11=!!isBrowser&&!!window.msCrypto,pluginProps={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},renderProps={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},defaultProps=Object.assign({appendTo:TIPPY_DEFAULT_APPEND_TO,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},pluginProps,renderProps),defaultKeys=Object.keys(defaultProps),setDefaultProps=function(t){Object.keys(t).forEach((function(e){defaultProps[e]=t[e]}))};function getExtendedPassedProps(t){var e=(t.plugins||[]).reduce((function(e,n){var i,o=n.name,a=n.defaultValue;o&&(e[o]=void 0!==t[o]?t[o]:null!=(i=defaultProps[o])?i:a);return e}),{});return Object.assign({},t,e)}function getDataAttributeProps(t,e){return(e?Object.keys(getExtendedPassedProps(Object.assign({},defaultProps,{plugins:e}))):defaultKeys).reduce((function(e,n){var i=(t.getAttribute("data-tippy-"+n)||"").trim();if(!i)return e;if("content"===n)e[n]=i;else try{e[n]=JSON.parse(i)}catch(t){e[n]=i}return e}),{})}function evaluateProps(t,e){var n=Object.assign({},e,{content:invokeWithArgsOrReturn(e.content,[t])},e.ignoreAttributes?{}:getDataAttributeProps(t,e.plugins));return n.aria=Object.assign({},defaultProps.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?e.interactive:n.aria.expanded,content:"auto"===n.aria.content?e.interactive?null:"describedby":n.aria.content},n}var innerHTML=function(){return"innerHTML"};function dangerouslySetInnerHTML(t,e){t[innerHTML()]=e}function createArrowElement(t){var e=div();return!0===t?e.className=ARROW_CLASS:(e.className=SVG_ARROW_CLASS,isElement$3(t)?e.appendChild(t):dangerouslySetInnerHTML(e,t)),e}function setContent(t,e){isElement$3(e.content)?(dangerouslySetInnerHTML(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?dangerouslySetInnerHTML(t,e.content):t.textContent=e.content)}function getChildren(t){var e=t.firstElementChild,n=arrayFrom(e.children);return{box:e,content:n.find((function(t){return t.classList.contains(CONTENT_CLASS)})),arrow:n.find((function(t){return t.classList.contains(ARROW_CLASS)||t.classList.contains(SVG_ARROW_CLASS)})),backdrop:n.find((function(t){return t.classList.contains(BACKDROP_CLASS)}))}}function render(t){var e=div(),n=div();n.className=BOX_CLASS,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=div();function o(n,i){var o=getChildren(e),a=o.box,r=o.content,s=o.arrow;i.theme?a.setAttribute("data-theme",i.theme):a.removeAttribute("data-theme"),"string"==typeof i.animation?a.setAttribute("data-animation",i.animation):a.removeAttribute("data-animation"),i.inertia?a.setAttribute("data-inertia",""):a.removeAttribute("data-inertia"),a.style.maxWidth="number"==typeof i.maxWidth?i.maxWidth+"px":i.maxWidth,i.role?a.setAttribute("role",i.role):a.removeAttribute("role"),n.content===i.content&&n.allowHTML===i.allowHTML||setContent(r,t.props),i.arrow?s?n.arrow!==i.arrow&&(a.removeChild(s),a.appendChild(createArrowElement(i.arrow))):a.appendChild(createArrowElement(i.arrow)):s&&a.removeChild(s)}return i.className=CONTENT_CLASS,i.setAttribute("data-state","hidden"),setContent(i,t.props),e.appendChild(n),n.appendChild(i),o(t.props,t.props),{popper:e,onUpdate:o}}render.$$tippy=!0;var idCounter=1,mouseMoveListeners=[],mountedInstances=[];function createTippy(t,e){var n,i,o,a,r,s,l,c=evaluateProps(t,Object.assign({},defaultProps,getExtendedPassedProps(removeUndefinedProps(e)))),d=!1,p=!1,h=!1,u=!1,m=[],g=debounce$2(q,c.interactiveDebounce),f=idCounter++,v=unique(c.plugins),_={id:f,reference:t,popper:div(),popperInstance:null,props:c,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:v,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(o)},setProps:function(e){if(_.state.isDestroyed)return;L("onBeforeUpdate",[_,e]),z();var n=_.props,i=evaluateProps(t,Object.assign({},n,removeUndefinedProps(e),{ignoreAttributes:!0}));_.props=i,j(),n.interactiveDebounce!==i.interactiveDebounce&&($(),g=debounce$2(q,i.interactiveDebounce));n.triggerTarget&&!i.triggerTarget?normalizeToArray(n.triggerTarget).forEach((function(t){t.removeAttribute("aria-expanded")})):i.triggerTarget&&t.removeAttribute("aria-expanded");N(),P(),x&&x(n,i);_.popperInstance&&(K(),J().forEach((function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)})));L("onAfterUpdate",[_,e])},setContent:function(t){_.setProps({content:t})},show:function(){var t=_.state.isVisible,e=_.state.isDestroyed,n=!_.state.isEnabled,i=currentInput.isTouch&&!_.props.touch,o=getValueAtIndexOrReturn(_.props.duration,0,defaultProps.duration);if(t||e||n||i)return;if(A().hasAttribute("disabled"))return;if(L("onShow",[_],!1),!1===_.props.onShow(_))return;_.state.isVisible=!0,T()&&(y.style.visibility="visible");P(),F(),_.state.isMounted||(y.style.transition="none");if(T()){var a=S(),r=a.box,l=a.content;setTransitionDuration([r,l],0)}s=function(){var t;if(_.state.isVisible&&!u){if(u=!0,y.offsetHeight,y.style.transition=_.props.moveTransition,T()&&_.props.animation){var e=S(),n=e.box,i=e.content;setTransitionDuration([n,i],o),setVisibilityState([n,i],"visible")}M(),N(),pushIfUnique(mountedInstances,_),null==(t=_.popperInstance)||t.forceUpdate(),L("onMount",[_]),_.props.animation&&T()&&function(t,e){H(t,e)}(o,(function(){_.state.isShown=!0,L("onShown",[_])}))}},function(){var t,e=_.props.appendTo,n=A();t=_.props.interactive&&e===TIPPY_DEFAULT_APPEND_TO||"parent"===e?n.parentNode:invokeWithArgsOrReturn(e,[n]);t.contains(y)||t.appendChild(y);_.state.isMounted=!0,K()}()},hide:function(){var t=!_.state.isVisible,e=_.state.isDestroyed,n=!_.state.isEnabled,i=getValueAtIndexOrReturn(_.props.duration,1,defaultProps.duration);if(t||e||n)return;if(L("onHide",[_],!1),!1===_.props.onHide(_))return;_.state.isVisible=!1,_.state.isShown=!1,u=!1,d=!1,T()&&(y.style.visibility="hidden");if($(),V(),P(!0),T()){var o=S(),a=o.box,r=o.content;_.props.animation&&(setTransitionDuration([a,r],i),setVisibilityState([a,r],"hidden"))}M(),N(),_.props.animation?T()&&function(t,e){H(t,(function(){!_.state.isVisible&&y.parentNode&&y.parentNode.contains(y)&&e()}))}(i,_.unmount):_.unmount()},hideWithInteractivity:function(t){O().addEventListener("mousemove",g),pushIfUnique(mouseMoveListeners,g),g(t)},enable:function(){_.state.isEnabled=!0},disable:function(){_.hide(),_.state.isEnabled=!1},unmount:function(){_.state.isVisible&&_.hide();if(!_.state.isMounted)return;Z(),J().forEach((function(t){t._tippy.unmount()})),y.parentNode&&y.parentNode.removeChild(y);mountedInstances=mountedInstances.filter((function(t){return t!==_})),_.state.isMounted=!1,L("onHidden",[_])},destroy:function(){if(_.state.isDestroyed)return;_.clearDelayTimeouts(),_.unmount(),z(),delete t._tippy,_.state.isDestroyed=!0,L("onDestroy",[_])}};if(!c.render)return _;var b=c.render(_),y=b.popper,x=b.onUpdate;y.setAttribute("data-tippy-root",""),y.id="tippy-"+_.id,_.popper=y,t._tippy=_,y._tippy=_;var w=v.map((function(t){return t.fn(_)})),C=t.hasAttribute("aria-expanded");return j(),N(),P(),L("onCreate",[_]),c.showOnCreate&&Q(),y.addEventListener("mouseenter",(function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()})),y.addEventListener("mouseleave",(function(){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&O().addEventListener("mousemove",g)})),_;function E(){var t=_.props.touch;return Array.isArray(t)?t:[t,0]}function k(){return"hold"===E()[0]}function T(){var t;return!(null==(t=_.props.render)||!t.$$tippy)}function A(){return l||t}function O(){var t=A().parentNode;return t?getOwnerDocument(t):document}function S(){return getChildren(y)}function I(t){return _.state.isMounted&&!_.state.isVisible||currentInput.isTouch||a&&"focus"===a.type?0:getValueAtIndexOrReturn(_.props.delay,t?0:1,defaultProps.delay)}function P(t){void 0===t&&(t=!1),y.style.pointerEvents=_.props.interactive&&!t?"":"none",y.style.zIndex=""+_.props.zIndex}function L(t,e,n){var i;(void 0===n&&(n=!0),w.forEach((function(n){n[t]&&n[t].apply(n,e)})),n)&&(i=_.props)[t].apply(i,e)}function M(){var e=_.props.aria;if(e.content){var n="aria-"+e.content,i=y.id;normalizeToArray(_.props.triggerTarget||t).forEach((function(t){var e=t.getAttribute(n);if(_.state.isVisible)t.setAttribute(n,e?e+" "+i:i);else{var o=e&&e.replace(i,"").trim();o?t.setAttribute(n,o):t.removeAttribute(n)}}))}}function N(){!C&&_.props.aria.expanded&&normalizeToArray(_.props.triggerTarget||t).forEach((function(t){_.props.interactive?t.setAttribute("aria-expanded",_.state.isVisible&&t===A()?"true":"false"):t.removeAttribute("aria-expanded")}))}function $(){O().removeEventListener("mousemove",g),mouseMoveListeners=mouseMoveListeners.filter((function(t){return t!==g}))}function R(e){if(!currentInput.isTouch||!h&&"mousedown"!==e.type){var n=e.composedPath&&e.composedPath()[0]||e.target;if(!_.props.interactive||!actualContains(y,n)){if(normalizeToArray(_.props.triggerTarget||t).some((function(t){return actualContains(t,n)}))){if(currentInput.isTouch)return;if(_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else L("onClickOutside",[_,e]);!0===_.props.hideOnClick&&(_.clearDelayTimeouts(),_.hide(),p=!0,setTimeout((function(){p=!1})),_.state.isMounted||V())}}}function D(){h=!0}function B(){h=!1}function F(){var t=O();t.addEventListener("mousedown",R,!0),t.addEventListener("touchend",R,TOUCH_OPTIONS),t.addEventListener("touchstart",B,TOUCH_OPTIONS),t.addEventListener("touchmove",D,TOUCH_OPTIONS)}function V(){var t=O();t.removeEventListener("mousedown",R,!0),t.removeEventListener("touchend",R,TOUCH_OPTIONS),t.removeEventListener("touchstart",B,TOUCH_OPTIONS),t.removeEventListener("touchmove",D,TOUCH_OPTIONS)}function H(t,e){var n=S().box;function i(t){t.target===n&&(updateTransitionEndListener(n,"remove",i),e())}if(0===t)return e();updateTransitionEndListener(n,"remove",r),updateTransitionEndListener(n,"add",i),r=i}function W(e,n,i){void 0===i&&(i=!1),normalizeToArray(_.props.triggerTarget||t).forEach((function(t){t.addEventListener(e,n,i),m.push({node:t,eventType:e,handler:n,options:i})}))}function j(){k()&&(W("touchstart",U,{passive:!0}),W("touchend",Y,{passive:!0})),splitBySpaces(_.props.trigger).forEach((function(t){if("manual"!==t)switch(W(t,U),t){case"mouseenter":W("mouseleave",Y);break;case"focus":W(isIE11?"focusout":"blur",G);break;case"focusin":W("focusout",G)}}))}function z(){m.forEach((function(t){var e=t.node,n=t.eventType,i=t.handler,o=t.options;e.removeEventListener(n,i,o)})),m=[]}function U(t){var e,n=!1;if(_.state.isEnabled&&!X(t)&&!p){var i="focus"===(null==(e=a)?void 0:e.type);a=t,l=t.currentTarget,N(),!_.state.isVisible&&isMouseEvent(t)&&mouseMoveListeners.forEach((function(e){return e(t)})),"click"===t.type&&(_.props.trigger.indexOf("mouseenter")<0||d)&&!1!==_.props.hideOnClick&&_.state.isVisible?n=!0:Q(t),"click"===t.type&&(d=!n),n&&!i&&tt(t)}}function q(t){var e=t.target,n=A().contains(e)||y.contains(e);"mousemove"===t.type&&n||isCursorOutsideInteractiveBorder(J().concat(y).map((function(t){var e,n=null==(e=t._tippy.popperInstance)?void 0:e.state;return n?{popperRect:t.getBoundingClientRect(),popperState:n,props:c}:null})).filter(Boolean),t)&&($(),tt(t))}function Y(t){X(t)||_.props.trigger.indexOf("click")>=0&&d||(_.props.interactive?_.hideWithInteractivity(t):tt(t))}function G(t){_.props.trigger.indexOf("focusin")<0&&t.target!==A()||_.props.interactive&&t.relatedTarget&&y.contains(t.relatedTarget)||tt(t)}function X(t){return!!currentInput.isTouch&&k()!==t.type.indexOf("touch")>=0}function K(){Z();var e=_.props,n=e.popperOptions,i=e.placement,o=e.offset,a=e.getReferenceClientRect,r=e.moveTransition,l=T()?getChildren(y).arrow:null,c=a?{getBoundingClientRect:a,contextElement:a.contextElement||A()}:t,d=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!r}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(T()){var n=S().box;["placement","reference-hidden","escaped"].forEach((function(t){"placement"===t?n.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?n.setAttribute("data-"+t,""):n.removeAttribute("data-"+t)})),e.attributes.popper={}}}}];T()&&l&&d.push({name:"arrow",options:{element:l,padding:3}}),d.push.apply(d,(null==n?void 0:n.modifiers)||[]),_.popperInstance=createPopper$1(c,y,Object.assign({},n,{placement:i,onFirstUpdate:s,modifiers:d}))}function Z(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function J(){return arrayFrom(y.querySelectorAll("[data-tippy-root]"))}function Q(t){_.clearDelayTimeouts(),t&&L("onTrigger",[_,t]),F();var e=I(!0),i=E(),o=i[0],a=i[1];currentInput.isTouch&&"hold"===o&&a&&(e=a),e?n=setTimeout((function(){_.show()}),e):_.show()}function tt(t){if(_.clearDelayTimeouts(),L("onUntrigger",[_,t]),_.state.isVisible){if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&d)){var e=I(!1);e?i=setTimeout((function(){_.state.isVisible&&_.hide()}),e):o=requestAnimationFrame((function(){_.hide()}))}}else V()}}function tippy(t,e){void 0===e&&(e={});var n=defaultProps.plugins.concat(e.plugins||[]);bindGlobalEventListeners();var i=Object.assign({},e,{plugins:n}),o=getArrayOfElements(t).reduce((function(t,e){var n=e&&createTippy(e,i);return n&&t.push(n),t}),[]);return isElement$3(t)?o[0]:o}tippy.defaultProps=defaultProps,tippy.setDefaultProps=setDefaultProps,tippy.currentInput=currentInput;var applyStylesModifier=Object.assign({},applyStyles$3,{effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow)}});tippy.setDefaultProps({render:render});var TemplateContent=_createClass((function TemplateContent(_config,configId,name,_type,closeCallback){var _this=this,_config$wait_interval,_config$termination;_classCallCheck(this,TemplateContent),_defineProperty(this,"lcsW",(function(){return new Promise((function(resolve,reject){try{var element=_this.QMbf(_this.layout),styleElement=document.createElement("style");styleElement.innerHTML=_this.styleContent,document.head.appendChild(styleElement),_this.peHz();try{eval(_this.script)}catch(t){var _window;console.log("found error while executing script: ".concat(t)),null===(_window=window)||void 0===_window||null===(_window=_window.ApxorLogger)||void 0===_window||_window.error("found error while executing script: ".concat(null==t?void 0:t.name," ").concat(null==t?void 0:t.message)),reject("found error while executing script: ".concat(t))}_this.imageElements.forEach((function(t){t.addEventListener("error",(function(){_this.Osqo("provided image doesn't exists")}))})),_this.intervalToCheckMediaLoadingStatus=setInterval((function(){_this.wait_interval-=1,_this.wait_interval<=0?_this.Osqo("provided media doesn't exists"):_this.hstK()&&_this.mAWN()&&_this.RMQV()&&(clearInterval(_this.intervalToCheckMediaLoadingStatus),resolve(element))}),100)}catch(t){var _window2;console.log("failed while creating builder template with error ".concat(t)),null===(_window2=window)||void 0===_window2||null===(_window2=_window2.ApxorLogger)||void 0===_window2||_window2.error("failed while creating builder template with error: ".concat(null==t?void 0:t.name," ").concat(null==t?void 0:t.message)),reject("failed while creating builder template with error: ".concat(t))}}))})),_defineProperty(this,"Osqo",(function(t){var e,n,i,o,a,r,s,l,c,d;!_this.loggedNudgeNotShownEvent&&(null===(e=window.ApxorRTM)||void 0===e||e.logEvent("apx_nudge_not_shown",{apx_nudge_name:_this.name,apx_nudge_id:"ios"===(null===(n=window.Apxor)||void 0===n?void 0:n.platform)?null===(i=_this.config)||void 0===i||null===(i=i.additional_info)||void 0===i?void 0:i.id:_this.configId,apx_template_name:_this.type,apx_notshown_type:"error",apx_reason:t,apx_variant_code:null===(o=_this.config)||void 0===o||null===(o=o.additional_info)||void 0===o?void 0:o.apx_variant_code,apx_step:"ios"===(null===(a=window.Apxor)||void 0===a?void 0:a.platform)?null!==(r=_this.config)&&void 0!==r&&null!==(r=r.additional_info)&&void 0!==r&&r.is_preview?1:null===(s=_this.config)||void 0===s||null===(s=s.additional_info)||void 0===s?void 0:s.apx_step:null!==(l=_this.config)&&void 0!==l&&null!==(l=l.additional_info)&&void 0!==l&&l.is_preview?1:null===(c=_this.config)||void 0===c||null===(c=c.additional_info)||void 0===c?void 0:c.apx_step})),_this.loggedNudgeNotShownEvent=!0,clearInterval(_this.intervalToCheckMediaLoadingStatus),_this.closeCallBack("cancel"),null===(d=window)||void 0===d||null===(d=d.ApxorInternals)||void 0===d||d.removeBuilderTemplate(_this.configId)})),_defineProperty(this,"peHz",(function(){var t=document.createElement("style");t.innerHTML=_this.initialStyles,t.setAttribute("apx-builder-template-styles",""),document.head.appendChild(t)})),_defineProperty(this,"QMbf",(function(t){var e,n;switch(t.type){case"cell":case"img":case"text":case"cta_button":case"button":n=document.createElement(BUILDER_TEMPLATE_NODE_TYPES[t.type]);break;case"video":(n=document.createElement("video")).controlsList="noplaybackrate nodownload nofullscreen",n.controls=!0,n.muted=!0,n.disablePictureInPicture=!0,n.autoplay=!0,"ios"===(null===(e=window.Apxor)||void 0===e?void 0:e.platform)&&(n.playsInline=!0);break;case"svg":n=document.createElement("span");break;case"cross_button":(n=document.createElement("div")).innerHTML=CROSS_ICON_SVG,n.style.display="flex";break;default:n=document.createElement(t.type)}if(t.properties)for(var i in t.properties)if(!("img"===t.type&&"src"===i||"img"===t.type&&"format"===i))if("video"!==t.type||"source"!==i)n[i]=t.properties[i];else{var o=document.createElement("source");for(var a in null===(r=t.properties)||void 0===r?void 0:r[i]){var r,s;o[a]=null===(s=t.properties)||void 0===s||null===(s=s[i])||void 0===s?void 0:s[a]}o.type="video/mp4",n.appendChild(o)}if(n.classList.add(t._id),t.css){var l="";if("img"===t.type){var c=removeKeys(parseCSS(t.css),Object.keys(imgWrapperStyles));l=".".concat(t._id," {\n        ").concat(objectToCSS(c),"\n      }\n      ")}else if(t._id===_this.layout._id){var d=parseCSS(t.css);if(d["background-image"]){var p=extractBgImageUrl(d);d["background-image"]="url(".concat(decodeURIComponent(p),")"),_this.bgImageUrl=decodeURIComponent(p)}l=".".concat(t._id," {\n        ").concat(objectToCSS(d),"\n      }\n      ")}else{var h,u;l="".concat(null!==(h=null==t||null===(u=t.properties)||void 0===u||null===(u=u.custom_font)||void 0===u?void 0:u.font_face)&&void 0!==h?h:"",".").concat(t._id," {\n          ").concat(t.css,"\n        }\n        ")}_this.initialStyles+=l}if(t.enable_actions&&t.actions.length>0&&t.actions.forEach((function(e){null!=e&&e.next_step&&(null==e||e.next_step);switch(e.type){case"activity":case"deeplink":case"ir":n.onclick=function(n){var i;n.stopPropagation(),window.Apxor.redirect(JSON.stringify(e));var o,a,r="";("cta_button"!==t.type&&"button"!==t.type||(r="cta-clicked"),_this.YtYs(n,"redirect",r),null!==(i=_this.config)&&void 0!==i&&null!==(i=i.additional_info)&&void 0!==i&&i.apx_step)&&(null===(o=window)||void 0===o||null===(o=o.Apxor)||void 0===o||o.triggerNextStep(_this.configId,(null===(a=_this.config)||void 0===a||null===(a=a.additional_info)||void 0===a?void 0:a.apx_step)+1))};break;case"cancel":n.onclick=function(e){e.stopPropagation();var n="";"cross_button"===t.type?n="cross-clicked":"cta_button"!==t.type&&"button"!==t.type||(n="cta-clicked"),_this.YtYs(e,"cancel",n)};break;case"dismiss":n.onclick=function(e){var n;e.stopPropagation();var i,o,a="";("cross_button"===t.type?a="cross-clicked":"cta_button"!==t.type&&"button"!==t.type||(a="cta-clicked"),_this.YtYs(e,"dismiss",a),null!==(n=_this.config)&&void 0!==n&&null!==(n=n.additional_info)&&void 0!==n&&n.apx_step)&&(null===(i=window)||void 0===i||null===(i=i.Apxor)||void 0===i||i.triggerNextStep(_this.configId,(null===(o=_this.config)||void 0===o||null===(o=o.additional_info)||void 0===o?void 0:o.apx_step)+1))};break;case"never":n.onclick=function(t){t.stopPropagation(),window.Apxor.neverShow(_this.configId,_this.name,"IN_APP"),_this.YtYs(t,"never")};break;case"toggle-class":n.onclick=function(n){n.stopPropagation();var i=document.getElementById(e.target_id);isNull(i)&&(i=document.querySelector(e.target_id)),i&&i.classList.add(t.action.class_name)};break;case"copy-content":n.onclick=function(t){t.stopPropagation();var n=null==e?void 0:e.content,i=document.createElement("input");i.value=n,document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i),_this.YtYs(t,"copy-content","cta-clicked"),setTimeout((function(){window.Apxor.showInfoToast("Text-Copied:".concat(n))}),500)};break;case"log-app-event":n.onclick=function(t){t.stopPropagation(),window.Apxor.logAppEvent(null==e?void 0:e.event_name)};break;case"log-client-event":n.onclick=function(t){t.stopPropagation(),window.Apxor.logClientEvent(null==e?void 0:e.event_name)}}})),t.absolute_position_children&&t.absolute_position_children.length>0&&t.absolute_position_children.forEach((function(t){var e=_this.QMbf(t);n.appendChild(e)})),t.children&&t.children.length>0&&t.children.forEach((function(t){var e=_this.QMbf(t);n.appendChild(e)})),"img"===t.type){var m,g,f,v,_=null==t||null===(m=t.properties)||void 0===m?void 0:m.src,b=null==t||null===(g=t.properties)||void 0===g?void 0:g.format;n.src=_&&b&&(null===(f=window)||void 0===f||null===(f=f.Apxor)||void 0===f||null===(v=f.getFilePath)||void 0===v?void 0:v.call(f,_this.configId,_,b))||_,_this.imageElements.push(n);var y=document.createElement("div"),x=parseCSS(t.css);return Object.keys(imgWrapperStyles).forEach((function(t){t in x&&(y.style[imgWrapperStyles[t]]=x[t])})),n.style.maxWidth="100%",n.style.height="auto",n.style.display="flex",y.appendChild(n),y}return"video"===t.type&&_this.videoElements.push(n),n})),_defineProperty(this,"YtYs",(function(t,e){var n,i,o,a,r,s,l,c,d,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",h={apx_nudge_name:_this.name,apx_nudge_id:"ios"===(null===(n=window.Apxor)||void 0===n?void 0:n.platform)?null===(i=_this.config)||void 0===i||null===(i=i.additional_info)||void 0===i?void 0:i.id:_this.configId,apx_template_name:_this.type,apx_variant_code:null===(o=_this.config)||void 0===o||null===(o=o.additional_info)||void 0===o?void 0:o.apx_variant_code,apx_step:"ios"===(null===(a=window.Apxor)||void 0===a?void 0:a.platform)?null!==(r=_this.config)&&void 0!==r&&null!==(r=r.additional_info)&&void 0!==r&&r.is_preview?1:null===(s=_this.config)||void 0===s||null===(s=s.additional_info)||void 0===s?void 0:s.apx_step:null!==(l=_this.config)&&void 0!==l&&null!==(l=l.additional_info)&&void 0!==l&&l.is_preview?1:null===(c=_this.config)||void 0===c||null===(c=c.additional_info)||void 0===c?void 0:c.apx_step};if("BUTTON"===t.target.tagName){var u,m,g;if("never"!=e)h.apx_cta_name=null!==(m=null==t||null===(g=t.target)||void 0===g?void 0:g.innerHTML)&&void 0!==m?m:"";null===(u=window.ApxorRTM)||void 0===u||u.logEvent("apx_nudge_CTA_clicked",h)}"never"==e&&(h.apx_termination_type="never show cta clicked",null===(d=window.ApxorRTM)||void 0===d||d.logEvent("apx_nudge_terminated",h));""!=p?_this.closeCallBack(e,p):_this.closeCallBack(e)})),_defineProperty(this,"mAWN",(function(){return 0===_this.imageElements.length||_this.imageElements.every((function(t){return t.complete}))})),_defineProperty(this,"RMQV",(function(){if(!_this.bgImageUrl)return!0;var t=new Image;return t.src=_this.bgImageUrl,t.complete})),_defineProperty(this,"hstK",(function(){return 0===_this.videoElements.length||_this.videoElements.every((function(t){return t.readyState>=3}))})),this.configId=configId,this.config=_config,this.name=name,this.layout=_config.layout,this.styleContent=null==_config?void 0:_config.css,this.wait_interval=null!==(_config$wait_interval=null==_config?void 0:_config.wait_interval)&&void 0!==_config$wait_interval?_config$wait_interval:50,this.termination=null!==(_config$termination=_config.termination)&&void 0!==_config$termination?_config$termination:[],this.script=null==_config?void 0:_config.script,this.type=_type,this.initialStyles="",this.imageElements=[],this.videoElements=[],this.bgImageUrl="",this.intervalToCheckMediaLoadingStatus=null,this.loggedNudgeNotShownEvent=!1,this.closeCallBack=closeCallback})),svgNS="http://www.w3.org/2000/svg",elementIds={modalOverlay:"tippyModalOverlayContainer",modalOverlayMask:"tippyModalMask",modalOverlayMaskRect:"tippyModalMaskRect",modalOverlayMaskOpening:"tippyModalMaskOpening"},createMask=function(t,e){var n,i,o=_createModalContainer(),a=document.createElementNS(svgNS,"defs"),r=_createMaskContainer(),s=_createMaskRect(),l=_createMaskOpening(e),c=_createMaskOpeningBorder(e),d=_createMaskConsumer();return positionModalOpening(t,l,c,e),window.addEventListener("scroll",(function(){positionModalOpening(t,l,c,e)})),"web-inline"===(null===(n=window)||void 0===n||null===(n=n.ApxorWebView)||void 0===n?void 0:n.getLayoutType())&&window.addEventListener("updateMaskOpeningPositionOnScroll",(function(){positionModalOpening(t,l,c,e)})),null===(i=screen)||void 0===i||null===(i=i.orientation)||void 0===i||i.addEventListener("change",(function(){positionModalOpening(t,l,c,e)})),r.appendChild(s),r.appendChild(l),a.appendChild(r),o.appendChild(a),o.appendChild(c),o.appendChild(d),o};function setAttributes(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function _createModalContainer(){var t=document.createElementNS(svgNS,"svg");return t.setAttributeNS(null,"id",elementIds.modalOverlay),t}function _createMaskContainer(){var t=document.createElementNS(svgNS,"mask");return setAttributes(t,{height:"100%",id:elementIds.modalOverlayMask,width:"100%",x:"0",y:"0"}),t}function _createMaskRect(){var t=document.createElementNS(svgNS,"rect");return setAttributes(t,{fill:"#FFFFFF",height:"100%",id:elementIds.modalOverlayMaskRect,width:"100%",x:"0",y:"0"}),t}function _createMaskOpening(t){var e;return"rectangle"===t.shape?setAttributes(e=document.createElementNS(svgNS,"rect"),{fill:"#000000",id:elementIds.modalOverlayMaskOpening,rx:t.cornerRadius,ry:t.cornerRadius}):"circle"===t.shape&&setAttributes(e=document.createElementNS(svgNS,"circle"),{fill:"#000000",id:elementIds.modalOverlayMaskOpening}),e}function _createMaskOpeningBorder(t){var e;return"rectangle"===t.shape?setAttributes(e=document.createElementNS(svgNS,"rect"),{fill:"none",stroke:t.border.color,"stroke-width":"".concat(t.border.width),"stroke-opacity":t.border.opacity,rx:t.cornerRadius,ry:t.cornerRadius}):"circle"===t.shape&&setAttributes(e=document.createElementNS(svgNS,"circle"),{fill:"none",stroke:t.border.color,"stroke-width":"".concat(t.border.width),"stroke-opacity":t.border.opacity}),e}function _createMaskConsumer(){var t=document.createElementNS(svgNS,"rect");return setAttributes(t,{height:"100%",width:"100%",x:"0",y:"0"}),t.setAttribute("mask","url(#".concat(elementIds.modalOverlayMask,")")),t}function positionModalOpening(t,e,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(t.getBoundingClientRect&&e instanceof SVGElement&&n instanceof SVGElement)if("rectangle"===i.shape){var a=t.getBoundingClientRect(),r=a.x,s=a.y,l=a.width,c=a.height,d=a.left,p=a.top;setAttributes(e,{x:(r||d)-o-i.offset.left,y:(s||p)-o-i.offset.top,width:l+o+i.offset.left+i.offset.right,height:c+o+i.offset.top+i.offset.bottom}),setAttributes(n,{x:(r||d)-o-i.offset.left,y:(s||p)-o-i.offset.top,width:l+o+i.offset.left+i.offset.right,height:c+o+i.offset.top+i.offset.bottom})}else if("circle"===i.shape){var h=t.getBoundingClientRect(),u=h.x,m=h.y,g=h.width,f=h.height,v=h.left,_=h.top;setAttributes(e,{cx:(u||v)+g/2,cy:(m||_)+f/2,r:Math.max(g,f)/2+i.offsetRadius}),setAttributes(n,{cx:(u||v)+g/2,cy:(m||_)+f/2,r:Math.max(g,f)/2+i.offsetRadius})}}var DimBackground=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.opacity=getNumberOrDefault(e.opacity,.5),this.color=getColorOrDefault(e.color,"#FFF")}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),Offset=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.skid=getNumberOrDefault(null==e?void 0:e.skid,0),this.distance=getNumberOrDefault(null==e?void 0:e.distance,0),this.x=getNumberOrDefault(null==e?void 0:e.x,0),this.y=getNumberOrDefault(null==e?void 0:e.y,0)})),Position=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.position=getStringOrDefault(convertThePositionCode(null==e?void 0:e.position),"top-left").toLowerCase(),this.enable_offset=e.enable_offset,this.offset=new Offset(e.offset)})),DismissActions=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.outside_touch=Boolean(e.outside_touch),this.target_touch=Boolean(e.target_touch)})),Target=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.interval=getNumberOrDefault(e.interval,2e3),this.max_retries=getNumberOrDefault(e.max_retries,5)})),Target$1=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.id=getStringOrDefault(e.id,""),this.frame_id=getStringOrDefault(e.frame_id,""),this.enable_retry=Boolean(e.enable_retry),this.retry=new Target(e.retry)})),Border=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.radius=getNumberOrDefault(e.radius,0),this.color=getColorOrDefault(e.color,"#FFFFFF"),this.width=getNumberOrDefault(e.width,0),this.style=getStringOrDefault(e.style,"solid")}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),Arrow=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#FFFFFF";_classCallCheck(this,t),this.arrowPosition=getNumberOrDefault(null==e?void 0:e.arrowPosition,0),this.type=getStringOrDefault(e.type,"normal"),this.color=getColorOrDefault(e.color,n),this.enable_border=e.enable_border,this.border=new Border(e.border)}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),EleHighlighterOffset=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.top=getNumberOrDefault(null==e?void 0:e.top,0),this.bottom=getNumberOrDefault(null==e?void 0:e.bottom,0),this.left=getNumberOrDefault(null==e?void 0:e.left,0),this.right=getNumberOrDefault(null==e?void 0:e.right,0)})),ElementHighlighter=_createClass((function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.shape=getStringOrDefault(n.shape,"rectangle"),this.border=new Border(n.border),this.border.opacity=getStringOrDefault(null===(e=n.border)||void 0===e?void 0:e.opacity,"1"),this.cornerRadius=getStringOrDefault(n.corner_radius,"0"),this.offsetRadius=getNumberOrDefault(n.offset_radius,0),this.offset=new EleHighlighterOffset(n.offset)})),Animation=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.type=getStringOrDefault(e.type,"cycle"),this.duration=getNumberOrDefault(e.duration,0),this.anim_function=getStringOrDefault(e.anim_function,"ease-in-out"),this.iteration_count=getNumberOrDefault(e.iteration_count,"infinite")}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),NewInLineTooltip=function(){function t(e,n,i,o,a,r){var s,l,c,d,p;_classCallCheck(this,t),this.uiConfig=e,this.messageConfig=i,this.rtmInstance=o,this.currentId=makeid(10),this.configId=i.configId,this.name=i.configName,this.cssPostFix="-".concat(this.configId,"-").concat(this.name).replace(/\s+/g,"").replace(/[^\w-]/g,""),this.showCallback=a,this.closeCallback=r,this.targetDeletionObserver=null,this.viewPortObservor=null,this.tooltipShown=!1,this.terminationConfig=n,this.terminationTimeoutId=null,this.delay=e.delay,this.scrollToView=e.scrollToView||!0,this.background_color=e.bg_color||COLORS.WHITE,this.width=e.width||50,this.append_to=e.append_to||"parent",this.follow_cursor=e.followCursor||!1,this.interactive_border=e.interactive_border||10,this.target=new Target$1(e.target),this.view_additional_info=(null==e?void 0:e.view_additional_info)||{},this.find_config=(null==e?void 0:e.find_config)||{},this.elementHighlighter=new ElementHighlighter(e.highlighter),this.position=new Position(e.position),this.enable_dismiss_actions=e.enable_dismiss_actions,this.enable_dismiss_actions&&(this.dismiss_actions=new DismissActions(e.dismiss_actions)),this.enable_dimbackground=e.enable_dimbackground,this.enable_dimbackground&&(this.dimbackground=new DimBackground(e.dimbackground)),this.enable_arrow=e.enable_arrow,this.enable_arrow&&(this.arrow=new Arrow(e.arrow,this.background_color)),this.enable_animation=e.enable_animation,this.enable_animation&&(this.animation=new Animation(e.animation)),this.templateContent=new TemplateContent(e,this.configId,this.name,"tooltip",this.closeInlineCallback.bind(this)),this.set_font_to_scale=null!==(s=e.set_font_to_scale)&&void 0!==s&&s,this.fontMultiplier=this.set_font_to_scale?getFontMultiplier():1,this.fontMultiplier=this.fontMultiplier>1?this.fontMultiplier:1,this.targetElement=null,this.targetOverlayElement=null,this.inLineContainer=null,this.textContainer=null,this.tooltip=null,this.dimBackgroundElement=null,this.updateSkid=null,this.initial_data_placement=this.position.position,this.recent_placement=this.position.position,this.targetElementTop=null==e||null===(l=e.dimensions)||void 0===l?void 0:l.top,this.targetElementLeft=null==e||null===(c=e.dimensions)||void 0===c?void 0:c.left,this.targetElementHeight=null==e||null===(d=e.dimensions)||void 0===d?void 0:d.height,this.targetElementWidth=null==e||null===(p=e.dimensions)||void 0===p?void 0:p.width}var e;return _createClass(t,[{key:"createNewTooltip",value:function(){var t=this;try{if(this._canCreateTooltip()){var e=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t._setInlineStyles(),e.next=4,t._setInLineContent();case 4:t._setObservors(),t._createTippyInstance(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("failed to create the inline after finding the target element with error ".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();this._setTheTarget((function(){e()}))}}catch(t){this._resetRTMAction()}}},{key:"updateElementPositionOnScroll",value:function(t,e,n,i){var o;setAttributes(this.targetElement,{style:"position: absolute; top: ".concat(t,"px; left: ").concat(e,"px; height: ").concat(n,"px; width: ").concat(i,"px")});var a=document.querySelector("[data-tippy-root]").getBoundingClientRect();null===(o=window)||void 0===o||null===(o=o.ApxorWebView)||void 0===o||o.setInlineRect(a.left,a.top,a.width,a.height),window.dispatchEvent(new CustomEvent("updateMaskOpeningPositionOnScroll"))}},{key:"_setInlineStyles",value:function(){if(!document.querySelector("style[apx-tooltip-styles]")){var t=" \n      ".concat(this._getBackgroundContainerStyles(),"\n      ").concat(this._getTippyStyles()," \n    ").replaceAll("\n","").replace(/[\s]{2,999}/g,""),e=document.createElement("style");e.setAttribute("apx-tooltip-styles",""),e.innerHTML=t,document.head.appendChild(e)}}},{key:"_getBackgroundContainerStyles",value:function(){var t,e,n="";this.enable_dimbackground&&(n='\n      #tippyModalOverlayContainer {\n        -ms-filter: "progid:dximagetransform.microsoft.gradient.alpha(Opacity=50)";\n        filter: alpha(opacity=50);height: 100vh;left: 0;opacity: '.concat(null!==(t=this.dimbackground.opacity)&&void 0!==t?t:.5,";position: fixed;\n        top: 0;transition: all .3s ease-out;width: 100vw;z-index: 9999;fill: ").concat(null!==(e=this.dimbackground.color)&&void 0!==e?e:"transparent","\n      }\n      #tippyModalOverlayContainer #tippyModalMask, #tippyModalOverlayContainer #tippyModalMaskRect {\n        height: 100vh;width: 100vw\n      }\n      \n    "));return n}},{key:"_getTippyStyles",value:function(){var t="",e="",n="",i="";if(this.enable_arrow)switch(this.arrow.type){case"round":t="\n          width:18px;\n          height:18px;\n          border-radius:5px;\n          transform: rotate(45deg);\n          background-color:".concat(this.arrow.color,";\n          "),e="\n          bottom:-10px;\n          width:18px;\n          height:18px;\n          border-radius:5px;\n          transform: rotate(45deg);\n          background-color:".concat(this.arrow.color,";\n          "),n="\n          width:18px;\n          height:18px;\n          border-radius:5px;\n          transform: rotate(45deg);\n          background-color:".concat(this.arrow.color,";\n          "),i="\n          top:-50%;\n          width:18px;\n          height:18px;\n          border-radius:5px;\n          transform: rotate(45deg);\n          background-color:".concat(this.arrow.color,";\n          ");break;case"narrow":t="\n          border-width:18px 5px 0;\n          ",e="\n          border-width:5px 18px 5px 0;\n          ",n="\n          border-width:0 5px 18px;\n          ",i="\n          border-width:5px 0 5px 18px;\n          ";break;case"wide":t="\n          left:-50%;\n          border-width:9px 18px 0;\n          ",e="\n          top:-50%;\n          border-width:18px 9px 18px 0;\n          ",n="\n          left:-50%;\n          top:-8px;\n          border-width:0 18px 9px;\n          bottom:13px;\n          ",i="\n          top:-50%;\n          border-width:18px 0 18px 8px;\n          ";break;case"large":case"small":default:t="\n          left:-50%;\n          border-width:16px 16px 0;\n          ",e="\n          top:-50%;\n          border-width:16px 16px 16px 0;\n          ",n="\n          left:-50%;\n          border-width:0 16px 16px;\n          ",i="\n          top:-50%;\n          border-width:16px 0 16px 16px;\n          "}var o=document.querySelector("style[data-tippy-stylesheet]");o&&o.remove();var a="";this.enable_animation&&(a="\n        @-webkit-keyframes ".concat(this.animation.type," {\n          0% { transform: ").concat(translateDir(this.position.position,0),"; }\n          50% { transform: ").concat(translateDir(this.position.position,50),"; }\n          100% { transform: ").concat(translateDir(this.position.position,100),"; }\n         }\n  \n         @keyframes ").concat(this.animation.type," {\n          0% { transform: ").concat(translateDir(this.position.position,0),"; }\n          50% { transform: ").concat(translateDir(this.position.position,50),"; }\n          100% { transform: ").concat(translateDir(this.position.position,100),"; }\n         }\n  \n         .tippy-box {\n           animation-name: ").concat(this.animation.type,";\n           animation-duration: ").concat(this.animation.duration,"ms;\n           animation-timing-function: ").concat(this.animation.anim_function,";\n           animation-iteration-count: ").concat(this.animation.iteration_count,";\n         }\n        "));var r='\n        .tippy-box[data-animation="fade"][data-state=hidden]{\n          opacity:0;\n        } \n       [data-tippy-root] {\n          max-width:calc(100vw - '.concat(this.enable_arrow&&this.arrow.enable_border?this.arrow.border.width:0,"px);\n        } \n       .tippy-box { \n          position:relative;\n          line-height:1.4;\n          white-space:normal;\n          outline:0;\n          transition-property:transform,visibility,opacity;\n        } \n       .tippy-box[data-placement^=top] > .tippy-arrow:before {\n        ").concat(t,"\n          border-top-color:initial;\n          transform-origin:center top;\n        }\n       .tippy-box[data-placement^=bottom] > .tippy-arrow:before {\n        ").concat(n,"\n          border-bottom-color:initial;\n          transform-origin:center bottom;\n        }\n       .tippy-box[data-placement^=left] > .tippy-arrow:before {\n        ").concat(i,"\n          border-left-color:initial;\n          transform-origin:center left;\n        }\n       .tippy-box[data-placement^=right] > .tippy-arrow:before {\n        ").concat(e,"\n          border-right-color:initial;\n          transform-origin:center right;\n        } \n       .tippy-box[data-inertia][data-state=visible] {\n          transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)\n        } \n       .tippy-arrow {\n          z-index:9999;\n          width:18px;\n          height:18px;\n          color:").concat(this.enable_arrow?this.arrow.color:"transparent",';\n          opacity:0;\n          visibility:hidden;\n          transition:all .5s cubic-bezier(.96,.23,.07,.8);\n       } \n       .tippy-arrow.open {\n          opacity:1;\n          visibility:visible;\n       }\n       .tippy-arrow:before{ \n          content:"";\n          position:absolute;\n          border-color:transparent;\n          border-style:').concat(this.enable_arrow&&this.arrow.enable_border?this.arrow.border.style:"solid",";\n       } \n       .tippy-content {\n          position:relative;\n          z-index:9998;\n       } \n      ").concat(a,"\n    ");return"\n       ".concat(r,"\n    ")}},{key:"_canCreateTooltip",value:function(){return null!==this.rtmInstance.currentAction&&void 0!==this.rtmInstance.currentAction||this.rtmInstance.isShowingAction?(console.info("An nudge is being shown. Can not show a tooltip now"),!1):(this.rtmInstance.currentAction=this,!0)}},{key:"_setTheTarget",value:function(t){var e=this;this.targetElement=document.createElement("div"),setAttributes(this.targetElement,{id:"apx_targetElement_".concat(this.configId),style:"position: absolute; top: ".concat(this.targetElementTop,"px; left: ").concat(this.targetElementLeft,"px; height: ").concat(this.targetElementHeight,"px; width: ").concat(this.targetElementWidth,"px")}),document.body.appendChild(this.targetElement),e._isElementVisible()?(e._targetClickCallback=e._targetClickCallback.bind(e),e.targetElement.addEventListener("click",e._targetClickCallback),t()):(console.info("Invalid target element. Width and height are 0 for element: ".concat(e.target.id,". Can't show tooltip")),e._resetRTMAction())}},{key:"_targetClickCallback",value:function(){this.enable_dismiss_actions&&this.dismiss_actions.target_touch&&(this._destroyTooltip(),window.Apxor.logActionEvent("InlineTargetViewClicked",this.configId,this.name))}},{key:"_isElementVisible",value:function(){try{var t=this.targetElement.getBoundingClientRect();if(0===t.width||0===t.height)return!1}catch(t){return!1}return!0}},{key:"_findTargetElement",value:function(t){this.targetElement=getElementFromSelector(this.target.id,this.target.frame_id,this.find_config,this.view_additional_info),this.targetElement?t():this.target.enable_retry?(console.info("Not found yet. Rechecking the DOM."),this._retryFindingTargetElement(t)):(console.info("Element with selector:".concat(this.target.id," not found.")),this._resetRTMAction())}},{key:"_retryFindingTargetElement",value:function(t){var e=this,n=setInterval((function(){e.targetElement=getElementFromSelector(e.target.id,e.target.frame_id,e.find_config,e.view_additional_info),e.targetElement?(clearInterval(n),t(e.targetElement)):(e.target.retry.max_retries=e.target.retry.max_retries-1,e.target.retry.max_retries<=0&&(clearInterval(n),console.warn("Element with selector:".concat(e.target.id," not found.")),e._resetRTMAction()))}),this.target.retry.interval)}},{key:"_resetRTMAction",value:function(){var t,e;this.rtmInstance.currentAction=null,this.rtmInstance.isShowingAction=!1,null===(t=window)||void 0===t||null===(t=t.Apxor)||void 0===t||null===(e=t.updateFlag)||void 0===e||e.call(t,!1),console.info("RTM tooltip action stopped.")}},{key:"_scrollIntoTargetIfNeeded",value:function(t){var e=this,n=!1,i=!1;if(isElementInViewport(this.targetElement))n=!0;else if(this.scrollToView){var o={behavior:SCROLL_BEHAVIOUR.SMOOTH,block:CENTER,inline:CENTER};this.targetElement.scrollIntoView(o),window.setTimeout((function(){isElementCovered(e.targetElement)?window.setTimeout((function(){isElementCovered(e.targetElement)?(console.info("The tooltip is not visible because another element is overlapping the target element."),e._resetRTMAction()):t()}),1e3):t()}),1e3),i=!0,n=!0}else console.info("If needed change the config to scroll to the target element."),this._resetRTMAction();n&&!i&&(isElementCovered(this.targetElement)?(console.info("The tooltip is not visible because another element is overlapping the target element."),this._resetRTMAction()):t())}},{key:"_setInLineContent",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.templateContent.lcsW();case 3:this.inLineContainer=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("failed at creating template content with error ".concat(t.t0));case 9:case"end":return t.stop()}}),t,this,[[0,6]])}))),function(){return e.apply(this,arguments)})},{key:"_setObservors",value:function(){var t=this;this.targetDeletionObserver=new MutationObserver((function(){if(t.tooltipShown)if(t.targetElement.getRootNode()instanceof ShadowRoot){var e=t.targetElement.getRootNode().host;document.body.contains(e)||t._destroyTooltip()}else document.body.contains(t.targetElement)||t._destroyTooltip()})),this.viewPortObservor=new IntersectionObserver((function(){t.tooltipShown&&(isElementInViewport(t.targetElement)||t._destroyTooltip())}))}},{key:"_createTippyInstance",value:function(){var t=this;this.tooltip=tippy(this.targetElement,{allowHTML:!1,aria:{content:"describedby"},arrow:this.enable_arrow,appendTo:function(){return t.targetElement},content:this.inLineContainer,duration:100,followCursor:this.follow_cursor,flip:!0,flipOnUpdate:!0,inlinePositioning:!0,hideOnClick:!1,interactive:!0,interactiveBorder:this.interactive_border,interactiveDebounce:999999,moveTransition:"transform 0s linear",maxWidth:"100%",maxHeight:"100%",offset:[this.arrow.arrowPosition,this.position.offset.distance],onShow:function(){var e,n;null===(e=t.targetDeletionObserver)||void 0===e||e.observe(document.body,{childList:!0,subtree:!0}),null===(n=t.viewPortObservor)||void 0===n||n.observe(t.targetElement),setTimeout((function(){t._highlightInlineTarget(),t._setAutoTerminate(),t.tooltipShown=!0}),10)},onMount:function(e){t.recalculateTheTippyHeight(),e.popperInstance.update()},onShown:function(){var e;t.updateSkid=function(){var e=document.querySelector("[data-tippy-root]"),n=document.querySelector(".tippy-box"),i=document.querySelector("[apx-tooltip-styles]").innerHTML,o=n.getAttribute("data-placement"),a=parseFloat(window.getComputedStyle(document.documentElement).fontSize);"left"===o||"right"===o?(e.style.top="".concat(t.position.offset.skid,"px"),t.initial_data_placement!==o&&(e.style.left="".concat("left"===o?-.625*a-(t.enable_animation?16:0):.625*a+(t.enable_animation?10:0),"px"))):"top"!==o&&"bottom"!==o||(e.style.left="".concat(t.position.offset.skid,"px"),t.initial_data_placement!==o&&(e.style.top="".concat("top"===o?-1.125*a-(t.enable_animation?16:0):1.125*a+(t.enable_animation?10:0),"px"))),t.recent_placement!==o&&(i=i.replace("@-webkit-keyframes ".concat(t.animation.type," {\n          0% { transform: ").concat(translateDir(t.recent_placement,0),"; }\n          50% { transform: ").concat(translateDir(t.recent_placement,50),"; }\n          100% { transform: ").concat(translateDir(t.recent_placement,100),"; }\n         }\n  \n         @keyframes ").concat(t.animation.type," {\n          0% { transform: ").concat(translateDir(t.recent_placement,0),"; }\n          50% { transform: ").concat(translateDir(t.recent_placement,50),"; }\n          100% { transform: ").concat(translateDir(t.recent_placement,100),"; }\n         }").replaceAll("\n","").replace(/[\s]{2,999}/g,""),"@-webkit-keyframes ".concat(t.animation.type," {\n          0% { transform: ").concat(translateDir(o,0),"; }\n          50% { transform: ").concat(translateDir(o,50),"; }\n          100% { transform: ").concat(translateDir(o,100),"; }\n         }\n  \n         @keyframes ").concat(t.animation.type," {\n          0% { transform: ").concat(translateDir(o,0),"; }\n          50% { transform: ").concat(translateDir(o,50),"; }\n          100% { transform: ").concat(translateDir(o,100),"; }\n         }").replaceAll("\n","").replace(/[\s]{2,999}/g,"")),document.querySelector("[apx-tooltip-styles]").innerHTML=i,t.recent_placement=o)},t.updateSkid(),t._showTippy(),window.addEventListener("scroll",t.updateSkid);var n=document.querySelector("[data-tippy-root]").getBoundingClientRect();null===(e=window)||void 0===e||null===(e=e.ApxorWebView)||void 0===e||e.setInlineRect(n.left,n.top,n.width,n.height)},placement:this.position.position,popperOptions:{modifiers:[{name:"flip",options:{fallbackPlacements:["bottom","right","top","left"],allowedAutoPlacements:["top","bottom","right","left"]}}]},role:"tooltip",showOnCreate:!0,sticky:!1,touch:!0,zIndex:99999999})}},{key:"_highlightInlineTarget",value:function(){var t=this;if(this.enable_dimbackground){if(this.dimBackgroundElement=createMask(this.targetElement,this.elementHighlighter),document.body.appendChild(this.dimBackgroundElement),this.targetOverlayElement=document.createElement("div"),this.targetElement.getBoundingClientRect){var e=this.targetElement.getBoundingClientRect(),n=e.x,i=e.y,o=e.width,a=e.height,r=e.left,s=e.top;setAttributes(this.targetOverlayElement,{id:"targetOverlayElement",style:"position: absolute; z-index: 999999; top: ".concat(i||s,"px; left: ").concat(n||r,"px; height: ").concat(a,"px; width: ").concat(o,"px")}),document.body.appendChild(this.targetOverlayElement)}this.dimBackgroundElement.querySelector("#tippyModalMaskOpening").addEventListener("click",this._targetClickCallback),this.enable_dismiss_actions&&this.dismiss_actions.outside_touch&&(this._dimbackgroundClickCallback=this._dimbackgroundClickCallback.bind(this),this.dimBackgroundElement.addEventListener("touchmove",this._dimbackgroundClickCallback),this.dimBackgroundElement.addEventListener("click",this._dimbackgroundClickCallback)),this.targetOverlayElement.addEventListener("click",(function(){t.targetElement.click()}))}else this.tooltip.setProps({onClickOutside:function(){t.enable_dismiss_actions&&t.dismiss_actions.outside_touch&&t._destroyTooltip()}})}},{key:"_setAutoTerminate",value:function(){var t=this;!0===this.terminationConfig.auto_dismiss&&(this.terminationTimeoutId=setTimeout((function(){t._destroyTooltip()}),this.terminationConfig.duration))}},{key:"recalculateTheTippyHeight",value:function(){try{var t=this.inLineContainer.offsetHeight,e=this.inLineContainer.offsetWidth,n=document.querySelector("[data-tippy-root]");n.style.height="".concat(t,"px"),n.style.width="".concat(e,"px");var i=document.querySelector(".tippy-box");i.style.height="".concat(t,"px"),i.style.width="".concat(e,"px");var o=document.querySelector(".tippy-content");o.style.height="".concat(t,"px"),o.style.width="".concat(e,"px")}catch(t){this._destroyTooltip(),console.error("Can't update the tippy dimensions")}}},{key:"_showTippy",value:function(){var t=this;this.inLineContainer.classList.add("open"),setTimeout((function(){var e,n=document.querySelector(".tippy-arrow");null==n||null===(e=n.classList)||void 0===e||e.add("open"),t.showCallback()}),200)}},{key:"_destroyTooltip",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var e,n,i,o,a,r,s;null===(e=this.targetDeletionObserver)||void 0===e||e.disconnect(),this.targetDeletionObserver=null,null===(n=this.viewPortObservor)||void 0===n||n.disconnect(),this.viewPortObservor=null,null===(i=this.tooltip)||void 0===i||i.destroy(),null===(o=this.dimBackgroundElement)||void 0===o||o.removeEventListener("click",this._dimbackgroundClickCallback),null===(a=this.dimBackgroundElement)||void 0===a||a.removeEventListener("touchmove",this._dimbackgroundClickCallback),null===(r=this.dimBackgroundElement)||void 0===r||r.remove(),null===(s=this.targetOverlayElement)||void 0===s||s.remove(),this._removeStyles(),this.targetElement.removeAttribute("apx-inline-dimbackground"),clearTimeout(this.terminationTimeoutId),this.targetElement.removeEventListener("click",this._targetClickCallback),window.removeEventListener("scroll",this.updateSkid)}catch(t){console.info("Destroying the tooltip:"+t)}this.closeCallback(t)}},{key:"_removeStyles",value:function(){try{var t=document.querySelector("style[apx-tooltip-styles]");t&&t.remove();var e=document.querySelector("style[data-tippy-stylesheet]");e&&e.remove()}catch(t){console.error("Could not remove the tooltip styles:"+t)}}},{key:"closeInlineCallback",value:function(t){clearTimeout(this.terminationTimeoutId),this.closeCallback("cancel"===t||"redirect"===t)}}]),t}(),Margin=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.top=getNumberOrDefault(null==e?void 0:e.top,8),this.bottom=getNumberOrDefault(null==e?void 0:e.bottom,8),this.left=getNumberOrDefault(null==e?void 0:e.left,8),this.right=getNumberOrDefault(null==e?void 0:e.right,8)}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),Padding=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.top=getNumberOrDefault(null==e?void 0:e.top,8),this.bottom=getNumberOrDefault(null==e?void 0:e.bottom,8),this.left=getNumberOrDefault(null==e?void 0:e.left,8),this.right=getNumberOrDefault(null==e?void 0:e.right,8)}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),CloseButton=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.color=getColorOrDefault(e.color,"#FFFFFF"),this.fill_color=getColorOrDefault(e.fill_color,"#FFFFFF"),this.type=getStringOrDefault(e.type,"normal"),this.path=e.path,this.height=getNumberOrDefault(e.height,24),this.width=getNumberOrDefault(e.width,24),this.offset_top=getNumberOrDefault(e.offset_top,8),this.offset_right=getNumberOrDefault(e.offset_right,8),this.action=getStringOrDefault(e.action,"dismiss"),this.shape=getStringOrDefault(e.shape,"circle"),null!=e&&e.position&&(this.position=new Position(e.position)),this.enable_margin=e.enable_margin,this.enable_margin&&(this.margin=new Margin(e.margin)),this.enable_padding=e.enable_padding,this.enable_padding&&(this.padding=new Padding(e.padding)),this.enable_border=e.enable_border,this.enable_border&&(this.border=new Border(e.border))}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),Scroll=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.height=getNumberOrDefault(e.height,400),this.enable_border=e.enable_border,this.border=new Border(e.border)}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),Icon=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.path=getStringOrDefault(e.path,""),this.width=getNumberOrDefault(e.width,48),this.height=getNumberOrDefault(e.height,48),this.enable_margin=e.enable_margin,this.margin=new Margin(e.margin),this.enable_padding=e.enable_padding,this.padding=new Padding(e.padding),this.enable_border=e.enable_border,this.border=new Border(e.border),this.alignment=getStringOrDefault(e.alignment,CENTER),this.position=getStringOrDefault(e.position,"right")}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),BackgroundImage=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.mask_opacity=getNumberOrDefault(e.mask_opacity,.25),this.mask_color=getColorOrDefault(e.mask_color,"#000000")})),Image$1=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.path=getStringOrDefault(e.path,""),this.width=getNumberOrDefault(e.width,360),this.height=getNumberOrDefault(e.height,360),this.enable_background_image=e.enable_background_image,this.background_image=new BackgroundImage(e.background_image),this.enable_border=e.enable_border,this.border=new Border(e.border),this.enable_action=null==e?void 0:e.enable_action,this.enable_action&&(this.action=null==e?void 0:e.action)}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),EmbeddedVideo=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.html=e.html})),Video=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.path=getStringOrDefault(e.path,""),this.width=getNumberOrDefault(e.width,360),this.height=getNumberOrDefault(e.height,360),this.enable_embed=e.enable_embed,this.embed=new EmbeddedVideo(e.embed),this.enable_border=e.enable_border,this.border=new Border(e.border),this.enable_audio=e.enable_audio,this.format=getStringOrDefault(e.format,"video/mp4")}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),Font=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.family=getStringOrDefault(e.family,"sans-serif"),this.size=getNumberOrDefault(e.size,"14"),this.style=getStringOrDefault(e.style,"bold").toLowerCase(),this.source=null==e?void 0:e.source,this.weight=e.weight})),Text=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.background_color=null==e?void 0:e.background_color,this.alignment=getStringOrDefault(e.alignment,"center").toLowerCase(),this.color=getColorOrDefault(e.color,"#FFF").toLowerCase(),this.font=new Font(e.font),this.text=getStringOrDefault(e.text,""),this.localized_messages=e.localized_messages,this.enable_margin=e.enable_margin,this.margin=new Margin(e.margin),this.enable_padding=e.enable_padding,this.padding=new Padding(e.padding),this.enable_icon=e.enable_icon,this.icon=new Icon(e.icon),this.link_config=e.link_config,this.is_dynamic_text=e.is_dynamic_text,this.is_dynamic_script=e.is_dynamic_script,this.script=e.script,this.segments=e.segments,this.quote=e.quote}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),Title=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,i)).is_title=!0,t.is_description=!1,t}return _createClass(n)}(Text),Description=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,i)).is_title=!1,t.is_description=!0,t}return _createClass(n)}(Text),Direction=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.nudge=getStringOrDefault(e.nudge,DIRECTION.VERTICAL),this.non_media=getStringOrDefault(e.non_media,DIRECTION.VERTICAL),this.buttons=getStringOrDefault(e.buttons,DIRECTION.VERTICAL)})),Shadow=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.color=getColorOrDefault(e.color,"#FFF"),this.offset_x=getNumberOrDefault(e.offset_x,0),this.offset_y=getNumberOrDefault(e.offset_y,0),this.blur_radius=getNumberOrDefault(e.blur_radius,0),this.spread_radius=getNumberOrDefault(e.spread_radius,0)}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),Gradient=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.direction=getStringOrDefault(e.direction,"to right"),this.colors=getArrayOrDefault(e.colors,["#FFF","000"])}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),Button=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),null!=e&&e.position&&(this.position=new Position(e.position)),void 0===(null==e?void 0:e.slot)?this.slot=getSlotNumberByPosition(this.position.position):this.slot=getNumberOrDefault(e.slot,0),this.type=getStringOrDefault(e.type,"button"),this.sub_type=getStringOrDefault(e.sub_type,""),this.color=getColorOrDefault(e.color,"#FFF"),this.enable_action=e.enable_action,this.action=e.action,this.enable_margin=e.enable_margin,this.margin=new Margin(e.margin),this.enable_padding=e.enable_padding,this.padding=new Padding(e.padding),this.enable_border=e.enable_border,this.border=new Border(e.border),this.enable_text=e.enable_text,this.text=new Text(e.text),this.enable_gradient=e.enable_gradient,this.gradient={},this.enable_gradient&&(this.gradient=new Gradient(e.gradient)),this.action_config=e.action_config})),BottomButton=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),e.call(this,t)}return _createClass(n)}(Button),CenterButton=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),e.call(this,t)}return _createClass(n)}(Button),TopButton=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),e.call(this,t)}return _createClass(n)}(Button),Buttons=_createClass((function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.background_color=n.background_color,this.enable_top=n.enable_top,this.enable_center=n.enable_center,this.enable_bottom=n.enable_bottom,this.bottom=[],this.center=[],this.top=[];var i=getArrayOrDefault(n.bottom,[]);i.forEach((function(t){e.bottom.push(new BottomButton(t))}));var o=getArrayOrDefault(n.center,[]);o.forEach((function(t){e.center.push(new CenterButton(t))}));var a=getArrayOrDefault(n.top,[]);a.forEach((function(t){e.top.push(new TopButton(t))})),this.enable_margin=n.enable_margin,this.enable_margin&&(this.margin=new Margin(n.margin)),this.enable_padding=n.enable_padding,this.enable_padding&&(this.padding=new Padding(n.padding)),this.enable_border=n.enable_border,this.enable_border&&(this.border=new Border(n.border)),this.enable_gradient=n.enable_gradient,this.enable_gradient&&(this.gradient=new Gradient(n.gradient))})),NumberedStepper=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.style=getStringOrDefault(e.style,"number"),this.position=getStringOrDefault(e.position,"bottom-left"),this.font=new Font(e.font),this.color=getColorOrDefault(e.color,"#FFF")}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),Pagination=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.style=getStringOrDefault(e.style,"number"),this.position=getStringOrDefault(e.position,"bottom-left"),this.font=new Font(e.font),this.color=getColorOrDefault(e.color,"#FFF")}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),ProgressBar=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.position=getStringOrDefault(e.position,"top"),this.width=getNumberOrDefault(e.position,4),this.progress_color=getColorOrDefault(e.progress_color,"#000"),this.reamining_color=getColorOrDefault(e.reamining_color,"#FFFF")}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),Carousel=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.style=getStringOrDefault(e.style,"default"),this.spacebetween=this.position=getNumberOrDefault(e.space_between,4),this.active_radius=getNumberOrDefault(e.active_radius,4),this.inactive_radius=getNumberOrDefault(e.inactive_radius,2),this.active_color=getColorOrDefault(e.active_color,"#000000"),this.inactive_color=getColorOrDefault(e.inactive_color,"#FFF")}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),Stepper=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.index=getNumberOrDefault(e.index,1),this.length=getNumberOrDefault(e.length,1),this.enable_numbered=e.enable_numbered,this.enable_numbered&&(this.numbered=new NumberedStepper(e.numbered)),this.enable_pagination=e.enable_pagination,this.enable_pagination&&(this.pagination=new Pagination(e.pagination)),this.enable_carousel=e.enable_carousel,this.enable_carousel&&(this.carousel=new Carousel(e.carousel)),this.enable_progressbar=e.enable_progressbar,this.enable_progressbar&&(this.progressbar=new ProgressBar(e.progressbar)),this.enable_padding=null==e?void 0:e.enable_padding,this.enable_padding&&(this.padding=new Padding(e.padding)),this.enable_margin=null==e?void 0:e.enable_margin,this.enable_margin&&(this.margin=new Margin(e.margin))}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),Marketing=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.message=new Text(e.message)})),CustomFont=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.name=e.name,this.url=e.url})),Theme=_createClass((function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.custom_fonts=[];var i=getArrayOrDefault(n.custom_fonts,[]);i.forEach((function(t){e.custom_fonts.push(new CustomFont(t))}))})),InLineTooltip=function(){function t(e,n,i,o,a,r,s,l,c){var d,p,h,u,m,g=this,f=arguments.length>9&&void 0!==arguments[9]&&arguments[9],v=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0;_classCallCheck(this,t),_defineProperty(this,"EoXa",(function(){if(!g.enable_marketing)return"";var t=g.marketing.message,e=t.alignment;return"left"===t.alignment?e="flex-start":"right"===t.alignment&&(e="flex-end"),"\n      .apx-inline-marketing".concat(g.cssPostFix," {\n        align-self:").concat(e,";\n        text-align:").concat(t.alignment,";\n      }\n    ")})),_defineProperty(this,"yzKQ",(function(){if(g.enable_marketing){var t=document.createElement("div");t.classList.add("apx-inline-marketing".concat(g.cssPostFix));var e=createNewTextElement(g.marketing.message,g.currentId,"marketing");t.appendChild(e),g.inLineContainer.appendChild(t)}})),this.uiConfig=e,this.uis=n,this.isWalkthrough=f,this.index=v,this.walkthroughConfigs=i,this.messageConfig=a,this.rtmInstance=r,this.currentId=makeid(10),this.configId=a.configId,this.name=a.configName,this.cssPostFix="-".concat(this.configId,"-").concat(this.name).replace(/\s+/g,"").replace(/[^\w-]/g,""),this.showCallback=s,this.closeCallback=l,this.stepperCallBack=c,this.targetDeletionObserver=null,this.viewPortObservor=null,this.tooltipShown=!1,this.terminationConfig=o,this.terminationTimeoutId=null,this.delay=e.delay,this.scrollToView=e.scrollToView||!0,this.background_color=e.bg_color||COLORS.WHITE,this.width=e.width||50,this.append_to=e.append_to||"parent",this.follow_cursor=e.followCursor||!1,this.interactive_border=e.interactive_border||10,this.target=new Target$1(e.target),this.view_additional_info=(null==e?void 0:e.view_additional_info)||{},this.find_config=(null==e?void 0:e.find_config)||{},this.elementHighlighter=new ElementHighlighter(e.highlighter),this.direction=new Direction(e.direction),this.position=new Position(e.position),this.theme=new Theme(e.theme),this.enable_dismiss_actions=e.enable_dismiss_actions,this.enable_dismiss_actions&&(this.dismiss_actions=new DismissActions(e.dismiss_actions)),this.enable_dimbackground=e.enable_dimbackground,this.enable_dimbackground&&(this.dimbackground=new DimBackground(e.dimbackground)),this.enable_padding=e.enable_padding,this.enable_padding&&(this.padding=new Padding(e.padding)),this.enable_margin=e.enable_margin,this.enable_margin&&(this.margin=new Margin(e.margin)),this.enable_border=e.enable_border,this.enable_border&&(this.border=new Border(e.border)),this.enable_close_button=e.enable_close_button,this.enable_close_button&&(this.close_button=new CloseButton(e.close_button)),this.enable_scroll=e.enable_scroll,this.enable_scroll&&(this.scroll=new Scroll(e.scroll)),this.enable_icon=e.enable_icon,this.enable_icon&&(this.icon=new Icon(e.icon)),this.enable_image=e.enable_image,this.enable_image&&(this.image=new Image$1(e.image)),this.enable_video=e.enable_video,this.enable_video&&(this.video=new Video(e.video)),this.enable_title=e.enable_title,this.enable_title&&(this.title=new Title(e.title)),this.enable_description=e.enable_description,this.enable_description&&(this.description=new Description(e.description)),this.enable_stepper=e.enable_stepper,this.enable_stepper&&(this.stepper=new Stepper(e.stepper)),this.enable_buttons=e.enable_buttons,this.enable_buttons&&(this.buttons=new Buttons(e.buttons)),this.enable_shadow=e.enable_shadow,this.enable_shadow&&(this.shadow=new Shadow(e.shadow)),this.enable_animation=e.enable_animation,this.enable_animation&&(this.animation=new Animation(e.animation)),this.enable_gradient=e.enable_gradient,this.enable_gradient&&(this.gradient=new Gradient(e.gradient)),this.enable_arrow=e.enable_arrow,this.enable_arrow&&(this.arrow=new Arrow(e.arrow,this.background_color)),this.enable_marketing=e.enable_marketing,this.enable_marketing&&(this.marketing=new Marketing(e.marketing)),this.set_font_to_scale=null!==(d=e.set_font_to_scale)&&void 0!==d&&d,this.fontMultiplier=this.set_font_to_scale?getFontMultiplier():1,this.fontMultiplier=this.fontMultiplier>1?this.fontMultiplier:1,this.min_width="",this.inline_width="auto",this.inline_height="auto",this.media_width="auto",this.media_height="auto",this.media_container_height=0,this.media_Container_width=0,this.targetElement=null,this.targetOverlayElement=null,this.inLineContainer=null,this.textContainer=null,this.tooltip=null,this.dimBackgroundElement=null,this.max_width=350,this.updateSkid=null,this.initial_data_placement=this.position.position,this.recent_placement=this.position.position,this.tippy_box_position=0,this.step=null!==(p=this.uiConfig)&&void 0!==p&&null!==(p=p.additional_info)&&void 0!==p&&p.apx_step?null===(h=this.uiConfig)||void 0===h||null===(h=h.additional_info)||void 0===h?void 0:h.apx_step:-1,this.flag=!0,this.enable_nocode_events=(null==e?void 0:e.enable_nocode_events)||!1,this.customFontList=[],this.scrollIntervalCount=null!==(u=null==e?void 0:e.wait_scroll_interval)&&void 0!==u?u:4,this.scrollCompletelyInViewCount=null!==(m=null==e?void 0:e.wait_scroll_interval)&&void 0!==m?m:4}return _createClass(t,[{key:"createNewTooltip",value:function(){var t=this;try{if(this._canCreateTooltip()){var e=function(){t._setInLineDimensions(),t._setInlineStyles(),t._setInLineContent(),t._setObservors(),t._createTippyInstance()};this._setTheTarget((function(){t._scrollIntoTargetIfNeeded(e)}))}}catch(t){this._resetRTMAction()}}},{key:"_canCreateTooltip",value:function(){return null!==this.rtmInstance.currentAction&&void 0!==this.rtmInstance.currentAction||this.rtmInstance.isShowingAction?(console.info("An nudge is being shown. Can not show a tooltip now"),!1):(this.rtmInstance.currentAction=this,!0)}},{key:"_setTheTarget",value:function(t){var e=this;this._findTargetElement((function(){e._isElementVisible()?(e._targetClickCallback=e._targetClickCallback.bind(e),e.targetElement.addEventListener("click",e._targetClickCallback),t()):(console.info("Invalid target element. Width and height are 0 for element: ".concat(e.target.id,". Can't show tooltip")),e._resetRTMAction())}))}},{key:"_isElementVisible",value:function(){try{var t=this.targetElement.getBoundingClientRect();if(0===t.width||0===t.height)return!1}catch(t){return!1}return!0}},{key:"_findTargetElement",value:function(t){this.targetElement=getElementFromSelector(this.target.id,this.target.frame_id,this.find_config,this.view_additional_info),this.targetElement?t():this.target.enable_retry?(console.info("Not found yet. Rechecking the DOM."),this._retryFindingTargetElement(t)):(console.info("Element with selector:".concat(this.target.id," not found.")),this._resetRTMAction())}},{key:"_retryFindingTargetElement",value:function(t){var e=this,n=setInterval((function(){e.targetElement=getElementFromSelector(e.target.id,e.target.frame_id,e.find_config,e.view_additional_info),e.targetElement?(clearInterval(n),t(e.targetElement)):(e.target.retry.max_retries=e.target.retry.max_retries-1,e.target.retry.max_retries<=0&&(clearInterval(n),console.warn("Element with selector:".concat(e.target.id," not found.")),e._resetRTMAction()))}),this.target.retry.interval)}},{key:"_resetRTMAction",value:function(){var t,e;this.rtmInstance.currentAction=null,this.rtmInstance.isShowingAction=!1,null===(t=window)||void 0===t||null===(t=t.Apxor)||void 0===t||null===(e=t.updateFlag)||void 0===e||e.call(t,!1),console.info("RTM tooltip action stopped.")}},{key:"_scrollIntoTargetIfNeeded",value:function(t){var e=this,n=!1,i=!1;if(isElementInViewport(this.targetElement))this.scrollToView&&(isElementCompletlyInView(this.targetElement)||(this.scrollCompletelyInViewId=window.setInterval((function(){if(e.scrollCompletelyInViewCount<=0)console.info("The tooltip is not completely in viewport, hence not showing the tooltip."),e._resetRTMAction(),clearInterval(e.scrollCompletelyInViewCount);else{e.scrollCompletelyInViewCount--;var n=isElementCovered(e.targetElement);isElementCompletlyInView(e.targetElement)&&!n&&(t(),i=!0,clearInterval(e.scrollCompletelyInViewCount))}}),1e3))),n=!0;else if(this.scrollToView){var o={behavior:SCROLL_BEHAVIOUR.SMOOTH,block:CENTER,inline:CENTER};this.targetElement.scrollIntoView(o),this.scrollIntervalId=window.setInterval((function(){e.scrollIntervalCount<=0?(console.info("The tooltip is not visible because another element is overlapping the target element."),e._resetRTMAction(),clearInterval(e.scrollIntervalId)):(e.scrollIntervalCount--,isElementCovered(e.targetElement)||(t(),clearInterval(e.scrollIntervalId)))}),1e3),i=!0,n=!0}else console.info("If needed change the config to scroll to the target element."),this._resetRTMAction();n&&!i&&(isElementCovered(this.targetElement)?(console.info("The tooltip is not visible because another element is overlapping the target element."),this._resetRTMAction()):t())}},{key:"_setInLineDimensions",value:function(){var t=this.direction.nudge===DIRECTION.VERTICAL?this.width/100:this.height/100,e=this.direction.nudge!==DIRECTION.VERTICAL;this.enable_image?this._setDimenstionFromResolution(this.image.width,this.image.height,t,e):this.enable_video?this.video.enable_embed?this.direction.nudge===DIRECTION.VERTICAL?(this.inline_width="".concat(this.video.width+(this.enable_border?2*this.border.width:0),"px"),this.media_width="".concat(this.video.width,"px"),this.media_height="".concat(this.video.height,"px")):(this.inline_height="".concat(this.video.height,"px"),this.media_height="".concat(this.video.height,"px"),this.media_container_height=this.video.height,this.min_width="".concat(this.getPixelsFromPercentage(this.width,!1),"px")):this._setDimenstionFromResolution(this.video.width,this.video.height,t,e):(this.enable_icon||this.direction.nudge===DIRECTION.VERTICAL)&&(this.inline_width="".concat(this.getPixelsFromPercentage(this.width,!1),"px"))}},{key:"_setDimenstionFromResolution",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(i){var o=this.width*window.innerWidth/100,a=e/t;this.enable_image||this.enable_video?(this.media_Container_width=.65*o,this.media_container_height=this.media_Container_width*a,this.media_width="".concat(this.media_Container_width,"px"),this.media_height="".concat(this.media_container_height,"px")):this.enable_icon&&(this.media_Container_width=.35*o,this.media_container_height=this.media_Container_width*a,this.media_width="".concat(this.media_Container_width,"px"),this.media_height="".concat(this.media_container_height,"px"))}else{var r=getHeightWidthFromResolution({width:t,height:e},n,i);this.media_width="".concat(r.width,"px"),this.media_height="".concat(r.height,"px"),this.media_container_height=r.height,this.direction.nudge===DIRECTION.VERTICAL?this.inline_width="".concat(r.width+(this.enable_border?2*this.border.width:0)+(this.enable_padding?this.padding.left+this.padding.right:0),"px"):(this.inline_height="".concat(r.height+(this.enable_border?2*this.border.width:0)+(this.enable_padding?this.padding.top+this.padding.bottom:0),"px"),this.min_width="".concat(this.getPixelsFromPercentage(this.width,!1),"px"))}}},{key:"_highlightInlineTarget",value:function(){var t=this;if(this.enable_dimbackground){if(this.dimBackgroundElement=createMask(this.targetElement,this.elementHighlighter),document.body.appendChild(this.dimBackgroundElement),this.targetOverlayElement=document.createElement("div"),this.targetElement.getBoundingClientRect){var e=this.targetElement.getBoundingClientRect(),n=e.x,i=e.y,o=e.width,a=e.height,r=e.left,s=e.top;setAttributes(this.targetOverlayElement,{id:"targetOverlayElement",style:"position: absolute; z-index: 999999; top: ".concat(i||s,"px; left: ").concat(n||r,"px; height: ").concat(a,"px; width: ").concat(o,"px")}),document.body.appendChild(this.targetOverlayElement)}this.dimBackgroundElement.querySelector("#tippyModalMaskOpening").addEventListener("click",this._targetClickCallback),this.enable_dismiss_actions&&this.dismiss_actions.outside_touch&&(this._dimbackgroundClickCallback=this._dimbackgroundClickCallback.bind(this),this.dimBackgroundElement.addEventListener("touchmove",this._dimbackgroundClickCallback),this.dimBackgroundElement.addEventListener("click",this._dimbackgroundClickCallback)),this.targetOverlayElement.addEventListener("click",(function(){t.targetElement.click()}))}else this.tooltip.setProps({onClickOutside:function(){var e,n,i;t.enable_dismiss_actions&&t.dismiss_actions.outside_touch&&(t._destroyTooltip(),null!==(e=t.uiConfig)&&void 0!==e&&null!==(e=e.additional_info)&&void 0!==e&&e.apx_step&&(null===(n=window)||void 0===n||null===(n=n.Apxor)||void 0===n||n.triggerNextStep(t.configId,(null===(i=t.uiConfig)||void 0===i||null===(i=i.additional_info)||void 0===i?void 0:i.apx_step)+1)))}})}},{key:"_setInlineStyles",value:function(){if(!document.querySelector("style[apx-tooltip-styles]")){var t="\n      ".concat(this._getCustomFonts(),"  \n      ").concat(this._getBackgroundContainerStyles()," \n      ").concat(this._getInLineContainerStyles()," \n      ").concat(this._getScrollStyles()," \n      ").concat(this._getControlsStyles()," \n      ").concat(this._getInLineMediaContainerStyles(),"\n      ").concat(this._getInLineNonMediaContainerStyles(),"\n      ").concat(this._getTextConatinerStyles(),"\n      ").concat(this._getTitleStyles()," \n      ").concat(this._getDescriptionStyles()," \n      ").concat(this._getInLineButtonContainerStyles()," \n      ").concat(this._getIconStyles()," \n      ").concat(this._getImageStyles()," \n      ").concat(this._getVideoStyles()," \n      ").concat(this.EoXa(),"\n      ").concat(this._getTippyStyles(),"\n      ").concat(this._getFooterStyles(),"\n      ").concat(this._getProgressBarStyles(),"\n      ").concat(this._getBootstrapiconsStyles()," \n    ").replaceAll("\n","").replace(/[\s]{2,999}/g,""),e=document.createElement("style");e.setAttribute("apx-tooltip-styles",""),e.innerHTML=t,document.head.appendChild(e)}}},{key:"_getCustomFonts",value:function(){var t=this,e="";return this.theme.custom_fonts.length>0&&this.theme.custom_fonts.forEach((function(n){t.customFontList.push(n.name),e+="\n          @font-face {\n            font-family: ".concat(n.name,";\n            src: url(").concat(n.url,")\n          }")})),e}},{key:"_getFooterStyles",value:function(){return"\n    .apx-inline-footer-wrap".concat(this.cssPostFix,"{\n      flex-wrap:wrap;\n      gap:4px;\n    }\n    ")}},{key:"_getBackgroundContainerStyles",value:function(){var t,e,n="";this.enable_dimbackground&&(n='\n      #tippyModalOverlayContainer {\n        -ms-filter: "progid:dximagetransform.microsoft.gradient.alpha(Opacity=50)";\n        filter: alpha(opacity=50);height: 100vh;left: 0;opacity: '.concat(null!==(t=this.dimbackground.opacity)&&void 0!==t?t:.5,";position: fixed;\n        top: 0;transition: all .3s ease-out;width: 100vw;z-index: 9999;fill: ").concat(null!==(e=this.dimbackground.color)&&void 0!==e?e:"transparent","\n      }\n      #tippyModalOverlayContainer #tippyModalMask, #tippyModalOverlayContainer #tippyModalMaskRect {\n        height: 100vh;width: 100vw\n      }\n      \n    "));return n}},{key:"_getInLineContainerStyles",value:function(){var t="";this.min_width&&(t="min-width:".concat(""!==this.min_width?"".concat(parseInt(this.min_width)*this.fontMultiplier,"px"):this.min_width,";"));var e="";this.enable_border&&(e="\n        border-radius: ".concat(this.border.radius,"px;\n        border: ").concat(this.border.width*this.fontMultiplier,"px ").concat(this.border.style," ").concat(this.border.color,";\n      "));var n="";this.enable_gradient&&(n="\n        background-image:linear-gradient(".concat(this.gradient.direction,", ").concat(this.gradient.colors[0],", ").concat(this.gradient.colors[1],");\n      "));var i="";this.enable_shadow&&(i="\n      box-shadow: ".concat(this.shadow.offset_x*this.fontMultiplier,"px ").concat(this.shadow.offset_y*this.fontMultiplier,"px ").concat(this.shadow.blur_radius*this.fontMultiplier,"px ").concat(this.shadow.spread_radius*this.fontMultiplier,"px ").concat(this.shadow.color,";\n      "));var o="";this.enable_padding&&(o="\n        padding:".concat(this.padding.top*this.fontMultiplier,"px ").concat(this.padding.right*this.fontMultiplier,"px ").concat(this.padding.bottom*this.fontMultiplier,"px ").concat(this.padding.left*this.fontMultiplier,"px;\n      "));var a=this.direction.nudge!==DIRECTION.VERTICAL?"flex-direction:row;":"flex-direction:column;";a=" ".concat(a,"\n      justify-content:space-evenly;\n      align-items:center;\n      display:flex;\n    ");var r="",s="";return this.enable_video&&this.video.enable_embed&&(r="max-width:100%;",s="max-height:100%;"),"\n      .apx-inline-container".concat(this.cssPostFix," {\n        height:").concat("auto"!==this.inline_height?"".concat(parseInt(this.inline_height)*this.fontMultiplier,"px"):this.inline_height,";\n        width:").concat("auto"!==this.inline_width?"".concat(parseInt(this.inline_width)*this.fontMultiplier,"px"):this.inline_width,";\n        margin: auto;\n        background-color:").concat(this.background_color,";\n        z-index:9997;\n        opacity:0;\n        transition:all .5s cubic-bezier(.96,.23,.07,.8);\n        position:fixed;\n        visibility:hidden;\n\n        ").concat(t,"\n        ").concat(a,"\n        ").concat(o,"\n        ").concat(e,"\n        ").concat(n,"\n        ").concat(i,"\n        ").concat(r,"\n        ").concat(s,"\n      }\n\n      .apx-inline-container").concat(this.cssPostFix,".open{\n        opacity:1;\n        visibility:visible;\n      }\n    ")}},{key:"_getScrollStyles",value:function(){var t=this.enable_scroll&&this.scroll.enable_border?"\n border-top: ".concat(this.scroll.border.width*this.fontMultiplier,"px ").concat(this.scroll.border.style," ").concat(this.scroll.border.color,";\n border-bottom : ").concat(this.scroll.border.width*this.fontMultiplier,"px ").concat(this.scroll.border.style," ").concat(this.scroll.border.color,";\n"):"";return this.enable_scroll?"\n      .apx-inline-scroll".concat(this.cssPostFix," {\n        overflow:scroll; \n        overflow-x: hidden;\n        height:").concat(this.scroll.height*this.fontMultiplier,"px;\n        ").concat(t,"\n      }\n    "):"\n      .apx-inline-scroll".concat(this.cssPostFix," {\n        overflow : hidden;\n      }\n    ")}},{key:"_getControlsStyles",value:function(){if(!this.enable_close_button)return"";return this.direction.non_media===DIRECTION.VERTICAL||this.direction.nudge===DIRECTION.VERTICAL?"\n        .apx-inline-close".concat(this.cssPostFix," {\n          position: absolute;\n          z-index:9999;\n          top: ").concat(this.close_button.offset_top*this.fontMultiplier,"px;\n          right: ").concat(this.close_button.offset_right*this.fontMultiplier,"px;\n          width: ").concat(this.close_button.width*this.fontMultiplier,"px;\n          height:  ").concat(this.close_button.height*this.fontMultiplier,"px;\n          cursor: pointer;\n        }\n      "):"\n      .apx-inline-close".concat(this.cssPostFix," {\n        display:flex;\n        flex-direction:row;\n        justify-content:center;\n        align-items:center;\n        width: ").concat(this.close_button.width*this.fontMultiplier,"px;\n        height:  ").concat(this.close_button.height*this.fontMultiplier,"px;\n        cursor: pointer;\n        z-index:9999;\n      }\n      ")}},{key:"_getInLineMediaContainerStyles",value:function(){return"\n    .apx-inline-media-container".concat(this.cssPostFix,"{\n      ").concat(this.enable_icon?"align-self:".concat(this.icon.alignment,";"):"","\n      ").concat(this.enable_image||this.enable_video?"display:flex;":"","\n    }")}},{key:"_getInLineNonMediaContainerStyles",value:function(){var t="";this.direction.nudge===DIRECTION.VERTICAL?t="max-height:".concat((window.innerHeight-this.media_container_height)*this.fontMultiplier,"px;"):this.enable_icon||(t="max-height:".concat(this.media_container_height*this.fontMultiplier,"px;"));return this.direction.non_media===DIRECTION.VERTICAL?"\n        .apx-inline-nonmedia-container".concat(this.cssPostFix,"{\n          ").concat(this.direction.nudge===DIRECTION.VERTICAL?"width:100%":"width:".concat(.9*window.innerWidth-this.media_Container_width,"px"),";\n          max-width:").concat("auto"!==this.inline_width?"".concat(parseInt(this.inline_width)*this.fontMultiplier,"px"):this.inline_width,";\n          display:flex;\n          flex-direction:column;\n          justify-content:center;\n          align-items:stretch;\n          ").concat(t,"\n        }\n      "):"\n        .apx-inline-nonmedia-container".concat(this.cssPostFix,"{\n          ").concat(this.direction.nudge===DIRECTION.VERTICAL?"width:100%":"max-width:".concat(.9*window.innerWidth-this.media_Container_width,"px"),";\n          flex-grow:2;\n          display:flex;\n          flex-direction:row;\n          justify-content:space-between;\n          align-items:center;\n          ").concat(t,"\n        }\n      ")}},{key:"_getTextConatinerStyles",value:function(){return"\n      .apx-inline-text-container".concat(this.cssPostFix,"{\n        width:100%;\n        display:flex;\n        flex-direction:column;\n        justify-content: center;\n        overflow: hidden;\n        align-items:center;\n        cursor:text;\n      }\n    ")}},{key:"_getTitleStyles",value:function(){if(!this.enable_title)return"";var t="";if(this.title.enable_icon){var e="";this.title.icon.enable_border&&(e="border-radius:".concat(this.title.icon.border.radius,"%;\n        border:").concat(this.title.icon.border.width*this.fontMultiplier,"px ").concat(this.title.icon.border.style," ").concat(this.title.icon.border.color,";")),t="\n          height: ".concat(this.title.icon.height*this.fontMultiplier,"px;\n          width: ").concat(this.title.icon.width*this.fontMultiplier,"px;\n          margin-right: 15px;\n          ").concat(e,"\n     ")}var n="";this.title.enable_margin&&(n=" \n        margin-top:".concat(this.title.margin.top*this.fontMultiplier,"px;\n        margin-bottom:").concat(this.title.margin.bottom*this.fontMultiplier,"px;\n        margin-left:").concat(this.title.margin.left*this.fontMultiplier,"px;\n        margin-right:").concat(this.title.margin.right*this.fontMultiplier,"px;\n      "));var i="";return this.title.enable_padding&&(i=" \n        padding-top:".concat(this.title.padding.top*this.fontMultiplier,"px;\n        padding-bottom:").concat(this.title.padding.bottom*this.fontMultiplier,"px;\n        padding-left:").concat(this.title.padding.left*this.fontMultiplier,"px;\n        padding-right:").concat(this.title.padding.right*this.fontMultiplier,"px;\n      ")),"\n      .apx-inline-title-div".concat(this.cssPostFix," {\n        ").concat(this.direction.nudge===DIRECTION.HORIZONTAL&&(this.enable_image||this.enable_icon||this.enable_video)?"box-sizing: border-box;":"","\n        width:100%;\n        display:flex;\n        justify-content:").concat(this.title.alignment,";\n        text-align:").concat(this.title.alignment,";\n        pointer-events:none;\n        overflow-wrap: anywhere;\n        ").concat(n,"\n        ").concat(i,"\n      }\n      .apx-inline-title-icon").concat(this.cssPostFix," {\n        ").concat(t,"\n      }\n    ")}},{key:"_getDescriptionStyles",value:function(){if(!this.enable_description)return"";var t="";this.description.enable_margin&&(t=" \n        margin-top:".concat(this.description.margin.top*this.fontMultiplier,"px;\n        margin-bottom:").concat(this.description.margin.bottom*this.fontMultiplier,"px;\n        margin-left:").concat(this.description.margin.left*this.fontMultiplier,"px;\n        margin-right:").concat(this.description.margin.right*this.fontMultiplier,"px;\n      "));var e="";return this.description.enable_padding&&(e=" \n        padding-top:".concat(this.description.padding.top*this.fontMultiplier,"px;\n        padding-bottom:").concat(this.description.padding.bottom*this.fontMultiplier,"px;\n        padding-left:").concat(this.description.padding.left*this.fontMultiplier,"px;\n        padding-right:").concat(this.description.padding.right*this.fontMultiplier,"px;\n      ")),"\n      .apx-inline-description".concat(this.cssPostFix," {\n        ").concat(this.direction.nudge===DIRECTION.HORIZONTAL&&(this.enable_image||this.enable_icon||this.enable_video)?"box-sizing: border-box;":"","\n        width:100%;\n        justify-content:").concat(this.description.alignment,";\n        text-align:").concat(this.description.alignment,";\n        ").concat(t,"\n        ").concat(e,"\n      }\n    ")}},{key:"_getInLineButtonContainerStyles",value:function(){return"\n    .apx-inline-button-container".concat(this.cssPostFix,"{\n      display:flex;\n      flex-direction:row;\n      align-items:center;\n      justify-content:center;\n      margin:0 10px 0 10px;\n    }\n    .apx-inline-top-button-container").concat(this.cssPostFix,"{\n      width:100%;\n      height:auto;\n    }\n    .apx-inline-center-button-container").concat(this.cssPostFix,"{\n      width:100%;\n      height:auto;\n    }\n    .apx-inline-bottom-button-container").concat(this.cssPostFix,"{\n      width:100%;\n      height:auto;\n    }")}},{key:"_getIconStyles",value:function(){var t="";if(this.enable_icon){var e="";this.icon.enable_border&&(e="\n          border-radius:".concat(this.icon.border.radius,"%;\n          border:").concat(this.icon.border.width*this.fontMultiplier,"px ").concat(this.icon.border.style," ").concat(this.icon.border.color,";\n      "));var n="";this.icon.enable_margin&&(n="\n          margin-top:".concat(this.icon.margin.top*this.fontMultiplier,"px;\n          margin-bottom:").concat(this.icon.margin.bottom*this.fontMultiplier,"px;\n          margin-left:").concat(this.icon.margin.left*this.fontMultiplier,"px;\n          margin-right:").concat(this.icon.margin.right*this.fontMultiplier,"px;\n        "));var i="";this.icon.enable_padding&&(i="\n          padding-top:".concat(this.icon.padding.top*this.fontMultiplier,"px;\n          padding-bottom:").concat(this.icon.padding.bottom*this.fontMultiplier,"px;\n          padding-left:").concat(this.icon.padding.left*this.fontMultiplier,"px;\n          padding-right:").concat(this.icon.padding.right*this.fontMultiplier,"px;\n        ")),t="\n        .apx-inline-icon-container".concat(this.cssPostFix," {\n          text-align:").concat(this.icon.alignment,";\n        }\n        .apx-inline-icon-content").concat(this.cssPostFix," {\n          height: ").concat(this.icon.height*this.fontMultiplier,"px;\n          width: ").concat(this.icon.width*this.fontMultiplier,"px;\n          ").concat(e,"\n          ").concat(n,"\n          ").concat(i,"\n        }\n      ")}return t}},{key:"_getImageStyles",value:function(){var t="";if(this.enable_image)if(this.image.enable_background_image)t="\n            .apx-inline-image".concat(this.cssPostFix,"{\n              background-image: url('").concat(this.image.path,"');\n              background-repeat: no-repeat;\n              background-attachment: fixed; \n              background-size: 100% 100%;\n              height: ").concat("auto"!==this.media_height?"".concat(parseInt(this.media_height)*this.fontMultiplier,"px"):this.media_height,";\n              width: ").concat("auto"!==this.media_width?"".concat(parseInt(this.media_width)*this.fontMultiplier,"px"):this.media_width,";\n              box-shadow: inset ").concat("auto"!==this.media_width?"".concat(parseInt(this.media_width)*this.fontMultiplier,"px"):this.media_width," ").concat("auto"!==this.media_height?"".concat(parseInt(this.media_height)*this.fontMultiplier,"px"):this.media_height," 0px 0px ").concat(hexToRGB(this.image.background_image.mask_color,this.image.background_image.mask_opacity),",inset -").concat("auto"!==this.media_width?"".concat(parseInt(this.media_width)*this.fontMultiplier,"px"):this.media_width," -").concat("auto"!==this.media_height?"".concat(parseInt(this.media_height)*this.fontMultiplier,"px"):this.media_height," 0px 0px ").concat(hexToRGB(this.image.background_image.mask_color,this.image.background_image.mask_opacity),"\n            }\n        ");else{var e="";this.image.enable_border&&(e="\n          border-radius:".concat(this.image.border.radius,"%;\n          border:").concat(this.image.border.width*this.fontMultiplier,"px ").concat(this.image.border.style," ").concat(this.image.border.color,";\n          ")),t="\n        .apx-inline-image".concat(this.cssPostFix,"{\n          height: ").concat("auto"!==this.media_height?"".concat(parseInt(this.media_height)*this.fontMultiplier,"px"):this.media_height,";\n          width: ").concat("auto"!==this.media_width?"".concat(parseInt(this.media_width)*this.fontMultiplier,"px"):this.media_width,";\n          ").concat(e,"\n        }\n      ")}return t}},{key:"_getVideoStyles",value:function(){var t="";if(this.enable_video){var e="";this.video.enable_border&&(e="\n        border-radius:".concat(this.video.border.radius,"%;\n        border:").concat(this.video.border.width*this.fontMultiplier,"px ").concat(this.video.border.style," ").concat(this.video.border.color,";\n        ")),t="\n        .apx-inline-video".concat(this.cssPostFix," {\n          width:").concat("auto"!==this.media_width?"".concat(parseInt(this.media_width)*this.fontMultiplier,"px"):this.media_width,";\n          height:").concat("auto"!==this.media_height?"".concat(parseInt(this.media_height)*this.fontMultiplier,"px"):this.media_height,";\n          ").concat(e,"\n        }\n      ")}return t}},{key:"_getProgressBarStyles",value:function(){var t="";return this.has_progress_bar&&(t="\n      .apx-inline-progress-bar".concat(this.cssPostFix,"{\n        position: absolute;\n        width:100%;\n        height:").concat(this.progressbar.width,";\n        ").concat("top"===this.progressbar.position?"top:0px;":"bottom:0px;","\n        left:0px;\n        z-index:9998;\n        overflow:hidden;\n        cursor: pointer;\n        background:").concat(this.progressbar.reamining_color,";\n      }\n      .apx-inline-bar").concat(this.cssPostFix,"{\n        width:100%;\n        height:100%;\n        background:").concat(this.progressbar.progress_color,";\n      }")),t}},{key:"_getTippyStyles",value:function(){var t="",e="",n="",i="",o="",a="",r="",s="";if(this.enable_arrow)switch(this.arrow.type){case"round":this.tippy_box_position=this.enable_border?10-this.border.width:10,t="\n                    bottom:".concat(this.enable_border?"".concat(-10+this.border.width,"px"):"-10px",";\n          "),o="\n          width:18px;\n          height:18px;\n          border-radius:5px;\n          transform: rotate(45deg);\n          background-color:".concat(this.arrow.color,";\n          "),e="\n          left:".concat(this.enable_border?"".concat(-10+this.border.width,"px"):"-10px",";\n          "),a="\n          bottom:-10px;\n          width:18px;\n          height:18px;\n          border-radius:5px;\n          transform: rotate(45deg);\n          background-color:".concat(this.arrow.color,";\n          "),n="\n          top:".concat(this.enable_border?"".concat(-10+this.border.width,"px"):"-10px",";\n          "),r="\n          width:18px;\n          height:18px;\n          border-radius:5px;\n          transform: rotate(45deg);\n          background-color:".concat(this.arrow.color,";\n          "),i="\n                              right:".concat(this.enable_border?"".concat(-10+this.border.width,"px"):"-10px",";\n          "),s="\n          top:-50%;\n          width:18px;\n          height:18px;\n          border-radius:5px;\n          transform: rotate(45deg);\n          background-color:".concat(this.arrow.color,";\n          ");break;case"narrow":this.tippy_box_position=this.enable_border?16-this.border.width:16,t="\n                    bottom:".concat(this.enable_border?"".concat(-16+this.border.width,"px"):"-16px",";\n          "),o="\n          border-width:18px 5px 0;\n          ",e="\n          left:".concat(this.enable_border?"".concat(-16+this.border.width,"px"):"-16px",";\n          "),a="\n          border-width:5px 18px 5px 0;\n          ",n="\n          top:".concat(this.enable_border?"".concat(-16+this.border.width,"px"):"-16px",";\n          "),r="\n          border-width:0 5px 18px;\n          ",i="\n                              right:".concat(this.enable_border?"".concat(-16+this.border.width,"px"):"-16px",";\n          "),s="\n          border-width:5px 0 5px 18px;\n          ";break;case"wide":this.tippy_box_position=this.enable_border?10-this.border.width:10,t="\n                    bottom:".concat(this.enable_border?"".concat(-16+this.border.width,"px"):"-16px",";\n          "),o="\n          left:-50%;\n          border-width:9px 18px 0;\n          ",e="\n          left:".concat(this.enable_border?"".concat(-8+this.border.width,"px"):"-8px",";\n          "),a="\n          top:-50%;\n          border-width:18px 9px 18px 0;\n          ",n="\n          top:".concat(this.enable_border?"".concat(-5+this.border.width,"px"):"-5px",";\n          "),r="\n          left:-50%;\n          top:-8px;\n          border-width:0 18px 9px;\n          bottom:13px;\n          ",i="\n                              right:".concat(this.enable_border?"".concat(-18+this.border.width,"px"):"-18px",";\n          "),s="\n          top:-50%;\n          border-width:18px 0 18px 8px;\n          ";break;case"large":this.tippy_box_position=this.enable_border?15-this.border.width:15,t="\n                    bottom:".concat(this.enable_border?"".concat(-15+this.border.width,"px"):"-15px",";\n          "),o="\n          left:-50%;\n          border-width:16px 16px 0;\n          ",e="\n          left:".concat(this.enable_border?"".concat(-15+this.border.width,"px"):"-15px",";\n          "),a="\n          top:-50%;\n          border-width:16px 16px 16px 0;\n          ",n="\n          top:".concat(this.enable_border?"".concat(-15+this.border.width,"px"):"-15px",";\n          "),r="\n          left:-50%;\n          border-width:0 16px 16px;\n          ",i="\n                              right:".concat(this.enable_border?"".concat(-15+this.border.width,"px"):"-15px",";\n          "),s="\n          top:-50%;\n          border-width:16px 0 16px 16px;\n          ";break;case"small":this.tippy_box_position=this.enable_border?6-this.border.width:6,t="\n                    bottom:".concat(this.enable_border?"".concat(-6+this.border.width,"px"):"-6px",";\n          "),o="\n          left:-50%;\n          border-width:16px 16px 0;\n          ",e="\n          left:".concat(this.enable_border?"".concat(-6+this.border.width,"px"):"-6px",";\n          "),a="\n          top:-50%;\n          border-width:16px 16px 16px 0;\n          ",n="\n          top:".concat(this.enable_border?"".concat(-6+this.border.width,"px"):"-6px",";\n          "),r="\n          left:-50%;\n          border-width:0 16px 16px;\n          ",i="\n                              right:".concat(this.enable_border?"".concat(-6+this.border.width,"px"):"-6px",";\n          "),s="\n          top:-50%;\n          border-width:16px 0 16px 16px;\n          ";break;default:this.tippy_box_position=this.enable_border?11-this.border.width:11,t="\n                              bottom:".concat(this.enable_border?"".concat(-11+this.border.width,"px"):"-11px",";\n          "),o="\n          left:-50%;\n          border-width:16px 16px 0;\n          ",e="\n                              left:".concat(this.enable_border?"".concat(-11+this.border.width,"px"):"-11px",";\n          "),a="\n          top:-50%;\n          border-width:16px 16px 16px 0;\n          ",n="\n                              top:".concat(this.enable_border?"".concat(-11+this.border.width,"px"):"-11px",";\n          "),r="\n          left:-50%;\n          border-width:0 16px 16px;\n          ",i="\n                              right:".concat(this.enable_border?"".concat(-11+this.border.width,"px"):"-11px",";\n          "),s="\n          top:-50%;\n          border-width:16px 0 16px 16px;\n          "}var l=document.querySelector("style[data-tippy-stylesheet]");l&&l.remove();var c="";this.enable_animation&&(c="\n        @-webkit-keyframes ".concat(this.animation.type," {\n          0% { transform: ").concat(translateDir(this.position.position,0),"; }\n          50% { transform: ").concat(translateDir(this.position.position,50),"; }\n          100% { transform: ").concat(translateDir(this.position.position,100),"; }\n         }\n  \n         @keyframes ").concat(this.animation.type," {\n          0% { transform: ").concat(translateDir(this.position.position,0),"; }\n          50% { transform: ").concat(translateDir(this.position.position,50),"; }\n          100% { transform: ").concat(translateDir(this.position.position,100),"; }\n         }\n  \n         .tippy-box {\n           animation-name: ").concat(this.animation.type,";\n           animation-duration: ").concat(this.animation.duration,"ms;\n           animation-timing-function: ").concat(this.animation.anim_function,";\n           animation-iteration-count: ").concat(this.animation.iteration_count,";\n         }\n        "));var d='\n        .tippy-box[data-animation="fade"][data-state=hidden]{\n          opacity:0;\n        } \n       [data-tippy-root] {\n          width:'.concat(this.inline_width,";\n          max-width:calc(100vw - ").concat(this.enable_arrow&&this.arrow.enable_border?this.arrow.border.width:0,"px);\n        } \n       .tippy-box { \n          width:").concat(this.inline_width,";\n          position:relative;\n          line-height:1.4;\n          white-space:normal;\n          outline:0;\n          transition-property:transform,visibility,opacity;\n        } \n       .tippy-box[data-placement^=top] > .tippy-arrow {\n          ").concat(t,"\n        } \n       .tippy-box[data-placement^=top] > .tippy-arrow:before {\n          ").concat(o,"\n          border-top-color:initial;\n          transform-origin:center top;\n        } \n       .tippy-box[data-placement^=bottom] > .tippy-arrow {\n          ").concat(n,"\n        } \n       .tippy-box[data-placement^=bottom] > .tippy-arrow:before {\n          ").concat(r,"\n          border-bottom-color:initial;\n          transform-origin:center bottom;\n        } \n       .tippy-box[data-placement^=left] > .tippy-arrow {\n          ").concat(i,"\n        } \n       .tippy-box[data-placement^=left] > .tippy-arrow:before {\n          ").concat(s,"\n          border-left-color:initial;\n          transform-origin:center left;\n        } \n       .tippy-box[data-placement^=right] > .tippy-arrow {\n          ").concat(e,"\n        } \n       .tippy-box[data-placement^=right] > .tippy-arrow:before {\n          ").concat(a,"\n          border-right-color:initial;\n          transform-origin:center right;\n        } \n       .tippy-box[data-inertia][data-state=visible] {\n          transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)\n        } \n       .tippy-arrow {\n          z-index:9999;\n          width:18px;\n          height:18px;\n          color:").concat(this.enable_arrow?this.arrow.color:"transparent",";\n          opacity:0;\n          visibility:hidden;\n       } \n       .tippy-arrow.open {\n          opacity:1;\n          visibility:visible;\n       }\n       .tippy-arrow:before{ \n          transform: scale(").concat(this.fontMultiplier,');\n          content:"";\n          position:absolute;\n          border-color:transparent;\n          border-style:').concat(this.enable_arrow&&this.arrow.enable_border?this.arrow.border.style:"solid",";\n       } \n       .tippy-content {\n        width:").concat(this.inline_width,";\n          position:relative;\n          z-index:9998;\n       } \n      ").concat(c,"\n    ");return"\n       ".concat(d,"\n    ")}},{key:"_getBootstrapiconsStyles",value:function(){return'\n      .bi::before, [class^="bi-"]::before, [class*=" bi-"]::before {\n        display: inline-block;\n        font-style: normal;\n        font-weight: normal !important;\n        font-variant: normal;\n        text-transform: none;\n        line-height: 1;\n        vertical-align: -.125em;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n      }\n      .bi-x::before { \n        content: "62a"; \n      }\n      .bi-x-circle-fill::before { \n        content: "622"; \n      }\n    '}},{key:"_removeStyles",value:function(){try{var t=document.querySelector("style[apx-tooltip-styles]");t&&t.remove();var e=document.querySelector("style[data-tippy-stylesheet]");e&&e.remove()}catch(t){console.error("Could not remove the tooltip styles:"+t)}}},{key:"_setInLineContent",value:function(){this._createInLineContainer(),this.direction.nudge===DIRECTION.VERTICAL&&(this._createTopButtonContainer(),this._setButtons(BUTTON_CONTAINER_POSITION.TOP)),this._createMediaContainer(),this.direction.nudge===DIRECTION.VERTICAL&&(this._createCenterButtonContainer(),this._setButtons(BUTTON_CONTAINER_POSITION.CENTER)),this._setImageOptions(),this._setVideoOptions(),this._setIconOptions(),this._createNonMediaContainer(),this._setTextContainer(),this._setTitleContent(),this._setDescriptionContent(),this._createButtonContainer(),this._createBottomButtonContainer(),this._setButtons(BUTTON_CONTAINER_POSITION.BOTTOM),this._setProgressBar(),this._setCloseButton(),this.yzKQ()}},{key:"_createInLineContainer",value:function(){var t=this;this.inLineContainer=document.createElement("div"),this.inLineContainer.classList.add("apx-inline-container".concat(this.cssPostFix)),this.enable_scroll||this.inLineContainer.addEventListener("touchmove",(function(t){t.preventDefault()})),this.enable_nocode_events&&(this.inLineContainer.addEventListener("mouseenter",(function(e){e.stopImmediatePropagation(),t.flag=!1})),this.inLineContainer.addEventListener("mouseleave",(function(e){e.stopImmediatePropagation(),t._destroyTooltip()})))}},{key:"_destroyTooltipForBadge",value:function(t){this.flag&&(this._destroyTooltip(),t())}},{key:"_createMediaContainer",value:function(){this.mediaContainer=document.createElement("div"),this.mediaContainer.classList.add("apx-inline-media-container".concat(this.cssPostFix)),this.inLineContainer.appendChild(this.mediaContainer)}},{key:"_setImageOptions",value:function(){if(this.enable_image)if(this.image.enable_background_image)this.inLineContainer.classList.add("apx-inline-image".concat(this.cssPostFix));else{var t=document.createElement("img");t.src=this.image.path,t.classList.add("apx-inline-image".concat(this.cssPostFix)),this.mediaContainer.appendChild(t)}}},{key:"_setVideoOptions",value:function(){if(this.enable_video)if(this.video.enable_embed){var t=document.createElement("div");t.classList.add("apx-inline-video".concat(this.cssPostFix)),t.innerHTML="".concat(this.video.embed.html),this.mediaContainer.appendChild(t)}else{var e,n=document.createElement("video");n.classList.add("apx-inline-video".concat(this.cssPostFix)),n.controlsList="noplaybackrate nodownload nofullscreen",n.controls=!0,n.disablePictureInPicture=!0,n.autoplay=!0,"ios"===(null===(e=window.Apxor)||void 0===e?void 0:e.platform)&&(n.playsInline=!0),n.muted=!this.video.enable_audio;var i=document.createElement("source");i.setAttribute("src",this.video.path),i.setAttribute("type","video/mp4"),n.appendChild(i),this.mediaContainer.appendChild(n)}}},{key:"_setIconOptions",value:function(){if(this.enable_icon){var t=document.createElement("div");t.classList.add("apx-inline-icon-container".concat(this.cssPostFix));var e=document.createElement("img");e.src=this.icon.path,e.classList.add("apx-inline-icon-content".concat(this.cssPostFix)),t.appendChild(e),this.mediaContainer.appendChild(t)}}},{key:"_createNonMediaContainer",value:function(){this.nonMediaContainer=document.createElement("div"),this.nonMediaContainer.classList.add("apx-inline-nonmedia-container".concat(this.cssPostFix)),this.inLineContainer.appendChild(this.nonMediaContainer)}},{key:"_setTextContainer",value:function(){this.textContainer=document.createElement("div"),this.textContainer.classList.add("apx-inline-text-container".concat(this.cssPostFix)),this.nonMediaContainer.appendChild(this.textContainer)}},{key:"_setTitleContent",value:function(){if(this.enable_title){var t=document.createElement("div");if(t.classList.add("apx-inline-title-div".concat(this.cssPostFix)),""!=this.title.enable_icon){var e=document.createElement("img");e.src=this.title.icon.path,e.classList.add("apx-inline-title-icon".concat(this.cssPostFix)),t.appendChild(e)}this.title.font.size=this.title.font.size*this.fontMultiplier,t.appendChild(createNewTextElement(this.title,this.currentId,"title")),this.textContainer.appendChild(t)}}},{key:"_setDescriptionContent",value:function(){if(this.enable_description){var t=document.createElement("div");t.classList.add("apx-inline-description".concat(this.cssPostFix)),this.description.font.size=this.description.font.size*this.fontMultiplier,t.appendChild(createNewTextElement(this.description,this.currentId,"description")),t.classList.add("apx-inline-scroll".concat(this.cssPostFix)),this.textContainer.appendChild(t)}}},{key:"_setProgressBar",value:function(){if(this.enable_stepper&&this.stepper.enable_progressbar){this.progressbar=this.stepper.progressbar;var t=document.createElement("div");t.classList.add("apx-inline-progress-bar".concat(this.cssPostFix));var e=document.createElement("div");e.classList.add("apx-inline-bar".concat(this.cssPostFix)),this.stepper.index<=this.stepper.length?e.style.transform="translateX(".concat(-(100-100/this.stepper.length*this.stepper.index),"%)"):t.style.visibility="hidden",t.appendChild(e),this.inLineContainer.appendChild(t)}}},{key:"_createButtonContainer",value:function(){this.direction.non_media!==DIRECTION.VERTICAL&&(this.buttonContainer=document.createElement("div"),this.buttonContainer.classList.add("apx-inline-button-container".concat(this.cssPostFix)),this.nonMediaContainer.appendChild(this.buttonContainer))}},{key:"_createTopButtonContainer",value:function(){var t;this.enable_buttons&&null!==(t=this.buttons)&&void 0!==t&&t.enable_top&&(this.topButtonContainer=document.createElement("div"),this.topButtonContainer.classList.add("apx-inline-top-button-container".concat(this.cssPostFix)),this.inLineContainer.appendChild(this.topButtonContainer))}},{key:"_createCenterButtonContainer",value:function(){var t;this.enable_buttons&&null!==(t=this.buttons)&&void 0!==t&&t.enable_center&&(this.centerButtonContainer=document.createElement("div"),this.centerButtonContainer.classList.add("apx-inline-center-button-container".concat(this.cssPostFix)),this.inLineContainer.appendChild(this.centerButtonContainer))}},{key:"_createBottomButtonContainer",value:function(){var t;this.enable_buttons&&null!==(t=this.buttons)&&void 0!==t&&t.enable_bottom&&(this.bottomButtonContainer=document.createElement("div"),this.bottomButtonContainer.classList.add("apx-inline-bottom-button-container".concat(this.cssPostFix)),this.nonMediaContainer.appendChild(this.bottomButtonContainer))}},{key:"_setButtons",value:function(t){var e=this;if(this.enable_buttons&&(t===BUTTON_CONTAINER_POSITION.TOP&&this.buttons.enable_top||t===BUTTON_CONTAINER_POSITION.CENTER&&this.buttons.enable_center||t===BUTTON_CONTAINER_POSITION.BOTTOM&&this.buttons.enable_bottom)){var n=function(t){e._destroyTooltip(t)},i={next:function(t,i){n(!1),e.stepperCallBack(t,i)},prev:function(t,i){n(!1),e.stepperCallBack(t,i)},complete:n,cancel:n,_isCancelled:!1,action:""},o={};o=t===BUTTON_CONTAINER_POSITION.TOP?this.buttons.top:t===BUTTON_CONTAINER_POSITION.CENTER?this.buttons.center:this.buttons.bottom;var a=generateButtonsBlock(this.configId,this.name,this.stepper,EVENT_PREFIX.INLINE,o,this.direction.buttons,t,i,this.isWalkthrough,this.uis,this.index,"center",this.fontMultiplier,this.step);t===BUTTON_CONTAINER_POSITION.TOP?this.topButtonContainer.appendChild(a):t===BUTTON_CONTAINER_POSITION.CENTER?this.centerButtonContainer.appendChild(a):this.bottomButtonContainer.appendChild(a)}}},{key:"_setCloseButton",value:function(){var t=this;if(this.enable_close_button){var e=document.createElement("span");this.close_button.type===CLOSE_BUTTON_STYLE.NORMAL?e.innerHTML=getCloseSVG(this.close_button.width*this.fontMultiplier,this.close_button.height*this.fontMultiplier,this.close_button.color):this.close_button.type===CLOSE_BUTTON_STYLE.FILL?"circle"===this.close_button.shape?e.innerHTML=getCloseWithCircleSVG(this.close_button.width*this.fontMultiplier,this.close_button.height*this.fontMultiplier,this.close_button.fill_color,this.close_button.color):e.innerHTML=getCloseWithRectangleSVG(this.close_button.width*this.fontMultiplier,this.close_button.height*this.fontMultiplier,this.close_button.fill_color,this.close_button.color):e.innerHTML='<img src="'.concat(this.close_button.path,'" width="').concat(this.close_button.width,'px" height="').concat(this.close_button.height,'px"></img>'),e.classList.add("apx-inline-close".concat(this.cssPostFix)),e.addEventListener("click",(function(){var e="cancel"===t.close_button.action;window.Apxor.logActionEvent("InlineXIconClicked",t.configId,t.name),e&&window.Apxor.logActionEvent("walk_through_cancelled",t.configId,t.name),t._destroyTooltip(e)})),this.direction.non_media===DIRECTION.VERTICAL||this.direction.nudge===DIRECTION.VERTICAL?this.inLineContainer.appendChild(e):this.buttonContainer.appendChild(e)}}},{key:"_setObservors",value:function(){var t=this;this.targetDeletionObserver=new MutationObserver((function(){t.tooltipShown&&(document.body.contains(t.targetElement)||t._destroyTooltip())})),this.viewPortObservor=new IntersectionObserver((function(){t.tooltipShown&&(isElementInViewport(t.targetElement)||t._destroyTooltip())}))}},{key:"_createTippyInstance",value:function(){var t=this;if(this.targetElement.disabled){var e=document.createElement("span");e.setAttribute("id","apx_tooltip_span"),this.targetElement.parentNode.insertBefore(e,this.targetElement),e.appendChild(this.targetElement),this.targetElement=e}this.tooltip=tippy(this.targetElement,{allowHTML:!1,aria:{content:"describedby"},arrow:this.enable_arrow,appendTo:function(){return document.body},content:this.inLineContainer,duration:100,followCursor:this.follow_cursor,flip:!0,flipOnUpdate:!0,inlinePositioning:!0,hideOnClick:!1,interactive:!0,interactiveBorder:this.interactive_border,interactiveDebounce:999999,moveTransition:"transform 0s linear",maxWidth:"100%",maxHeight:"100%",offset:[this.arrow.arrowPosition,this.position.offset.distance],onShow:function(){var e,n;null===(e=t.targetDeletionObserver)||void 0===e||e.observe(document.body,{childList:!0,subtree:!0}),null===(n=t.viewPortObservor)||void 0===n||n.observe(t.targetElement),setTimeout((function(){t._highlightInlineTarget(),t._setAutoTerminate(),t.tooltipShown=!0}),10)},onMount:function(e){t.recalculateTheTippyHeight(),e.popperInstance.update()},onShown:function(){t.tippy_box_position=t.enable_animation?t.tippy_box_position-10:t.tippy_box_position,t.tippy_box_position=t.set_font_to_scale&&t.fontMultiplier>1?t.tippy_box_position+26:t.tippy_box_position,t.updateSkid=function(){var e=document.querySelector("[data-tippy-root]"),n=document.querySelector(".tippy-box"),i=document.querySelector("[apx-tooltip-styles]").innerHTML,o=n.getAttribute("data-placement");"left"===o||"right"===o?(e.style.top="".concat(t.position.offset.skid,"px"),e.style.left="".concat("left"===o?-t.tippy_box_position:t.tippy_box_position,"px")):"top"!==o&&"bottom"!==o||(e.style.left="".concat(t.position.offset.skid,"px"),e.style.top="".concat("bottom"===o?t.tippy_box_position:-t.tippy_box_position,"px")),t.recent_placement!==o&&t.enable_animation&&(i=i.replace("@-webkit-keyframes ".concat(t.animation.type," {\n                  0% { transform: ").concat(translateDir(t.recent_placement,0),"; }\n                  50% { transform: ").concat(translateDir(t.recent_placement,50),"; }\n                  100% { transform: ").concat(translateDir(t.recent_placement,100),"; }\n                }\n                \n                @keyframes ").concat(t.animation.type," {\n                  0% { transform: ").concat(translateDir(t.recent_placement,0),"; }\n                  50% { transform: ").concat(translateDir(t.recent_placement,50),"; }\n                  100% { transform: ").concat(translateDir(t.recent_placement,100),"; }\n                }").replaceAll("\n","").replace(/[\s]{2,999}/g,""),"@-webkit-keyframes ".concat(t.animation.type," {\n                  0% { transform: ").concat(translateDir(o,0),"; }\n                  50% { transform: ").concat(translateDir(o,50),"; }\n                  100% { transform: ").concat(translateDir(o,100),"; }\n                }\n                \n                @keyframes ").concat(t.animation.type," {\n                  0% { transform: ").concat(translateDir(o,0),"; }\n                  50% { transform: ").concat(translateDir(o,50),"; }\n                  100% { transform: ").concat(translateDir(o,100),"; }\n                }").replaceAll("\n","").replace(/[\s]{2,999}/g,"")),document.querySelector("[apx-tooltip-styles]").innerHTML=i,t.recent_placement=o)},t.updateSkid(),t._showTippy(),window.addEventListener("scroll",t.updateSkid)},placement:this.position.position,popperOptions:{modifiers:[{name:"flip",options:{fallbackPlacements:["bottom","right","top","left"],allowedAutoPlacements:["top","bottom","right","left"]}}]},role:"tooltip",showOnCreate:!0,sticky:!1,touch:!0,zIndex:99999999})}},{key:"_showTippy",value:function(){var t=this;this.inLineContainer.classList.add("open"),setTimeout((function(){var e,n=document.querySelector(".tippy-arrow");null==n||null===(e=n.classList)||void 0===e||e.add("open"),t.showCallback()}),200)}},{key:"_setAutoTerminate",value:function(){var t=this;!0===this.terminationConfig.auto_dismiss&&(this.terminationTimeoutId=setTimeout((function(){t._destroyTooltip()}),this.terminationConfig.duration))}},{key:"_targetClickCallback",value:function(){var t,e,n;this.enable_dismiss_actions&&this.dismiss_actions.target_touch&&(this._destroyTooltip(),window.Apxor.logActionEvent("InlineTargetViewClicked",this.configId,this.name),null!==(t=this.uiConfig)&&void 0!==t&&null!==(t=t.additional_info)&&void 0!==t&&t.apx_step&&(null===(e=window)||void 0===e||null===(e=e.Apxor)||void 0===e||e.triggerNextStep(this.configId,(null===(n=this.uiConfig)||void 0===n||null===(n=n.additional_info)||void 0===n?void 0:n.apx_step)+1)))}},{key:"_dimbackgroundClickCallback",value:function(){var t,e,n;(this._destroyTooltip(!1),null!==(t=this.uiConfig)&&void 0!==t&&null!==(t=t.additional_info)&&void 0!==t&&t.apx_step)&&(null===(e=window)||void 0===e||null===(e=e.Apxor)||void 0===e||e.triggerNextStep(this.configId,(null===(n=this.uiConfig)||void 0===n||null===(n=n.additional_info)||void 0===n?void 0:n.apx_step)+1))}},{key:"_destroyTooltip",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var e,n,i,o,a,r,s;null===(e=this.targetDeletionObserver)||void 0===e||e.disconnect(),this.targetDeletionObserver=null,null===(n=this.viewPortObservor)||void 0===n||n.disconnect(),this.viewPortObservor=null,null===(i=this.tooltip)||void 0===i||i.destroy(),null===(o=this.dimBackgroundElement)||void 0===o||o.removeEventListener("click",this._dimbackgroundClickCallback),null===(a=this.dimBackgroundElement)||void 0===a||a.removeEventListener("touchmove",this._dimbackgroundClickCallback),null===(r=this.dimBackgroundElement)||void 0===r||r.remove(),null===(s=this.targetOverlayElement)||void 0===s||s.remove(),this._removeStyles(),this.targetElement.removeAttribute("apx-inline-dimbackground"),clearTimeout(this.terminationTimeoutId),this.targetElement.removeEventListener("click",this._targetClickCallback),window.removeEventListener("scroll",this.updateSkid)}catch(t){console.info("Destroying the tooltip:"+t)}this.closeCallback(t)}},{key:"_isWalkthroughCampaign",value:function(){return Array.isArray(this.walkthroughConfigs)&&this.walkthroughConfigs.length>0}},{key:"getPixelsFromPercentage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=window.innerWidth,i=window.innerHeight;return e?i*t/100:n*t/100}},{key:"recalculateTheTippyHeight",value:function(){try{var t=this.inLineContainer.offsetHeight,e=this.inLineContainer.offsetWidth,n=document.querySelector("[data-tippy-root]");n.style.height="".concat(t,"px"),n.style.width="".concat(e,"px");var i=document.querySelector(".tippy-box");i.style.height="".concat(t,"px"),i.style.width="".concat(e,"px");var o=document.querySelector(".tippy-content");o.style.height="".concat(t,"px"),o.style.width="".concat(e,"px")}catch(t){this._destroyTooltip(),console.error("Can't update the tippy dimensions")}}}]),t}(),CoachmarkButtons=_createClass((function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.direction=convertTheDirectionCode(n.direction),this.alignment=convertThePositionCode(n.alignment),this.buttonArray=[];var i=getArrayOrDefault(n.list,[]);i.forEach((function(t){e.buttonArray.push(new Button(t))}))})),Content=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.height=e.height,this.width=e.width,this.position=e.position,this.enable_title=e.enable_title,this.enable_title&&(this.title=new Title(e.title)),this.enable_description=e.enable_description,this.enable_description&&(this.description=new Description(e.description)),this.enable_buttons=e.enable_buttons,this.enable_buttons&&(this.buttons=new CoachmarkButtons(null==e?void 0:e.buttons)),this.enable_margin=e.enable_margin,this.enable_margin&&(this.margin=new Margin(e.margin)),this.enable_offset=e.enable_offset,this.enable_offset&&(this.offset=e.offset)}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),Ripple=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.ripple_type=e.ripple_type,this.duration=null==e?void 0:e.duration,this.width=null==e?void 0:e.width,this.opacity=null==e?void 0:e.opacity,this.color=null==e?void 0:e.color})),BackgroundOffset=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.top=null==e?void 0:e.top,this.bottom=null==e?void 0:e.bottom,this.left=null==e?void 0:e.left,this.right=null==e?void 0:e.right})),Highlighter=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.enable_border=null==e?void 0:e.enable_border,this.border=new Border(null==e?void 0:e.border),this.shape=null==e?void 0:e.shape,this.delta_circle=null==e?void 0:e.delta_circle,this.delta_rect=new BackgroundOffset(null==e?void 0:e.delta_rect),this.opacity=null==e?void 0:e.opacity})),OffsetXY=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.x=getNumberOrDefault(null==e?void 0:e.x,0),this.y=getNumberOrDefault(null==e?void 0:e.y,0)})),Background=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.background_color=getColorOrDefault(null==e?void 0:e.color,"#FFF").toLowerCase(),this.opacity=e.opacity,this.shape=getStringOrDefault(null==e?void 0:e.shape,"rectangle").toLowerCase(),this.offset=new OffsetXY(e.offset),this.delta_circle=null==e?void 0:e.delta_circle,this.delta_rect=new BackgroundOffset(null==e?void 0:e.delta_rect)}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),DEFAULT_PADDING$1=5,InLineCoachMark=function(){function t(e,n,i,o,a,r,s,l,c){var d,p,h,u,m,g,f,v,_=arguments.length>9&&void 0!==arguments[9]&&arguments[9],b=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0;(_classCallCheck(this,t),this.uiConfig=e,this.uis=n,this.isWalkthrough=_,this.index=b,this.walkthroughConfigs=i,this.messageConfig=a,this.rtmInstance=r,this.currentId=makeid(10),this.terminationTimeoutId=null,this.configId=a.configId,this.name=a.configName,this.cssPostFix="-".concat(this.configId,"-").concat(this.name).replace(/\s+/g,"").replace(/[^\w-]/g,""),this.showCallback=s,this.closeCallback=l,this.stepperCallBack=c,this.targetDeletionObserver=null,this.viewPortObservor=null,this.coachmarkShown=!1,this.terminationConfig=o,this.delay=e.delay,this.scrollToView=e.scrollToView||!1,this.dismiss_outside_touch=e.dismiss_outside_touch,this.content=new Content(e.content),this.target=new Target$1(e.target),this.enable_dimbackground=e.enable_dimbackground,this.background=new Background(e.outer_highlighter),this.dimbackground=new DimBackground(e.dimbackground),this.enable_ripple=e.enable_ripple,this.ripple=new Ripple(e.ripple),this.highlighter=new Highlighter(e.inner_highlighter),this.enable_image=null==e?void 0:e.enable_image,this.enable_image&&(this.image=null==e?void 0:e.image),this.enable_arrow=null==e?void 0:e.enable_arrow,this.enable_arrow&&(this.arrow=null==e?void 0:e.arrow),this.content_enable_buttons=null===(d=e.content)||void 0===d?void 0:d.enable_buttons,this.content_enable_buttons&&(this.buttons=new CoachmarkButtons(null===(p=e.content)||void 0===p?void 0:p.coachmark_buttons)),this.step=null!==(h=this.uiConfig)&&void 0!==h&&null!==(h=h.additional_info)&&void 0!==h&&h.apx_step?null===(u=this.uiConfig)||void 0===u||null===(u=u.additional_info)||void 0===u?void 0:u.apx_step:-1,this.targetElement=null,this.inline_width="auto",this.inline_height="auto",this.media_width="auto",this.media_height="auto",this.media_container_height=0,this.targetElement=null,this.inLineContainer=null,this.imageAndContentContainerLeft=null,this.imageAndContentContainerRight=null,this.textContainer=null,this.dimBackgroundElement=null,this.max_width=350,this.currentId=makeid(10),this.coachmark=null,this.svgElement=null,this.transparentCircleElement=null,this.textElement=null,this.arrowMediaContainer=null,this.imgElement=null,this.arrowElement=null,this.rippleElement=null,this.imageoffsetX=0,this.imageoffsetY=0,this.layout_type=e.layout_type,this.fontMultiplier=this.set_font_to_scale?getFontMultiplier():1,this.fontMultiplier=this.fontMultiplier>1?this.fontMultiplier:1,"web-inline"===this.layout_type)&&(this.targetElementTop=null==e||null===(m=e.dimensions)||void 0===m?void 0:m.top,this.targetElementLeft=null==e||null===(g=e.dimensions)||void 0===g?void 0:g.left,this.targetElementHeight=null==e||null===(f=e.dimensions)||void 0===f?void 0:f.height,this.targetElementWidth=null==e||null===(v=e.dimensions)||void 0===v?void 0:v.width)}return _createClass(t,[{key:"createNewCoachMark",value:function(){var t=this;try{if(this._canCreateCoachMark()){var e=function(){t._setInlineStyles(),t._setObservors(),setTimeout((function(){t._createOuterCircle(t.targetElement)}),t.delay)};this._setTheTarget((function(){"web-inline"===t.layout_type?e():t._scrollIntoTargetIfNeeded(e)}))}}catch(t){this._resetRTMAction(),console.log(t)}}},{key:"_canCreateCoachMark",value:function(){return null!==this.rtmInstance.currentAction&&void 0!==this.rtmInstance.currentAction||this.rtmInstance.isShowingAction?(console.info("An nudge is being shown. Can not show a coachmark now"),!1):(this.rtmInstance.currentAction=this,!0)}},{key:"_setTheTarget",value:function(t){var e=this;"web-inline"===this.layout_type?(this.targetElement=document.createElement("div"),setAttributes(this.targetElement,{id:"apx_targetElement_".concat(this.configId),style:"position: absolute; top: ".concat(this.targetElementTop,"px; left: ").concat(this.targetElementLeft,"px; height: ").concat(this.targetElementHeight,"px; width: ").concat(this.targetElementWidth,"px")}),document.body.appendChild(this.targetElement),t()):this._findTargetElement((function(){if(e._isElementVisible()){var n=e._targetClickCallback.bind(e);e.targetElement.addEventListener("click",n),t()}else{var i;console.info("Invalid target element. Width and height are 0 for element: ".concat(null===(i=e.target)||void 0===i?void 0:i.id,". Can't show coachmark")),e._resetRTMAction()}}))}},{key:"_isElementVisible",value:function(){try{var t=this.targetElement.getBoundingClientRect();if(0===t.width||0===t.height)return!1}catch(t){return!1}return!0}},{key:"_findTargetElement",value:function(t){var e,n,i,o;(this.targetElement=getElementFromSelector(null===(e=this.target)||void 0===e?void 0:e.id,null===(n=this.target)||void 0===n?void 0:n.frame_id),this.targetElement)?t():null!==(i=this.target)&&void 0!==i&&i.enable_retry?(console.info("Not found yet. Rechecking the DOM."),this._retryFindingTargetElement(t)):(console.info("Element with selector:".concat(null===(o=this.target)||void 0===o?void 0:o.id," not found.")),this._resetRTMAction())}},{key:"_retryFindingTargetElement",value:function(t){var e,n=this,i=setInterval((function(){var e,o,a,r,s;(n.targetElement=getElementFromSelector(null===(e=n.target)||void 0===e?void 0:e.id,null===(o=n.target)||void 0===o?void 0:o.frame_id),n.targetElement)?(clearInterval(i),t(n.targetElement)):(n.target.retry.max_retries=(null===(a=n.target)||void 0===a?void 0:a.retry.max_retries)-1,(null===(r=n.target)||void 0===r?void 0:r.retry.max_retries)<=0&&(clearInterval(i),console.warn("Element with selector:".concat(null===(s=n.target)||void 0===s?void 0:s.id," not found.")),n._resetRTMAction()))}),null===(e=this.target)||void 0===e?void 0:e.retry.interval)}},{key:"_targetClickCallback",value:function(){var t,e,n;this.enable_dismiss_actions&&this.dismiss_actions.target_touch&&(this.rtmInstance.logActionEvent("InlineTargetViewClicked",this.configId,this.name),this._destroyCoachMark(),null!==(t=this.uiConfig)&&void 0!==t&&null!==(t=t.additional_info)&&void 0!==t&&t.apx_step&&(null===(e=window)||void 0===e||null===(e=e.Apxor)||void 0===e||e.triggerNextStep(this.configId,(null===(n=this.uiConfig)||void 0===n||null===(n=n.additional_info)||void 0===n?void 0:n.apx_step)+1)))}},{key:"_scrollIntoTargetIfNeeded",value:function(t){var e=this,n=!1,i=!1;if(isElementInViewport(this.targetElement))n=!0;else if(this.scrollToView){var o={behavior:SCROLL_BEHAVIOUR.SMOOTH,block:CENTER,inline:CENTER};this.targetElement.scrollIntoView(o),n=!0,window.setTimeout((function(){isElementCovered(e.targetElement)&&window.setTimeout((function(){isElementCovered(e.targetElement)?(console.info("The tooltip is not visible because another element is overlapping the target element."),e._resetRTMAction()):t()}),1e3)}),1e3),i=!0}else console.info("If needed change the config to scroll to the target element.");n&&!i&&(isElementCovered(this.targetElement)?(console.info("The tooltip is not visible because another element is overlapping the target element."),this._resetRTMAction()):t())}},{key:"_resetRTMAction",value:function(){this.rtmInstance.currentAction=null,this.rtmInstance.isShowingAction=!1,console.info("RTM coachmark action stopped.")}},{key:"_destroyCoachMark",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var e,n,i,o,a,r;null===(e=this.targetDeletionObserver)||void 0===e||e.disconnect(),this.targetDeletionObserver=null,null===(n=this.viewPortObservor)||void 0===n||n.disconnect(),this.viewPortObservor=null,null===(i=this.coachmark)||void 0===i||i.destroy(),this.svgElement.parentNode.removeChild(this.svgElement),this.textElement.parentNode.removeChild(this.textElement),this.rippleElement.parentNode.removeChild(this.rippleElement),null===(o=this.imgElement)||void 0===o||o.remove(),null===(a=this.arrowElement)||void 0===a||a.remove(),null===(r=this.dimBackgroundElement)||void 0===r||r.remove(),this._removeStyles(),this.targetElement.removeAttribute("apx-inline-dimbackground"),clearTimeout(this.terminationTimeoutId),this.targetElement.removeEventListener("click",this._targetClickCallback)}catch(t){console.info("Destroying the coachmark:"+t)}this.closeCallback(t)}},{key:"_removeStyles",value:function(){try{var t=document.querySelector("style[apx-coachmark-styles]");t&&t.remove()}catch(t){console.error("Could not remove the coachmark styles:"+t)}}},{key:"_highlightInlineTarget",value:function(){if(this.coachmarkShown=!0,this.enable_dimbackground&&(("circle"===this.highlighter.shape||"rectangle"===this.highlighter.shape)&&(this.dimBackgroundElement=createMask(this.rippleElement,{})),document.body.appendChild(this.dimBackgroundElement),this.enable_dismiss_actions&&this.dismiss_actions.target_touch)){var t=this.dimBackgroundElement.querySelector("#tippyModalMaskOpening"),e=this._targetClickCallback.bind(this);t.addEventListener("click",e)}}},{key:"_createInnerCircle",value:function(t,e,n,i,o,a,r,s,l,c,d,p,h,u,m,g){var f,v,_=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),b=_+c,y=_,x=n-(_-t)/2,w=i-(_-e)/2;if("circle"!=(o=this.highlighter.shape)&&(f=_=t+h+u,v=y=e+d+p,x=n-h,w=i-d),this.rippleElement=document.createElement("div"),this.rippleElement.setAttribute("id",this.configId+"-ripple-div"),this.enable_ripple&&("outward"===this.ripple.ripple_type?this.rippleElement.innerHTML="circle"===o?this._addRippleStylesOutward(o,b,b,m,g,this.ripple.color,this.ripple.opacity):this._addRippleStylesOutward(o,f,v,m,g,this.ripple.color,this.ripple.opacity):"inward"===this.ripple.ripple_type&&(this.rippleElement.innerHTML="circle"===o?this._addRippleStylesInward(o,b,b,m,g,this.ripple.color,this.ripple.opacity):this._addRippleStylesInward(o,f,v,m,g,this.ripple.color,this.ripple.opacity))),this.rippleElement.style.position="absolute","circle"===o){var C=c/2;x=x-C-r,w=w-C-r,this.rippleElement.style.width="".concat(b,"px"),this.rippleElement.style.height="".concat(b,"px"),this.rippleElement.style.left="".concat(x,"px"),this.rippleElement.style.top="".concat(w,"px")}else{x-=r,w-=r;var E=_+2*r,k=y+2*r;this.rippleElement.style.width="".concat(E,"px"),this.rippleElement.style.height="".concat(k,"px"),this.rippleElement.style.left="".concat(x,"px"),this.rippleElement.style.top="".concat(w,"px")}return this.rippleElement.classList.add("ripple-animator"),this.rippleElement.style.borderRadius="".concat("circle"===this.highlighter.shape?"50%":"".concat(l,"px")),this.rippleElement.style.visibility="visible",this.rippleElement.style.zIndex=99999,this.rippleElement.style.color="".concat(this.ripple.color),this.highlighter.enable_border&&(this.rippleElement.style.borderColor="".concat(a),this.rippleElement.style.borderWidth="".concat(r,"px"),this.rippleElement.style.borderStyle="".concat(s)),document.body.appendChild(this.rippleElement),this.rippleElement}},{key:"_getDocumentOffsetPosition",value:function(t){var e=t.getBoundingClientRect(),n=e.left+window.scrollX,i=e.top+window.scrollY;return{left:n,top:i,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY,x:isDefined(e.x)?e.x+window.scrollX:n,y:isDefined(e.y)?e.y+window.scrollY:i,width:e.width,height:e.height}}},{key:"_addRippleStylesInward",value:function(t,e,n,i,o,a,r){var s=i/2;return o/=1e3,"\n<style>\n.ripple-animator {\n  border: none;\n  outline: none;\n  width: 150px;\n  height: 150px;\n  display: block;\n  color: ".concat(a,";\n  opacity:").concat(r,";\n  display: grid;\n  place-items: center;\n  font-size: 18px;\n  cursor: pointer;\n  overflow:hidden;\n\n  animation-name: rippleinward;\n  animation-duration: ").concat(o,"s;\n  animation-iteration-count: infinite;\n}\n\n@keyframes rippleinward {\n  0% {\n    \n    box-shadow: 0 0 0 ").concat(s,"px #fff0;\n}\n\n100% {\n  box-shadow: 0 0 0 0 ").concat(a,";\n  opacity:").concat(r,";\n}\n}\n\n</style>")}},{key:"_addRippleStylesOutward",value:function(t,e,n,i,o,a,r){var s=i/2;return o/=1e3,"\n<style>\n.ripple-animator {\n    border: none;\n    outline: none;\n    width: 150px;\n    height: 150px;\n    display: block;\n    color: ".concat(a,";\n    opacity:").concat(r,";\n    display: grid;\n    place-items: center;\n    font-size: 18px;\n    cursor: pointer;\n    overflow:auto;\n\n    animation-name: ripple;\n    animation-duration: ").concat(o,"s;\n    animation-iteration-count: infinite;\n}\n\n\n@keyframes ripple {\n    0% {\n        box-shadow: 0 0 0 0 ").concat(a,";\n        opacity:").concat(r,";\n    }\n\n    100% {\n        box-shadow: 0 0 0 ").concat(s,"px #fff0;\n    }\n}\n</style>")}},{key:"_setInlineStyles",value:function(){if(!document.querySelector("style[apx-coachmark-styles]")){var t=" \n      ".concat(this._getBackgroundContainerStyles()," \n      ").concat(this._getInLineContainerStyles()," \n       ").concat(this._getInLineMediaContainerStyles(),"\n       ").concat(this._getInLineArrowContainerStyles(),"\n      ").concat(this._getInLineNonMediaContainerStyles(),"\n      ").concat(this._getTextConatinerStyles(),"\n      ").concat(this._getTitleStyles()," \n      ").concat(this._getDescriptionStyles()," \n      ").concat(this._getImageStyles()," \n      ").concat(this._getArrowStyles(),"\n    ").replaceAll("\n","").replace(/[\s]{2,999}/g,""),e=document.createElement("style");e.setAttribute("apx-coachmark-styles",""),e.innerHTML=t,document.head.appendChild(e)}}},{key:"_getBackgroundContainerStyles",value:function(){var t,e,n="";this.enable_dimbackground&&(n='\n      #tippyModalOverlayContainer {\n        -ms-filter: "progid:dximagetransform.microsoft.gradient.alpha(Opacity=50)";\n        filter: alpha(opacity=50);height: 100vh;left: 0;opacity: '.concat(null!==(t=this.dimbackground.opacity)&&void 0!==t?t:.5,";position: fixed;\n        top: 0;transition: all .3s ease-out;width: 100vw;z-index: 9999;fill: ").concat(null!==(e=this.dimbackground.color)&&void 0!==e?e:"transparent","\n      }\n      #tippyModalOverlayContainer #tippyModalMask, #tippyModalOverlayContainer #tippyModalMaskRect {\n        height: 100vh;width: 100vw\n      }\n      \n    "));return n}},{key:"_getInLineContainerStyles",value:function(){return"\n      .apx-inline-container".concat(this.cssPostFix," {\n         height:auto;\n         width:auto;\n\n        z-index:999999;\n        opacity:1;\n        transition:all .5s cubic-bezier(.96,.23,.07,.8);\n        position:absolute;\n        visibility:visible;\n      }\n\n      .apx-inline-container").concat(this.cssPostFix,".open{\n        opacity:1;\n        visibility:visible;\n      }\n    ")}},{key:"_getInLineNonMediaContainerStyles",value:function(){return"\n        .apx-inline-nonmedia-container".concat(this.cssPostFix,"{\n          width:100%;\n          max-width:").concat(this.max_width,";\n          display:flex;\n          flex-direction:column;\n          justify-content:center;\n          align-items:stretch;\n          ").concat("","\n        }\n      ")}},{key:"_getInLineMediaContainerStyles",value:function(){return"\n    .apx-inline-imagemedia-container".concat(this.cssPostFix,"{\n      position:absolute;\n      ").concat(this.enable_image||this.enable_video?"display:flex;":"","\n    }")}},{key:"_getInLineArrowContainerStyles",value:function(){return"\n    .apx-inline-arrowmedia-container".concat(this.cssPostFix,"{\n      position:absolute;\n      ").concat(this.enable_arrow?"display:flex;":"","\n    }")}},{key:"_getTextConatinerStyles",value:function(){return"\n      .apx-inline-text-container".concat(this.cssPostFix,"{\n        width:100%;\n        display:flex;\n        flex-direction:column;\n        justify-content: center;\n        overflow: hidden;\n      }\n    ")}},{key:"_getTitleStyles",value:function(){if(!this.content.enable_title)return"";var t="";this.content.title.enable_margin&&(t=" \n        margin-top:".concat(this.content.title.margin.top,"px;\n        margin-bottom:").concat(this.content.title.margin.bottom,"px;\n        margin-left:").concat(this.content.title.margin.left,"px;\n        margin-right:").concat(this.content.title.margin.right,"px;\n      "));var e="";this.content.title.enable_padding&&(e=" \n        padding-top:".concat(this.content.title.padding.top,"px;\n        padding-bottom:").concat(this.content.title.padding.bottom,"px;\n        padding-left:").concat(this.content.title.padding.left,"px;\n        padding-right:").concat(this.content.title.padding.right,"px;\n      "));var n;return n=" \n        font-family:".concat(this.content.title.font.family,";\n        font-size:").concat(this.content.title.font.size,"px;\n        font-style:").concat(this.content.title.font.style,";\n        font-weight:").concat(this.content.title.font.weight,";\n      "),"\n      .apx-inline-title-div".concat(this.cssPostFix," {\n        width:100%;\n        display:flex;\n        background-color:").concat(this.content.title.background_color,"\n        justify-content:").concat(this.content.title.alignment,";\n        text-align:").concat(this.content.title.alignment,";\n        ").concat(n,"\n        ").concat(t,"\n        ").concat(e,"\n      }\n    ")}},{key:"_getDescriptionStyles",value:function(){if(!this.content.enable_description)return"";var t="";this.content.description.enable_margin&&(t=" \n        margin-top:".concat(this.content.description.margin.top,"px;\n        margin-bottom:").concat(this.content.description.margin.bottom,"px;\n        margin-left:").concat(this.content.description.margin.left,"px;\n        margin-right:").concat(this.content.description.margin.right,"px;\n      "));var e="";this.content.description.enable_padding&&(e=" \n        padding-top:".concat(this.content.description.padding.top,"px;\n        padding-bottom:").concat(this.content.description.padding.bottom,"px;\n        padding-left:").concat(this.content.description.padding.left,"px;\n        padding-right:").concat(this.content.description.padding.right,"px;\n      "));var n;return n=" \n        font-family:".concat(this.content.description.font.family,";\n        font-size:").concat(this.content.description.font.size,"px;\n        font-style:").concat(this.content.description.font.style,";\n        font-weight:").concat(this.content.description.font.weight,";\n      "),"\n      .apx-inline-description".concat(this.cssPostFix," {\n        width:100%;\n        justify-content:").concat(this.content.description.alignment,";\n        text-align:").concat(this.content.description.alignment,";\n        ").concat(n,"\n        ").concat(t,"\n        ").concat(e,"\n      }\n    ")}},{key:"_getImageStyles",value:function(){var t="";if(this.enable_image){var e,n,i,o,a,r,s,l,c,d,p,h,u="";if(null!==(e=this.image)&&void 0!==e&&e.enable_border)u="\n          border-radius:".concat(null===(o=this.image)||void 0===o?void 0:o.border.radius,"%;\n          border:").concat(null===(a=this.image)||void 0===a?void 0:a.border.width,"px ").concat(null===(r=this.image)||void 0===r?void 0:r.border.style," ").concat(null===(s=this.image)||void 0===s?void 0:s.border.color,";\n          ");if(null!==(n=this.image)&&void 0!==n&&n.aspect_ratio)l=(null===(c=this.image)||void 0===c?void 0:c.width)*((null===(d=this.image)||void 0===d||null===(d=d.aspect_ratio)||void 0===d?void 0:d.height)/(null===(p=this.image)||void 0===p?void 0:p.aspect_ratio.width));else l=null===(h=this.image)||void 0===h?void 0:h.height;t="\n        .apx-inline-image".concat(this.cssPostFix,"{\n          height: ").concat(l,"px;\n          width: ").concat(null===(i=this.image)||void 0===i?void 0:i.width,"px;\n          ").concat(u,"\n        }\n      ")}return t}},{key:"_getArrowStyles",value:function(){var t="";if(this.enable_arrow){var e,n,i,o,a,r,s,l,c,d,p,h,u,m="";if(null!==(e=this.arrow)&&void 0!==e&&e.enable_border)m="\n          border-radius:".concat(null===(a=this.arrow)||void 0===a?void 0:a.border.radius,"%;\n          border:").concat(null===(r=this.arrow)||void 0===r?void 0:r.border.width,"px ").concat(null===(s=this.arrow)||void 0===s?void 0:s.border.style," ").concat(null===(l=this.arrow)||void 0===l?void 0:l.border.color,";\n          ");if(null!==(n=this.arrow)&&void 0!==n&&n.aspect_ratio)c=(null===(d=this.arrow)||void 0===d?void 0:d.width)*((null===(p=this.arrow)||void 0===p||null===(p=p.aspect_ratio)||void 0===p?void 0:p.height)/(null===(h=this.arrow)||void 0===h?void 0:h.aspect_ratio.width));else c=null===(u=this.arrow)||void 0===u?void 0:u.height;t="\n        .apx-inline-arrow".concat(this.cssPostFix,"{\n          height: ").concat(c,"px;\n          width: ").concat(null===(i=this.arrow)||void 0===i?void 0:i.width,"px;\n          transform:rotate(").concat(null===(o=this.arrow)||void 0===o?void 0:o.angle,"deg);\n          ").concat(m,"\n        }\n      ")}return t}},{key:"_setInLineContent",value:function(){return this._createInLineContainer(),this._createNonMediaContainer(),this._setTextContainer(),this._setTitleContent(),this._setDescriptionContent(),this._createButtonContainer(),this._setButtons(),this.enable_image&&this._createImageMediaContainer(),this.enable_arrow&&this._createArrowMediaContainer(),this.inLineContainer}},{key:"_createInLineContainer",value:function(){this.inLineContainer=document.createElement("div"),this.inLineContainer.classList.add("apx-inline-container".concat(this.cssPostFix)),this.inLineContainer.style.position="absolute",document.body.appendChild(this.inLineContainer)}},{key:"_createNonMediaContainer",value:function(){this.nonMediaContainer=document.createElement("div"),this.nonMediaContainer.classList.add("apx-inline-nonmedia-container".concat(this.cssPostFix)),this.inLineContainer.appendChild(this.nonMediaContainer)}},{key:"_setTextContainer",value:function(){this.textContainer=document.createElement("div"),this.textContainer.classList.add("apx-inline-text-container".concat(this.cssPostFix)),this.nonMediaContainer.appendChild(this.textContainer)}},{key:"_setTitleContent",value:function(){if(this.content.enable_title){var t=document.createElement("div");t.classList.add("apx-inline-title-div".concat(this.cssPostFix)),t.appendChild(createNewTextElement(this.content.title,this.currentId,"title")),this.textContainer.appendChild(t)}}},{key:"_setDescriptionContent",value:function(){this.content.enable_description&&(this.textElement=document.createElement("div"),this.textElement.classList.add("apx-inline-description".concat(this.cssPostFix)),this.textElement.appendChild(createNewTextElement(this.content.description,this.currentId,"description")),this.textContainer.appendChild(this.textElement))}},{key:"_createButtonContainer",value:function(){this.buttonContainer=document.createElement("div"),this.buttonContainer.classList.add("apx-inline-button-container".concat(this.cssPostFix)),this.nonMediaContainer.appendChild(this.buttonContainer)}},{key:"_setButtons",value:function(){var t=this;if(this.content_enable_buttons){var e=function(e){t._destroyCoachMark(e)},n={next:e,prev:e,complete:e,cancel:e,_isCancelled:!1,action:""},i={};i=this.buttons.buttonArray;for(var o=this.buttons.alignment,a=0;a<i.length;a++)"L"===o||"left"===o?(i[0].slot="1",2===i.length&&(i[1].slot="2")):"C"===o||"center"===o?(i[0].slot="2",2===i.length&&(i[1].slot="3")):"R"!==o&&"right"!==o||(i[0].slot="4",2===i.length&&(i[1].slot="5"));var r=generateButtonsBlock(this.configId,this.name,{},EVENT_PREFIX.INLINE,i,this.buttons.direction,"bottom",n,this.isWalkthrough,this.uis,this.index,this.buttons.alignment,this.fontMultiplier,this.step);this.buttonContainer.appendChild(r)}}},{key:"_createImageMediaContainer",value:function(){this.mediaContainer=document.createElement("div"),this.mediaContainer.classList.add("apx-inline-imagemedia-container".concat(this.cssPostFix)),this.mediaContainer.style.position="relative",document.body.appendChild(this.mediaContainer)}},{key:"_createArrowMediaContainer",value:function(){this.arrowMediaContainer=document.createElement("div"),this.arrowMediaContainer.classList.add("apx-inline-arrowmedia-container".concat(this.cssPostFix)),this.arrowMediaContainer.style.position="relative",document.body.appendChild(this.arrowMediaContainer)}},{key:"_setImageOptions",value:function(){if(this.enable_image){var t,e=document.createElement("img");return e.src=null===(t=this.image)||void 0===t?void 0:t.path,e.classList.add("apx-inline-image".concat(this.cssPostFix)),this.mediaContainer.appendChild(e),this.mediaContainer}}},{key:"_setArrowOptions",value:function(){if(this.enable_arrow){var t,e=document.createElement("img");return e.src=null===(t=this.arrow)||void 0===t?void 0:t.path,e.classList.add("apx-inline-arrow".concat(this.cssPostFix)),this.arrowMediaContainer.appendChild(e),this.arrowMediaContainer}}},{key:"_getSVG",value:function(t,e){return'\n  <svg\n    height="'.concat(document.scrollingElement.scrollHeight,'" \n    width="').concat(document.scrollingElement.scrollWidth,'"\n    class="apx-fade-in">\n    <defs>\n      <mask\n        id="apx-mask"\n        x="0"\n        y="0"\n        height="').concat(document.scrollingElement.scrollHeight,'" \n        width="').concat(document.scrollingElement.scrollWidth,'">\n        ').concat(t,"\n      </mask>\n    </defs>\n    ").concat(e,"\n  </svg>\n  ")}},{key:"_getCircleSVG",value:function(t){var e=t.backgroundd_color,n=t.opacityy,i=t.innerRadius,o=t.innerCenterX,a=t.innerCenterY,r=t.outerRadius,s=t.outerCircleCenterX,l=t.outerCircleCenterY,c=(t.delta_circle,t.background_delta_circle,t.outer_x),d=t.outer_y,p=t.targetElementLeft,h=t.targetElementTop,u=t.targetElementWidth,m=t.targetElementHeight,g=t.innerrect_left,f=t.innerrect_right,v=t.innerrect_x,_=t.innerrect_y;s+=c,l+=d;var b=2*r;"rectangle"===this.highlighter.shape?(u=u+g+f,m=m+v+_,p-=g,h-=v,this.maskChild='\n  <rect\n    x="0" y="0"\n    height="'.concat(document.scrollingElement.scrollHeight,'" \n    width="').concat(document.scrollingElement.scrollWidth,'" \n    fill="#fff" />\n  <rect\n    x="').concat(p,'" \n    y="').concat(h,'" \n    width="').concat(u,'" \n    height="').concat(m,'" />\n  ')):this.maskChild='\n  <rect\n    x="'.concat(s-r,'"\n    y="').concat(l-r<0?0:l-r,'"\n    height="').concat(b,'"\n    width="').concat(b,'"\n    fill="#fff" />\n  <circle\n    cx="').concat(o,'"\n    cy="').concat(a,'"\n    r="').concat(i,'" />\n  ');var y='\n  <circle\n    cx="'.concat(s,'" \n    cy="').concat(l,'" \n    r="').concat(r,'" \n    fill="').concat(e,'" \n    fill-opacity="').concat(n,'" \n    mask="url(#apx-mask)" />\n  ');return this._getSVG(this.maskChild,y)}},{key:"_getRectangleSVG",value:function(t){var e=t.backgroundd_color,n=t.opacityy,i=t.targetElementLeft,o=t.targetElementTop,a=t.targetElementWidth,r=t.targetElementHeight,s=t.innerrect_x,l=t.innerrect_y,c=t.innerrect_left,d=t.innerrect_right,p=t.outerrect_decrease_left,h=t.outerrect_decrease_right,u=t.outerrect_decrease_top,m=t.outerrect_decrease_bottom,g=t.innerCenterX,f=t.innerCenterY,v=t.innerRadius,_=t.outer_x,b=t.outer_y;a=a+c+d,r=r+s+l,i-=c,o-=s;var y=document.scrollingElement.scrollHeight+u+m,x=document.scrollingElement.scrollWidth+p+h;if("circle"===this.highlighter.shape){var w=-p+_,C=-u+b;this.maskChild='\n  <rect\n   x="'.concat(w,'" y="').concat(C,'"\n    height="').concat(y,'" \n    width="').concat(x,'" \n    fill="#fff" />\n  <circle\n    cx="').concat(g,'"\n    cy="').concat(f,'"\n    r="').concat(v,'" />\n  ')}else this.maskChild='\n  <rect\n    x="0" y="0"\n    height="'.concat(document.scrollingElement.scrollHeight,'" \n    width="').concat(document.scrollingElement.scrollWidth,'" \n    fill="#fff" />\n  <rect\n    x="').concat(i,'" \n    y="').concat(o,'" \n    width="').concat(a,'" \n    height="').concat(r,'" />\n  ');var E=-u+b,k='\n  <rect\n    x="'.concat(-p+_,'" y="').concat(E,'"\n    height="').concat(y,'" \n    width="').concat(x,'" \n    mask="url(#apx-mask)"\n    fill="').concat(e,'" \n    fill-opacity="').concat(n,'" />\n  ');return this._getSVG(this.maskChild,k)}},{key:"_createSVGDiv",value:function(t){var e=t.opacity;this.svgElement=document.createElement("div"),this.svgElement.setAttribute("id",this.currentId+"-svg"),this.svgElement.style.position="absolute",this.svgElement.style.left=0,this.svgElement.style.top=0,this.svgElement.style.zIndex=99998,this.svgElement.style.width="100%",this.svgElement.style.height="99%";var n="";return n="circle"===this.background.shape?this._getCircleSVG(t):this._getRectangleSVG(t),this.svgElement.innerHTML="\n  <style>\n    @keyframes apx-anim {\n      from {\n        opacity: 0;\n      }\n\n      to {\n        opacity: ".concat(e,";\n      }\n    }\n    .apx-fade-in {\n      animation: apx-anim 0.4s linear;\n    }\n  </style>\n  ").concat(n),document.body.appendChild(this.svgElement),this.svgElement}},{key:"_setObservors",value:function(){var t=this;this.targetDeletionObserver=new MutationObserver((function(){t.coachmarkShown&&(document.body.contains(t.targetElement)||t._destroyCoachMark())})),this.viewPortObservor=new IntersectionObserver((function(){t.coachmarkShown&&(isElementInViewport(t.targetElement)||t._destroyCoachMark())}))}},{key:"_createOuterCircle",value:function(t){var e,n=this;this.coachmarkShown=!0;var i=this._getDocumentOffsetPosition(t),o=i.left,a=void 0===o?0:o,r=i.top,s=void 0===r?0:r,l=i.width,c=void 0===l?0:l,d=i.height,p=void 0===d?0:d,h=i.left<window.innerWidth/2;if(0!==p&&0!==c){this.textElement=this._setInLineContent();var u=this.textElement.offsetWidth,m=this.textElement.offsetHeight,g=this.textElement.getBoundingClientRect();this.textElement.left=g.left+this.content.offset.x,this.textElement.top=g.top+this.content.offset.y;var f=this.ripple.width,v=this.ripple.duration;this.transparentCircleElement=this._createInnerCircle(c,p,a,s,this.highlighter.shape,this.highlighter.border.color,this.highlighter.border.width,this.highlighter.border.style,this.highlighter.border.radius,this.highlighter.delta_circle,this.highlighter.delta_rect.top,this.highlighter.delta_rect.bottom,this.highlighter.delta_rect.left,this.highlighter.delta_rect.right,f,v),this.imgElement=this._setImageOptions();var _,b,y,x,w,C,E,k,T=this.rippleElement.getBoundingClientRect();if(this.enable_image){var A,O,S,I,P,L,M,N,$;if(this.imgElement.style.position="absolute",this.imgElement.style.zIndex="999999",null!==(A=this.image)&&void 0!==A&&A.aspect_ratio)I=(null===(P=this.image)||void 0===P?void 0:P.width)*((null===(L=this.image)||void 0===L||null===(L=L.aspect_ratio)||void 0===L?void 0:L.height)/(null===(M=this.image)||void 0===M?void 0:M.aspect_ratio.width));else I=null===(N=this.image)||void 0===N?void 0:N.height;if("T"===this.image.position)O=T.top+window.scrollY-I+this.image.offset.y,S=T.left+this.image.offset.x+T.width/2-(null===($=this.image)||void 0===$?void 0:$.width)/2,this.imgElement.style.top="".concat(O,"px"),this.imgElement.style.left="".concat(S,"px");else if("B"===this.image.position){var R;O=T.bottom+window.scrollY+this.image.offset.y,S=T.left+this.image.offset.x+T.width/2-(null===(R=this.image)||void 0===R?void 0:R.width)/2,this.imgElement.style.top="".concat(O,"px"),this.imgElement.style.left="".concat(S,"px")}else"L"===this.image.position?(O=T.top+window.scrollY+this.image.offset.y+T.height/2-I/2,S=T.left-this.image.width+this.image.offset.x,this.imgElement.style.top="".concat(O,"px"),this.imgElement.style.left="".concat(S,"px")):"R"===this.image.position&&(O=T.top+window.scrollY+this.image.offset.y+T.height/2-I/2,S=T.right+this.image.offset.x,this.imgElement.style.top="".concat(O,"px"),this.imgElement.style.left="".concat(S,"px"))}if(this.arrowElement=this._setArrowOptions(),null!==(e=this.arrow)&&void 0!==e&&e.aspect_ratio)_=(null===(b=this.arrow)||void 0===b?void 0:b.width)*((null===(y=this.arrow)||void 0===y||null===(y=y.aspect_ratio)||void 0===y?void 0:y.height)/(null===(x=this.arrow)||void 0===x?void 0:x.aspect_ratio.width));else _=null===(w=this.arrow)||void 0===w?void 0:w.height;if(this.enable_arrow)if(this.arrowElement.style.position="absolute",this.arrowElement.style.zIndex="9999999","T"===this.arrow.position)C=T.top+window.scrollY-_+this.arrow.offset.y,E=T.left+this.arrow.offset.x+T.width/2-(null===(k=this.arrow)||void 0===k?void 0:k.width)/2,this.arrowElement.style.top="".concat(C,"px"),this.arrowElement.style.left="".concat(E,"px");else if("B"===this.arrow.position){var D;C=T.bottom+window.scrollY+this.arrow.offset.y,E=T.left+this.arrow.offset.x+T.width/2-(null===(D=this.arrow)||void 0===D?void 0:D.width)/2,this.arrowElement.style.top="".concat(C,"px"),this.arrowElement.style.left="".concat(E,"px")}else"L"===this.arrow.position?(C=T.top+window.scrollY+this.arrow.offset.y+T.height/2-_/2,E=T.left-this.arrow.width+this.arrow.offset.x,this.arrowElement.style.top="".concat(C,"px"),this.arrowElement.style.left="".concat(E,"px")):"R"===this.arrow.position&&(C=T.top+window.scrollY+this.arrow.offset.y+T.height/2-_/2,E=T.right+this.arrow.offset.x,this.arrowElement.style.top="".concat(C,"px"),this.arrowElement.style.left="".concat(E,"px"));var B=a+c/2,F=s+p/2,V=Math.sqrt(Math.pow(c,2)+Math.pow(p,2))/2;V+=this.highlighter.delta_circle/2;var H=Math.sqrt(Math.pow(u,2)+Math.pow(m,2)),W=V+this.highlighter.delta_circle+H+this.highlighter.border.width;W+=this.background.delta_circle;var j=this.content.offset.x,z=this.content.offset.y,U=-1,q=-1,Y=-1,G=-1,X=-1;switch(X=F,this.content.position){case"T":q=(Y=B-u/2)<0?DEFAULT_PADDING$1:Y,U="circle"===this.highlighter.shape?F-V-m-this.highlighter.border.width-this.content.margin.bottom:s-m-this.highlighter.delta_rect.top-this.highlighter.border.width-this.content.margin.bottom;break;case"L":U=(G=F-m/2)<0?DEFAULT_PADDING$1:G,q="circle"===this.highlighter.shape?B-V-u-this.highlighter.border.width-this.content.margin.right:a-u-this.highlighter.delta_rect.left-this.highlighter.border.width-this.content.margin.right;break;case"R":U=(G=F-m/2)<0?DEFAULT_PADDING$1:G,q="circle"===this.highlighter.shape?B+V+this.highlighter.border.width+this.content.margin.left:c+this.highlighter.border.width+this.content.margin.left+this.highlighter.delta_rect.right;break;case"B":q=(Y=B-u/2)<0?DEFAULT_PADDING$1:Y,U="circle"===this.highlighter.shape?F+V+this.highlighter.border.width+this.content.margin.top:s+p+this.highlighter.delta_rect.bottom+this.highlighter.border.width+this.content.margin.top}if(-1!==q&&-1!==U&&-1!==X){!h&&q+u>window.innerWidth&&(q=window.innerWidth-u-0-0-10);var K=q+j,Z=U+z;this.textElement.style.left="".concat(K,"px"),this.textElement.style.top="".concat(Z,"px");var J=B;(J=Math.min(J+this.background.offset.x,document.scrollingElement.scrollWidth))<0&&(J=0),(X=Math.min(X+this.background.offset.y,document.scrollingElement.scrollHeight))<0&&(X=0);var Q=this.background.background_color,tt=this.background.opacity,et=this.background.shape,nt=this.highlighter.delta_circle,it=this.background.delta_circle,ot=this.highlighter.delta_rect.top,at=this.highlighter.delta_rect.bottom,rt=this.highlighter.delta_rect.left,st=this.highlighter.delta_rect.right,lt=this.background.delta_rect.left,ct=this.background.delta_rect.right,dt=this.background.delta_rect.top,pt=this.background.delta_rect.bottom,ht=this.background.offset.x,ut=this.background.offset.y;this.svgElement=this._createSVGDiv({backgroundd_color:Q,opacityy:tt,innerRadius:V,innerCenterX:B,innerCenterY:F,outerRadius:W,outerCircleCenterX:J,outerCircleCenterY:X,targetElementLeft:a,targetElementTop:s,targetElementWidth:c,targetElementHeight:p,outer_shape:et,delta_circle:nt,background_delta_circle:it,innerrect_x:ot,innerrect_y:at,innerrect_left:rt,innerrect_right:st,outerrect_decrease_left:lt,outerrect_decrease_right:ct,outerrect_decrease_top:dt,outerrect_decrease_bottom:pt,outer_x:ht,outer_y:ut}),this.svgElement.style.visibility="hidden",this.transparentCircleElement.style.visibility="hidden",this.textElement.style.visibility="hidden";var mt=function(e){var i=!1,o=!1;void 0===e&&(o=!0);var a=t.getBoundingClientRect();void 0!==e&&e.clientX>=a.left&&e.clientX<=a.left+a.width&&e.clientY>=a.top&&e.clientY<=a.top+a.height&&(i=!0),(n.dismiss_outside_touch||i||o)&&(n._destroyCoachMark(),i&&t.click&&t.click())};this.terminationConfig&&!0===this.terminationConfig.autoDismiss&&setTimeout((function(){return mt()}),this.delay+this.terminationConfig.duration),this.svgElement.style.visibility="visible",this.transparentCircleElement.style.visibility="visible",this.textElement.style.visibility="visible",this.textElement.childElementCount>0&&(this.textElement.children[0].style.visibility="visible"),this.dismiss_outside_touch&&this.svgElement.addEventListener("click",mt),this.transparentCircleElement.addEventListener("click",mt),this.scrollToView&&("T"===this.content.position?window.scrollTo({top:X+this.background.offset.y-(W+this.background.delta_circle),behavior:"smooth"}):"B"===this.content.position&&window.scrollTo({top:Math.min(document.scrollingElement.scrollHeight,X+this.background.offset.y+W+this.background.delta_circle),behavior:"smooth"})),this.targetDeletionObserver.observe(document.body,{childList:!0,subtree:!0}),this.viewPortObservor.observe(t),setTimeout((function(){n._highlightInlineTarget(),n._setAutoTerminate(),n.coachmarkShown=!0}),10)}else console.warn("Failed to identify the right place for text")}else{var gt;console.warn("Can't show on an invisible element: ",null===(gt=this.target)||void 0===gt?void 0:gt.id)}}},{key:"_setAutoTerminate",value:function(){var t=this;!0===this.terminationConfig.auto_dismiss&&(this.terminationTimeoutId=setTimeout((function(){t._destroyCoachMark()}),this.terminationConfig.duration))}}]),t}(),NewModalInApp=function(){function t(e,n,i,o,a,r){var s=this;_classCallCheck(this,t),_defineProperty(this,"closeListener",(function(){clearTimeout(s.terminationTimeoutId),s.closeCallback(s.overlayElement,"dismiss","",".apx-inapp-container".concat(s.cssPostFix),s.closeListener,s.redirectionListener)})),_defineProperty(this,"redirectionListener",(function(){window.location.href!==s.launchPageUrl&&s.closeCallback(s.overlayElement,"dismiss","",".apx-inapp-container".concat(s.cssPostFix),s.closeListener,s.redirectionListener)})),this.configId=i,this.config=e,this.name=o,this.terminationConfig=n,this.terminationTimeoutId=null,this.cssPostFix="-".concat(i,"-").concat(o).replace(/\s+/g,"").replace(/[^\w-]/g,""),this.direction=new Direction(e.direction),this.position=new Position(e.position),this.enable_dismiss_actions=e.enable_dismiss_actions,this.enable_dismiss_actions&&(this.dismiss_actions=new DismissActions(e.dismiss_actions)),this.enable_dimbackground=e.enable_dimbackground,this.enable_dimbackground&&(this.dimbackground=new DimBackground(e.dimbackground)),this.showCallback=a,this.closeCallback=r,this.dimBackgroundElement=null,this.overlayElement=null,this.inAppContainer=null,this.launchPageUrl="",this.templateContent=new TemplateContent(e,this.configId,this.name,"inapp",this.closeInappCallback.bind(this))}var e,n;return _createClass(t,[{key:"createInAppModal",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this._setBackgroundOverlays(),this._setStyles(),t.next=5,this._setInAppModalContent();case 5:this._setPosition(),this._setAutoTerminate(),this._showInApp(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("creating Modal Template failed with error ".concat(t.t0));case 13:case"end":return t.stop()}}),t,this,[[0,10]])}))),function(){return n.apply(this,arguments)})},{key:"_setBackgroundOverlays",value:function(){var t=this;this.launchPageUrl=window.location.href,this.overlayElement=document.createElement("div"),this.overlayElement.classList.add("apx-inapp-overlay".concat(this.cssPostFix));var e=this.overlayElement;this.enable_dimbackground?(this.dimBackgroundElement=document.createElement("div"),this.dimBackgroundElement.classList.add("apx-inapp-dimbackground-overlay".concat(this.cssPostFix)),e=this.dimBackgroundElement,this.overlayElement.appendChild(this.dimBackgroundElement),this.enable_dismiss_actions&&this.dismiss_actions.outside_touch&&(e.onclick=function(){var n,i,o;(clearTimeout(t.terminationTimeoutId),e.onclick=null,null!==(n=t.config)&&void 0!==n&&null!==(n=n.additional_info)&&void 0!==n&&n.apx_step)&&(null===(i=window)||void 0===i||null===(i=i.Apxor)||void 0===i||i.triggerNextStep(t.configId,(null===(o=t.config)||void 0===o||null===(o=o.additional_info)||void 0===o?void 0:o.apx_step)+1));t.closeCallback(t.overlayElement,"dismiss","outside-touch",".apx-inapp-container".concat(t.cssPostFix),t.closeListener,t.redirectionListener)})):this.enable_dismiss_actions&&this.dismiss_actions.outside_touch&&document.body.addEventListener("click",this.closeListener),this.enable_dimbackground||document.body.addEventListener("click",this.redirectionListener)}},{key:"_setStyles",value:function(){var t="\n      ".concat(this._getBackgroundContainerStyles()," \n    ").replaceAll("\n","").replace(/[\s]{2,999}/g,""),e=document.createElement("style");e.setAttribute("id","apxor-style-"+this.configId),e.innerHTML=t,this.overlayElement.appendChild(e)}},{key:"_getBackgroundContainerStyles",value:function(){return"\n      .apx-inapp-overlay".concat(this.cssPostFix," {\n        width:100%;\n        height:100%;\n      }\n      .apx-inapp-dimbackground-overlay").concat(this.cssPostFix," {\n        width:100%;\n        height:100%;\n        position:fixed;\n        top:0;\n        left:0;\n        z-index:999;\n        background-color:").concat(this.enable_dimbackground?this.dimbackground.color:"transparent",";\n        overflow: auto;\n      }\n    ")}},{key:"_setInAppModalContent",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.templateContent.lcsW();case 3:this.inAppContainer=t.sent,this.inAppContainer.style.zIndex=99999,this.overlayElement.appendChild(this.inAppContainer),this.enable_dismiss_actions&&this.dismiss_actions.outside_touch&&(this.inAppContainer.onclick=function(t){t.stopPropagation()}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("failed at creating template content with error ".concat(t.t0));case 12:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(){return e.apply(this,arguments)})},{key:"_setPosition",value:function(){switch(this.inAppContainer.style.position="fixed",this.position.position){case INAPP_POSITION.TOP_LEFT:this.inAppContainer.style.top="0px",this.inAppContainer.style.left="0px";break;case INAPP_POSITION.TOP_CENTER:this.inAppContainer.style.top="0px",this.inAppContainer.style.left="50%",this.inAppContainer.style.webkitTransform="translate(-50%, 0px)",this.inAppContainer.style.MozTransform="translate(-50%, 0px);";break;case INAPP_POSITION.TOP_RIGHT:this.inAppContainer.style.top="0px",this.inAppContainer.style.right="0px";break;case INAPP_POSITION.BOTTOM_LEFT:this.inAppContainer.style.bottom="0px",this.inAppContainer.style.left="0px";break;case INAPP_POSITION.BOTTOM_CENTER:this.inAppContainer.style.bottom="0px",this.inAppContainer.style.left="50%",this.inAppContainer.style.webkitTransform="translate(-50%, 0px)",this.inAppContainer.style.MozTransform="translate(-50%, 0px);";break;case INAPP_POSITION.BOTTOM_RIGHT:this.inAppContainer.style.bottom="0px",this.inAppContainer.style.right="0px";break;case INAPP_POSITION.CENTER:this.inAppContainer.style.top="50%",this.inAppContainer.style.left="50%",this.inAppContainer.style.webkitTransform="translate(-50%, -50%)",this.inAppContainer.style.MozTransform="translate(-50%, -50%);";break;case INAPP_POSITION.LEFT:this.inAppContainer.style.top="50%",this.inAppContainer.style.left="0px",this.inAppContainer.style.webkitTransform="translate(0px, -50%)",this.inAppContainer.style.MozTransform="translate(0px, -50%)";break;case INAPP_POSITION.RIGHT:this.inAppContainer.style.top="50%",this.inAppContainer.style.right="0px",this.inAppContainer.style.webkitTransform="translate(0px, -50%)",this.inAppContainer.style.MozTransform="translate(0px, -50%)";break;default:this.inAppContainer.style.top="50%",this.inAppContainer.style.left="50%",this.inAppContainer.style.webkitTransform="translate(-50%, -50%)",this.inAppContainer.style.MozTransform="translate(-50%, -50%);"}}},{key:"_setAutoTerminate",value:function(){var t=this;!0===this.terminationConfig.auto_dismiss&&(this.terminationTimeoutId=window.setTimeout((function(){var e,n,i;null!==(e=t.config)&&void 0!==e&&null!==(e=e.additional_info)&&void 0!==e&&e.apx_step&&(null===(n=window)||void 0===n||null===(n=n.Apxor)||void 0===n||n.triggerNextStep(t.configId,(null===(i=t.config)||void 0===i||null===(i=i.additional_info)||void 0===i?void 0:i.apx_step)+1));t.closeCallback(t.overlayElement,"dismiss","auto-dismiss",".apx-inapp-container".concat(t.cssPostFix),t.closeListener,t.redirectionListener)}),this.terminationConfig.duration))}},{key:"closeInappCallback",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";clearTimeout(this.terminationTimeoutId),this.closeCallback(this.overlayElement,t,e,".apx-inapp-container".concat(this.cssPostFix),this.closeListener,this.redirectionListener)}},{key:"_showInApp",value:function(){this.inAppContainer.classList.toggle("open"),document.body.appendChild(this.overlayElement),this.showCallback()}}]),t}(),Form=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.font=new Font(e.font),this.padding=new Padding(e.padding),this.elements=e.elements}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),ModalInApp=function(){function ModalInApp(t,e,n,i,o,a,r,s){var l,c,d=this,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},h=arguments.length>9?arguments[9]:void 0;_classCallCheck(this,ModalInApp),_defineProperty(this,"closeListener",(function(){clearTimeout(d.terminationTimeoutId),d.closeCallback(d.overlayElement,"dismiss","",".apx-inapp-container".concat(d.cssPostFix),d.closeListener,d.redirectionListener)})),_defineProperty(this,"redirectionListener",(function(){window.location.href!==d.launchPageUrl&&d.closeCallback(d.overlayElement,"dismiss","",".apx-inapp-container".concat(d.cssPostFix),d.closeListener,d.redirectionListener)})),_defineProperty(this,"EoXa",(function(){if(!d.enable_marketing)return"";var t=d.marketing.message,e=t.alignment;return"left"===t.alignment?e="flex-start":"right"===t.alignment&&(e="flex-end"),"\n      .apx-inapp-marketing".concat(d.cssPostFix," {\n        align-self:").concat(e,";\n        text-align:").concat(t.alignment,";\n      }\n    ")})),_defineProperty(this,"cEeS",(function(t){var e={},n="";return t.forEach((function(t){var i,o,a,r,s,l,c,d,p,h;switch(t.type){case"fullname":document.getElementById("fname")&&(e["".concat(null!==(i=null==t||null===(o=t.name)||void 0===o?void 0:o[0])&&void 0!==i?i:"firstname")]=document.getElementById("fname").value),document.getElementById("lname")&&(e["".concat(null!==(a=null==t||null===(r=t.name)||void 0===r?void 0:r[1])&&void 0!==a?a:"lastname")]=document.getElementById("lname").value);break;case"name":document.getElementById("name")&&(e["".concat(null!==(s=null==t?void 0:t.name)&&void 0!==s?s:"name")]=document.getElementById("name").value);break;case"email":document.getElementById("email")&&(e["".concat(null!==(l=null==t?void 0:t.name)&&void 0!==l?l:"email")]=document.getElementById("email").value);break;case"phone":document.getElementById("phoneNumber")&&(e["".concat(null!==(c=null==t?void 0:t.name)&&void 0!==c?c:"phonenumber")]=document.getElementById("phoneNumber").value);break;case"date":document.getElementById("date")&&(e["".concat(null!==(d=null==t?void 0:t.name)&&void 0!==d?d:"date")]=document.getElementById("date").value);break;case"message":document.getElementById("textField")&&(e["".concat(null!==(p=null==t?void 0:t.name)&&void 0!==p?p:"feedback")]=document.getElementById("textField").value);break;case"button":n=null!==(h=null==t?void 0:t.callback)&&void 0!==h?h:""}})),{obj:e,callback:n}})),_defineProperty(this,"yzKQ",(function(){if(d.enable_marketing){var t=document.createElement("div");t.classList.add("apx-inapp-marketing".concat(d.cssPostFix));var e=createNewTextElement(d.marketing.message,d.currentId,"marketing");t.appendChild(e),d.inAppContainer.appendChild(t)}})),this.index=h,this.uis=p,this.terminationConfig=e,this.terminationTimeoutId=null,this.isWalkthrough=s,this.config=t,this.cssPostFix="-".concat(n,"-").concat(i).replace(/\s+/g,"").replace(/[^\w-]/g,""),this.delay=t.delay||0,this.background_color=t.bg_color||COLORS.WHITE,this.width=t.width||50,this.direction=new Direction(t.direction),this.position=new Position(t.position),this.theme=new Theme(t.theme),this.enable_dismiss_actions=t.enable_dismiss_actions,this.enable_dismiss_actions&&(this.dismiss_actions=new DismissActions(t.dismiss_actions)),this.enable_dimbackground=t.enable_dimbackground,this.enable_dimbackground&&(this.dimbackground=new DimBackground(t.dimbackground)),this.enable_padding=t.enable_padding,this.enable_padding&&(this.padding=new Padding(t.padding)),this.enable_margin=t.enable_margin,this.enable_margin&&(this.margin=new Margin(t.margin)),this.enable_border=t.enable_border,this.enable_border&&(this.border=new Border(t.border)),this.enable_download_files=(null==t?void 0:t.enable_download_files)||!1,this.enable_download_files&&(this.download_files=null==t?void 0:t.download_files),this.enable_close_button=t.enable_close_button,this.enable_close_button&&(this.close_button=new CloseButton(t.close_button)),this.enable_scroll=t.enable_scroll,this.enable_scroll&&(this.scroll=new Scroll(t.scroll)),this.enable_icon=t.enable_icon,this.enable_icon&&(this.icon=new Icon(t.icon)),this.enable_image=t.enable_image,this.enable_image&&(this.image=new Image$1(t.image)),this.enable_video=t.enable_video,this.enable_video&&(this.video=new Video(t.video)),this.enable_title=t.enable_title,this.enable_title&&(this.title=new Title(t.title)),this.enable_description=t.enable_description,this.enable_description&&(this.description=new Description(t.description)),this.enable_form=t.enable_form,this.enable_form&&(this.form=new Form(t.form)),this.enable_buttons=t.enable_buttons,this.enable_buttons&&(this.buttons=new Buttons(t.buttons)),this.enable_stepper=t.enable_stepper,this.enable_stepper&&(this.stepper=new Stepper(t.stepper)),this.enable_shadow=t.enable_shadow,this.enable_shadow&&(this.shadow=new Shadow(t.shadow)),this.enable_gradient=t.enable_gradient,this.enable_gradient&&(this.gradient=new Gradient(t.gradient)),this.enable_marketing=t.enable_marketing,this.enable_marketing&&(this.marketing=new Marketing(t.marketing)),this.step=null!==(l=this.config)&&void 0!==l&&null!==(l=l.additional_info)&&void 0!==l&&l.apx_step?null===(c=this.config)||void 0===c||null===(c=c.additional_info)||void 0===c?void 0:c.apx_step:-1,this.min_width="",this.max_width="",this.inapp_width="auto",this.inapp_height="auto",this.media_container_height=0,this.media_Container_width=0,this.media_width="auto",this.media_height="auto",this.configId=n,this.name=i,this.showCallback=o,this.closeCallback=a,this.stepperCallBack=r,this.currentId=makeid(10),this.dimBackgroundElement=null,this.overlayElement=null,this.inAppContainer=null,this.launchPageUrl="",this.customFontList=[]}return _createClass(ModalInApp,[{key:"createInAppModal",value:function(){this._setInAppDimensions(),this._setBackgroundOverlays(),this._setStyles(),this._setInAppModalContent(),this._setAutoTerminate(),this._showInApp()}},{key:"_setInAppDimensions",value:function(){var t=this.direction.nudge===DIRECTION.VERTICAL?this.width/100:this.height/100,e=this.direction.nudge!==DIRECTION.VERTICAL;this.enable_image?this._setDimenstionFromResolution(this.image.width,this.image.height,t,e):this.enable_video?this.video.enable_embed?this.direction.nudge===DIRECTION.VERTICAL?(this.inapp_width="".concat(this.video.width+(this.enable_border?2*this.border.width:0)+(this.enable_padding?this.padding.left+this.padding.right:0),"px"),this.media_width="".concat(this.video.width,"px")):(this.inapp_height="".concat(this.video.height+(this.enable_border?2*this.border.width:0)+(this.enable_padding?this.padding.left+this.padding.right:0),"px"),this.media_container_height=this.video.height,this.media_height="".concat(this.video.height,"px"),this.min_width="".concat(this.width,"%")):this._setDimenstionFromResolution(this.video.width,this.video.height,t,e):this.enable_icon?this.direction.nudge===DIRECTION.VERTICAL?this.inapp_width="".concat(this.width,"%"):this.min_width="".concat(this.width,"%"):this.direction.nudge===DIRECTION.VERTICAL?this.inapp_width="".concat(this.width,"%"):this.max_width="".concat(this.width,"%")}},{key:"_setDimenstionFromResolution",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(i){var o=this.width*window.innerWidth/100,a=e/t;this.enable_image||this.enable_video?(this.media_Container_width=.65*o,this.media_container_height=this.media_Container_width*a,this.media_width="".concat(this.media_Container_width,"px"),this.media_height="".concat(this.media_container_height,"px")):this.enable_icon&&(this.media_Container_width=.35*o,this.media_container_height=this.media_Container_width*a,this.media_width="".concat(this.media_Container_width,"px"),this.media_height="".concat(this.media_container_height,"px"))}else{var r=getHeightWidthFromResolution({width:t,height:e},n,i);this.media_width="".concat(r.width,"px"),this.media_height="".concat(r.height,"px"),this.media_container_height=r.height,this.direction.nudge===DIRECTION.VERTICAL?this.inapp_width="".concat(r.width+(this.enable_border?2*this.border.width:0)+(this.enable_padding?this.padding.left+this.padding.right:0),"px"):(this.inapp_height="".concat(r.height+(this.enable_border?2*this.border.width:0)+(this.enable_padding?this.padding.top+this.padding.bottom:0),"px"),this.min_width="".concat(this.width,"%"))}}},{key:"_setBackgroundOverlays",value:function(){var t=this;this.launchPageUrl=window.location.href,this.overlayElement=document.createElement("div"),this.overlayElement.classList.add("apx-inapp-overlay".concat(this.cssPostFix));var e=this.overlayElement;this.enable_dimbackground?(this.dimBackgroundElement=document.createElement("div"),this.dimBackgroundElement.classList.add("apx-inapp-dimbackground-overlay".concat(this.cssPostFix)),e=this.dimBackgroundElement,this.overlayElement.appendChild(this.dimBackgroundElement),this.enable_dismiss_actions&&this.dismiss_actions.outside_touch&&(e.onclick=function(){clearTimeout(t.terminationTimeoutId),e.onclick=null,t.closeCallback(t.overlayElement,"dismiss","",".apx-inapp-container".concat(t.cssPostFix),t.closeListener,t.redirectionListener)})):this.enable_dismiss_actions&&this.dismiss_actions.outside_touch&&document.body.addEventListener("click",this.closeListener),this.enable_dimbackground||document.body.addEventListener("click",this.redirectionListener),document.body.appendChild(this.overlayElement)}},{key:"_setStyles",value:function(){var t="\n      ".concat(this._getCustomFonts()," \n      ").concat(this._getBackgroundContainerStyles()," \n      ").concat(this._getInAppContainerStyles()," \n      ").concat(this._getScrollStyles()," \n      ").concat(this._getControlsStyles()," \n      ").concat(this._getInAppMediaContainerStyles(),"\n      ").concat(this._getInAppNonMediaContainerStyles(),"\n      ").concat(this._getTextConatinerStyles(),"\n      ").concat(this._getTitleStyles()," \n      ").concat(this._getDescriptionStyles()," \n      ").concat(this._getFormStyles(),"\n      ").concat(this._getInAppButtonContainerStyles(),"\n      ").concat(this._getIconStyles()," \n      ").concat(this._getImageStyles()," \n      ").concat(this._getVideoStyles()," \n      ").concat(this.EoXa()," \n      ").concat(this._getProgressBarStyles(),"\n      ").concat(this._getBootstrapiconsStyles()," \n    ").replaceAll("\n","").replace(/[\s]{2,999}/g,""),e=document.createElement("style");e.setAttribute("id","apxor-style-"+this.configId),e.innerHTML=t,this.overlayElement.appendChild(e)}},{key:"_getCustomFonts",value:function(){var t=this,e="";return this.theme.custom_fonts.length>0&&this.theme.custom_fonts.forEach((function(n){t.customFontList.push(n.name),e+="\n          @font-face {\n            font-family: ".concat(n.name,";\n            src: url(").concat(n.url,")\n          }")})),e}},{key:"_getBackgroundContainerStyles",value:function(){return"\n      .apx-inapp-overlay".concat(this.cssPostFix," {\n        width:100%;\n        height:100%;\n      }\n      .apx-inapp-dimbackground-overlay").concat(this.cssPostFix," {\n        width:100%;\n        height:100%;\n        position:fixed;\n        top:0;\n        left:0;\n        z-index:999;\n        background-color:").concat(this.enable_dimbackground?this.dimbackground.color:"transparent",";\n        ").concat(this.enable_dimbackground?"opacity: ".concat(this.dimbackground.opacity,";"):"","\n        overflow: auto;\n      }\n    ")}},{key:"_getInAppContainerStyles",value:function(){var t=this.enable_border?this.border.width:0,e=t,n=t,i=t,o=t;this.enable_padding&&(e+=this.padding.top,n+=this.padding.left,i+=this.padding.right,o+=this.padding.bottom),this.enable_margin&&(e+=this.margin.top,n+=this.margin.left,i+=this.margin.right,o+=this.margin.bottom);var a="";switch(this.position.position){case INAPP_POSITION.TOP_LEFT:a="\n          top:".concat(e,"px;\n          left:").concat(n,"px;\n        ");break;case INAPP_POSITION.TOP_CENTER:a="\n          left:50%;\n          top:".concat(e,"px;\n          -webkit-transform: translate(-50%, ").concat(.1*e,"px);\n          -moz-transform: translate(-50%, ").concat(e,"px);\n        ");break;case INAPP_POSITION.TOP_RIGHT:a="\n            top:".concat(e,"px;\n            right:").concat(i,"px;\n          ");break;case INAPP_POSITION.BOTTOM_LEFT:a="\n          bottom:".concat(o,"px;\n          left:").concat(n,"px;\n        ");break;case INAPP_POSITION.BOTTOM_CENTER:a="\n          left:50%;\n          bottom:".concat(o,"px;\n          -webkit-transform: translate(-50%, ").concat(.1*o,"px);\n          -moz-transform: translate(-50%, ").concat(o,"px);\n        ");break;case INAPP_POSITION.BOTTOM_RIGHT:a="\n          bottom:".concat(o,"px;\n          right:").concat(i,"px;\n        ");break;case INAPP_POSITION.CENTER:a="\n          left:50%;\n          top:50%;\n          -webkit-transform: translate(-50%, -50%);\n          -moz-transform: translate(-50%, -50%);\n        ";break;case INAPP_POSITION.FULL_SCREEN:a="\n          top: 0px;\n          left: 0px;\n        ";break;default:a="\n          left:50%;\n          top:50%;\n          -webkit-transform: translate(-50%, -50%);\n          -moz-transform: translate(-50%, -50%);\n        "}var r="";this.min_width&&(r="min-width:".concat(this.min_width,";"));var s="";this.enable_border&&(s="\n        border-radius: ".concat(this.border.radius,"px;\n        border: ").concat(this.border.width,"px ").concat(this.border.style," ").concat(this.border.color,";\n      "));var l="";this.enable_gradient&&(l="\n        background-image:linear-gradient(".concat(this.gradient.direction,", ").concat(this.gradient.colors[0],", ").concat(this.gradient.colors[1],");\n      "));var c="";this.enable_shadow&&(c="\n        box-shadow: ".concat(this.shadow.offset_x,"px ").concat(this.shadow.offset_y,"px ").concat(this.shadow.blur_radius,"px ").concat(this.shadow.spread_radius,"px ").concat(this.shadow.color,";\n      "));var d="";this.enable_padding&&(d="\n        padding:".concat(this.padding.top,"px ").concat(this.padding.right,"px ").concat(this.padding.bottom,"px ").concat(this.padding.left,"px;\n      "));var p=this.direction.nudge!==DIRECTION.VERTICAL?"flex-direction:row;":"flex-direction:column;";p=" ".concat(p,"\n      justify-content:space-evenly;\n      align-items:center;\n      display:flex;\n    ");var h="",u="",m="margin: auto;";return this.direction.nudge===DIRECTION.HORIZONTAL&&(this.enable_image||this.enable_video||this.enable_icon?this.position.position===INAPP_POSITION.TOP_LEFT||this.position.position===INAPP_POSITION.BOTTOM_LEFT?m="margin-right: 20%; margin-block:auto":this.position.position!==INAPP_POSITION.TOP_RIGHT&&this.position.position!==INAPP_POSITION.BOTTOM_RIGHT||(m="margin-left: 20%; margin-block:auto"):h="max-width: ".concat(this.max_width)),this.enable_video&&this.video.enable_embed&&(h="max-width:100%;",u="max-height:100%;"),"\n      .apx-inapp-container".concat(this.cssPostFix," {\n        height:").concat(this.position.position===INAPP_POSITION.FULL_SCREEN?"100%":this.inapp_height,";\n        width:").concat(this.position.position===INAPP_POSITION.FULL_SCREEN?"100%":this.inapp_width,";\n        background-color:").concat(this.background_color,";\n        z-index:9999;\n        opacity:0;\n        transition:all .5s cubic-bezier(.96,.23,.07,.8);\n        position:fixed;\n        visibility:hidden;\n\n        ").concat(r,"\n        ").concat(p,"\n        ").concat(d,"\n        ").concat(s,"\n        ").concat(l,"\n        ").concat(c,"\n        ").concat(a,"\n        ").concat(h,"\n        ").concat(u,"\n        ").concat(m,"\n        ").concat(this.position.position===INAPP_POSITION.FULL_SCREEN?"box-sizing: border-box":"","\n      }\n      \n      .apx-inapp-container").concat(this.cssPostFix,".open{\n        opacity:1;\n        visibility:visible;\n      }\n    ")}},{key:"_getScrollStyles",value:function(){var t=this.enable_scroll&&this.scroll.enable_border?"\n  border-top: ".concat(this.scroll.border.width,"px ").concat(this.scroll.border.style," ").concat(this.scroll.border.color,";\n  border-bottom : ").concat(this.scroll.border.width,"px ").concat(this.scroll.border.style," ").concat(this.scroll.border.color,";\n  "):"";return this.enable_scroll?"\n      .apx-inapp-scroll".concat(this.cssPostFix," {\n        overflow:scroll; \n        overflow-x: hidden;\n        height:").concat(this.scroll.height,"px;\n        ").concat(t,"\n      }\n    "):"\n      .apx-inapp-scroll".concat(this.cssPostFix," {\n        overflow : hidden;\n      }\n    ")}},{key:"_getControlsStyles",value:function(){if(!this.enable_close_button)return"";return this.direction.non_media===DIRECTION.VERTICAL||this.direction.nudge===DIRECTION.VERTICAL?"\n        .apx-inapp-close".concat(this.cssPostFix," {\n          position: absolute;\n          z-index:99999;\n          top: ").concat(this.close_button.offset_top,"px;\n          right: ").concat(this.close_button.offset_right,"px;\n          width: ").concat(this.close_button.width,"px;\n          height:  ").concat(this.close_button.height,"px;\n          cursor: pointer;\n        }\n      "):"\n      .apx-inapp-close".concat(this.cssPostFix," {\n        display:flex;\n        flex-direction:row;\n        justify-content:center;\n        align-items:center;\n        width: ").concat(this.close_button.width,"px;\n        height:  ").concat(this.close_button.height,"px;\n        cursor: pointer;\n        z-index:99999;\n      }\n      ")}},{key:"_getInAppMediaContainerStyles",value:function(){return"\n    .apx-inapp-media-container".concat(this.cssPostFix,"{\n      ").concat(this.enable_icon?"align-self:".concat(this.icon.alignment,";"):"","\n      ").concat(this.enable_image||this.enable_video?"display:flex;":"","\n      ").concat(this.position.position===INAPP_POSITION.FULL_SCREEN&&(this.enable_image||this.enable_video)?"flex-grow:1":"","\n      }")}},{key:"_getInAppNonMediaContainerStyles",value:function(){var t="";this.direction.nudge===DIRECTION.VERTICAL?t="max-height:".concat(window.innerHeight-this.media_container_height,"px;"):(this.enable_image||this.enable_video)&&(t="max-height:".concat(this.media_container_height,"px;"));return this.direction.non_media===DIRECTION.VERTICAL?"\n        .apx-inapp-nonmedia-container".concat(this.cssPostFix,"{\n          ").concat(this.direction.nudge===DIRECTION.VERTICAL?"width:100%":"max-width:".concat(.9*window.innerWidth-this.media_Container_width,"px"),";\n          display:flex;\n          flex-direction:column;\n          justify-content:center;\n          align-items:stretch;\n          ").concat(t,"\n        }\n      "):"\n        .apx-inapp-nonmedia-container".concat(this.cssPostFix,"{\n          ").concat(this.direction.nudge===DIRECTION.VERTICAL?"width:100%":"max-width:".concat(.9*window.innerWidth-this.media_Container_width,"px"),";\n          flex-grow:2;\n          display:flex;\n          flex-direction:row;\n          justify-content:space-between;\n          align-items:center;\n          ").concat(t,"\n        }\n      ")}},{key:"_getTextConatinerStyles",value:function(){return"\n      .apx-inapp-text-container".concat(this.cssPostFix,"{\n        width:auto;\n        display:flex;\n        flex-direction:column;\n        justify-content: center;\n        overflow: hidden;\n        align-items:center;\n        cursor:text;\n      }\n    ")}},{key:"_getTitleStyles",value:function(){if(!this.enable_title)return"";var t="";if(this.title.enable_icon){var e="";this.title.icon.enable_border&&(e="border-radius:".concat(this.title.icon.border.radius,"%;\n        border:").concat(this.title.icon.border.width,"px ").concat(this.title.icon.border.style," ").concat(this.title.icon.border.color,";")),t="\n          height: ".concat(this.title.icon.height,"px;\n          width: ").concat(this.title.icon.width,"px;\n          margin-right: 10px;\n          ").concat(e,"\n     ")}var n="";this.title.enable_margin&&(n=" \n        margin-top:".concat(this.title.margin.top,"px;\n        margin-bottom:").concat(this.title.margin.bottom,"px;\n        margin-left:").concat(this.title.margin.left,"px;\n        margin-right:").concat(this.title.margin.right,"px;\n      "));var i="";return this.title.enable_padding&&(i=" \n        padding-top:".concat(this.title.padding.top,"px;\n        padding-bottom:").concat(this.title.padding.bottom,"px;\n        padding-left:").concat(this.title.padding.left,"px;\n        padding-right:").concat(this.title.padding.right,"px;\n      ")),"\n      .apx-inapp-title-div".concat(this.cssPostFix," {\n        ").concat(this.direction.nudge===DIRECTION.HORIZONTAL&&(this.enable_image||this.enable_icon||this.enable_video)?"box-sizing: border-box;":"","\n        width:100%;\n        display:flex;\n        justify-content:").concat(this.title.alignment,";\n        align-items: center;\n        text-align:").concat(this.title.alignment,";\n        pointer-events:none;\n        overflow-wrap: anywhere;\n        ").concat(n,"\n        ").concat(i,"\n      }\n      .apx-inapp-title-icon").concat(this.cssPostFix," {\n        ").concat(t,"\n      }\n    ")}},{key:"_getDescriptionStyles",value:function(){if(!this.enable_description)return"";var t="";this.description.enable_margin&&(t=" \n        margin-top:".concat(this.description.margin.top,"px;\n        margin-bottom:").concat(this.description.margin.bottom,"px;\n        margin-left:").concat(this.description.margin.left,"px;\n        margin-right:").concat(this.description.margin.right,"px;\n      "));var e="";return this.description.enable_padding&&(e=" \n        padding-top:".concat(this.description.padding.top,"px;\n        padding-bottom:").concat(this.description.padding.bottom,"px;\n        padding-left:").concat(this.description.padding.left,"px;\n        padding-right:").concat(this.description.padding.right,"px;\n      ")),"\n      .apx-inapp-description".concat(this.cssPostFix," {\n        ").concat(this.direction.nudge===DIRECTION.HORIZONTAL&&(this.enable_image||this.enable_icon||this.enable_video)?"box-sizing: border-box;":"","\n        width:100%;\n        justify-content:").concat(this.description.alignment,";\n        text-align:").concat(this.description.alignment,";\n        ").concat(t,"\n        ").concat(e,"\n      }\n    ")}},{key:"_getFormStyles",value:function(){if(this.enable_form){var t="";return this.form.enable_padding&&(t="padding:".concat(this.form.padding.top,"px ").concat(this.form.padding.right,"px ").concat(this.form.padding.bottom,"px ").concat(this.form.padding.left,"px;")),"\n      .apx-inapp-form-container".concat(this.cssPostFix,"{\n        ").concat(t,"\n        font-size:").concat(this.form.font.size,"px;\n        font-family:").concat(this.form.font.family,";\n        display:flex;\n        flex-direction:column;\n      }")}}},{key:"_getInAppButtonContainerStyles",value:function(){return"\n    .apx-inapp-button-container".concat(this.cssPostFix,"{\n      display:flex;\n      flex-direction:row;\n      align-items:center;\n      justify-content:center;\n      margin:0 10px 0 10px;\n    }\n    .apx-inapp-top-button-container").concat(this.cssPostFix,"{\n      width:100%;\n      height:auto;\n    }\n    .apx-inapp-center-button-container").concat(this.cssPostFix,"{\n      width:100%;\n      height:auto;\n    }\n    .apx-inapp-bottom-button-container").concat(this.cssPostFix,"{\n      width:100%;\n      height:auto;\n    }")}},{key:"_getIconStyles",value:function(){var t="";if(this.enable_icon){var e="";this.icon.enable_border&&(e="\n            border-radius:".concat(this.icon.border.radius,"%;\n            border:").concat(this.icon.border.width,"px ").concat(this.icon.border.style," ").concat(this.icon.border.color,";\n        "));var n="";this.icon.enable_margin&&(n="\n          margin-top:".concat(this.icon.margin.top,"px;\n          margin-bottom:").concat(this.icon.margin.bottom,"px;\n          margin-left:").concat(this.icon.margin.left,"px;\n          margin-right:").concat(this.icon.margin.right,"px;\n        "));var i="";this.icon.enable_padding&&(i="\n          padding-top:".concat(this.icon.padding.top,"px;\n          padding-bottom:").concat(this.icon.padding.bottom,"px;\n          padding-left:").concat(this.icon.padding.left,"px;\n          padding-right:").concat(this.icon.padding.right,"px;\n        ")),t="\n        .apx-inapp-icon-container".concat(this.cssPostFix," {\n          text-align:").concat(this.icon.alignment,";\n        }\n        .apx-inapp-icon-content").concat(this.cssPostFix," {\n          height: ").concat(this.icon.height,"px;\n          width: ").concat(this.icon.width,"px;\n          ").concat(e,"\n          ").concat(n,"\n          ").concat(i,"\n        }\n      ")}return t}},{key:"_getImageStyles",value:function(){var t,e=this,n="";if(this.enable_image){if(this.enable_download_files){var i,o,a,r="";if(null===(i=this.download_files)||void 0===i||i.forEach((function(t){(null==t?void 0:t.url)===e.image.path&&(r=t.format)})),""!=r)t=this.image.path&&r&&(null===(o=window)||void 0===o||null===(o=o.Apxor)||void 0===o||null===(a=o.getFilePath)||void 0===a?void 0:a.call(o,this.configId,this.image.path,r))||this.image.path;else t=this.image.path}else t=this.image.path;if(this.image.enable_background_image)n="\n          .apx-inapp-image".concat(this.cssPostFix,"{\n            background-image: url('").concat(t,"');\n            background-repeat: no-repeat;\n            background-attachment: fixed; \n            background-size: 100% 100%;\n            height: ").concat(this.media_height,";\n            width: ").concat(this.media_width,";\n            box-shadow: inset ").concat(this.media_width," ").concat(this.media_height," 0px 0px ").concat(hexToRGB(this.image.background_image.mask_color,this.image.background_image.mask_opacity),",inset -").concat(this.media_width," -").concat(this.media_height," 0px 0px ").concat(hexToRGB(this.image.background_image.mask_color,this.image.background_image.mask_opacity),"\n          }\n        ");else{var s="";this.image.enable_border&&(s="\n          border-radius:".concat(this.image.border.radius,"%;\n          border:").concat(this.image.border.width,"px ").concat(this.image.border.style," ").concat(this.image.border.color,";\n          ")),n="\n        .apx-inapp-image".concat(this.cssPostFix,"{\n          height: ").concat(this.position.position===INAPP_POSITION.FULL_SCREEN?"100%":this.media_height,";\n          width: ").concat(this.position.position===INAPP_POSITION.FULL_SCREEN?"100%":this.media_width,";\n          ").concat(s,"\n          ").concat(this.position.position===INAPP_POSITION.FULL_SCREEN?"box-sizing: border-box;":"","\n        }\n      ")}}return n}},{key:"_getVideoStyles",value:function(){var t="";if(this.enable_video){var e="";this.video.enable_border&&(e="\n        border-radius:".concat(this.video.border.radius,"%;\n        border:").concat(this.video.border.width,"px ").concat(this.video.border.style," ").concat(this.video.border.color,";\n        ")),t="\n        .apx-inapp-video".concat(this.cssPostFix," {\n          width:").concat(this.media_width,";\n          height:").concat(this.media_height,";\n          ").concat(e,"\n        }\n      ")}return t}},{key:"_getProgressBarStyles",value:function(){var t="";return this.has_progress_bar&&(t="\n      .apx-inapp-progress-bar".concat(this.cssPostFix,"{\n        position: absolute;\n        width:100%;\n        height:").concat(this.progressbar.width,"px;\n        ").concat("top"===this.progressbar.position?"top:0px;":"bottom:0px;","\n        left:0px;\n        z-index:999999;\n        overflow:hidden;\n        cursor: pointer;\n        background:").concat(this.progressbar.reamining_color,";\n      }\n      .apx-inapp-bar").concat(this.cssPostFix,"{\n        width:100%;\n        height:100%;\n        background:").concat(this.progressbar.progress_color,";\n      }")),t}},{key:"_getBootstrapiconsStyles",value:function(){return'\n      .bi::before, [class^="bi-"]::before, [class*=" bi-"]::before {\n        display: inline-block;\n        font-style: normal;\n        font-weight: normal !important;\n        font-variant: normal;\n        text-transform: none;\n        line-height: 1;\n        vertical-align: -.125em;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n      }\n      .bi-x::before { \n        content: "62a"; \n      }\n      .bi-x-circle-fill::before { \n        content: "622"; \n      }\n    '}},{key:"_setInAppModalContent",value:function(){this._createInAppContainer(),this.direction.nudge===DIRECTION.VERTICAL&&(this._createTopButtonContainer(),this._setButtons(BUTTON_CONTAINER_POSITION.TOP)),this._createMediaContainer(),this.direction.nudge===DIRECTION.VERTICAL&&(this._createCenterButtonContainer(),this._setButtons(BUTTON_CONTAINER_POSITION.CENTER)),this._setImageOptions(),this._setVideoOptions(),this._setIconOptions(),this._createNonMediaContainer(),this._setTextContainer(),this._setTitleContent(),this._setDescriptionContent(),this._setFormContent(),this._createButtonContainer(),this._createBottomButtonContainer(),this._setButtons(BUTTON_CONTAINER_POSITION.BOTTOM),this._setProgressBar(),this._setCloseButton(),this.yzKQ()}},{key:"_createInAppContainer",value:function(){this.inAppContainer=document.createElement("div"),this.inAppContainer.classList.add("apx-inapp-container".concat(this.cssPostFix)),this.overlayElement.appendChild(this.inAppContainer),this.enable_dismiss_actions&&this.dismiss_actions.outside_touch&&(this.inAppContainer.onclick=function(t){t.stopPropagation()})}},{key:"_createMediaContainer",value:function(){this.mediaContainer=document.createElement("div"),this.mediaContainer.classList.add("apx-inapp-media-container".concat(this.cssPostFix)),this.inAppContainer.appendChild(this.mediaContainer)}},{key:"_setImageOptions",value:function(){var t=this;if(this.enable_image){var e;if(this.image.enable_action){var n=this.overlayElement,i=function(e,i){clearTimeout(t.terminationTimeoutId),t.closeCallback(n,i,"",".apx-inapp-container".concat(t.cssPostFix),t.closeListener,t.redirectionListener)},o={next:function(e,n){i(0,"next"),t.stepperCallBack(e,n)},prev:function(e,n){i(0,"prev"),t.stepperCallBack(e,n)},complete:i,cancel:i,_isCancelled:!1,action:""};e=setImgAction(this.image.action,o,this.configId,this.name)}if(this.image.enable_background_image)this.inAppContainer.classList.add("apx-inapp-image".concat(this.cssPostFix));else{var a=document.createElement("img");if(this.enable_download_files){var r,s,l,c="";if(null===(r=this.download_files)||void 0===r||r.forEach((function(e){(null==e?void 0:e.url)===t.image.path&&(c=e.format)})),""!=c)a.src=this.image.path&&c&&(null===(s=window)||void 0===s||null===(s=s.Apxor)||void 0===s||null===(l=s.getFilePath)||void 0===l?void 0:l.call(s,this.configId,this.image.path,c))||this.image.path;else a.src=this.image.path}else a.src=this.image.path;a.classList.add("apx-inapp-image".concat(this.cssPostFix)),this.image.enable_action&&(a.onclick=function(){return e()}),this.mediaContainer.appendChild(a)}}}},{key:"_setVideoOptions",value:function(){if(this.enable_video)if(this.video.enable_embed){var t=document.createElement("div");t.classList.add("apx-inapp-video".concat(this.cssPostFix)),t.innerHTML="".concat(this.video.embed.html),this.mediaContainer.appendChild(t)}else{var e,n=document.createElement("video");n.classList.add("apx-inapp-video".concat(this.cssPostFix)),n.controlsList="noplaybackrate nodownload nofullscreen",n.controls=!0,n.disablePictureInPicture=!0,n.autoplay=!0,"ios"===(null===(e=window.Apxor)||void 0===e?void 0:e.platform)&&(n.playsInline=!0),n.muted=!this.video.enable_audio;var i=document.createElement("source");i.setAttribute("src",this.video.path),i.setAttribute("type","video/mp4"),n.appendChild(i),this.mediaContainer.appendChild(n)}}},{key:"_setIconOptions",value:function(){var t=this;if(this.enable_icon){var e=document.createElement("div");e.classList.add("apx-inapp-icon-container".concat(this.cssPostFix));var n=document.createElement("img");if(this.enable_download_files){var i,o,a,r="";if(null===(i=this.download_files)||void 0===i||i.forEach((function(e){(null==e?void 0:e.url)===t.icon.path&&(r=e.format)})),""!=r)n.src=this.icon.path&&r&&(null===(o=window)||void 0===o||null===(o=o.Apxor)||void 0===o||null===(a=o.getFilePath)||void 0===a?void 0:a.call(o,this.configId,n.src,r))||this.icon.path;else n.src=this.icon.path}else n.src=this.icon.path;n.classList.add("apx-inapp-icon-content".concat(this.cssPostFix)),e.appendChild(n),this.mediaContainer.appendChild(e)}}},{key:"_createNonMediaContainer",value:function(){this.nonMediaContainer=document.createElement("div"),this.nonMediaContainer.classList.add("apx-inapp-nonmedia-container".concat(this.cssPostFix)),this.inAppContainer.appendChild(this.nonMediaContainer)}},{key:"_setTextContainer",value:function(){this.textContainer=document.createElement("div"),this.textContainer.classList.add("apx-inapp-text-container".concat(this.cssPostFix)),this.nonMediaContainer.appendChild(this.textContainer)}},{key:"_setTitleContent",value:function(){var t=this;if(this.enable_title){var e=document.createElement("div");if(e.classList.add("apx-inapp-title-div".concat(this.cssPostFix)),this.title.enable_icon){var n=document.createElement("img");if(this.enable_download_files){var i,o,a,r="";if(null===(i=this.download_files)||void 0===i||i.forEach((function(e){(null==e?void 0:e.url)===t.title.icon.path&&(r=e.format)})),""!=r)n.src=this.title.icon.path&&r&&(null===(o=window)||void 0===o||null===(o=o.Apxor)||void 0===o||null===(a=o.getFilePath)||void 0===a?void 0:a.call(o,this.configId,this.title.icon.path,r))||this.title.icon.path;else n.src=this.title.icon.path}else n.src=this.title.icon.path;n.classList.add("apx-inapp-title-icon".concat(this.cssPostFix)),e.appendChild(n)}e.appendChild(createNewTextElement(this.title,this.currentId,"title")),this.textContainer.appendChild(e)}}},{key:"_setDescriptionContent",value:function(){if(this.enable_description){var t=document.createElement("div");t.classList.add("apx-inapp-description".concat(this.cssPostFix)),t.appendChild(createNewTextElement(this.description,this.currentId,"description")),t.classList.add("apx-inapp-scroll".concat(this.cssPostFix)),this.textContainer.appendChild(t)}}},{key:"_setFormContent",value:function _setFormContent(){var _this8=this;if(this.enable_form){var _this$form$elements,formContainer=document.createElement("form");formContainer.classList.add("apx-inapp-form-container".concat(this.cssPostFix));var dummy="";null===(_this$form$elements=this.form.elements)||void 0===_this$form$elements||_this$form$elements.forEach((function(t){dummy+=generateFormField(t)})),formContainer.innerHTML=dummy,this.nonMediaContainer.appendChild(formContainer);var form=document.querySelector(".apx-inapp-form-container".concat(this.cssPostFix));form.addEventListener("submit",(function(e){e.preventDefault();var _this8$generateRespon=_this8.cEeS(_this8.form.elements),obj=_this8$generateRespon.obj,callback=_this8$generateRespon.callback,evalString="(obj)=>"+callback+"(obj)",evalFunction=eval(evalString);evalFunction(obj),clearTimeout(_this8.terminationTimeoutId),_this8.closeCallback(_this8.overlayElement,"dismiss","",".apx-inapp-container".concat(_this8.cssPostFix),_this8.closeListener,_this8.redirectionListener)}))}}},{key:"_createButtonContainer",value:function(){this.direction.non_media!==DIRECTION.VERTICAL&&(this.buttonContainer=document.createElement("div"),this.buttonContainer.classList.add("apx-inapp-button-container".concat(this.cssPostFix)),this.nonMediaContainer.appendChild(this.buttonContainer))}},{key:"_setProgressBar",value:function(){if(this.enable_stepper&&this.stepper.enable_progressbar){this.progressbar=this.stepper.progressbar;var t=document.createElement("div");t.classList.add("apx-inapp-progress-bar".concat(this.cssPostFix));var e=document.createElement("div");e.classList.add("apx-inapp-bar".concat(this.cssPostFix)),this.stepper.index<=this.stepper.length?e.style.transform="translateX(".concat(-(100-100/this.stepper.length*this.stepper.index),"%)"):t.style.visibility="hidden",t.appendChild(e),this.inAppContainer.appendChild(t)}}},{key:"_createTopButtonContainer",value:function(){var t;this.enable_buttons&&null!==(t=this.buttons)&&void 0!==t&&t.enable_top&&(this.topButtonContainer=document.createElement("div"),this.topButtonContainer.classList.add("apx-inapp-top-button-container".concat(this.cssPostFix)),this.inAppContainer.appendChild(this.topButtonContainer))}},{key:"_createCenterButtonContainer",value:function(){var t;this.enable_buttons&&null!==(t=this.buttons)&&void 0!==t&&t.enable_center&&(this.centerButtonContainer=document.createElement("div"),this.centerButtonContainer.classList.add("apx-inapp-center-button-container".concat(this.cssPostFix)),this.inAppContainer.appendChild(this.centerButtonContainer))}},{key:"_createBottomButtonContainer",value:function(){var t;this.enable_buttons&&null!==(t=this.buttons)&&void 0!==t&&t.enable_bottom&&(this.bottomButtonContainer=document.createElement("div"),this.bottomButtonContainer.classList.add("apx-inapp-bottom-button-container".concat(this.cssPostFix)),this.direction.non_media===DIRECTION.VERTICAL?this.nonMediaContainer.appendChild(this.bottomButtonContainer):this.buttonContainer.appendChild(this.bottomButtonContainer))}},{key:"_setButtons",value:function(t){var e=this;if(this.enable_buttons&&(t===BUTTON_CONTAINER_POSITION.TOP&&this.buttons.enable_top||t===BUTTON_CONTAINER_POSITION.CENTER&&this.buttons.enable_center||t===BUTTON_CONTAINER_POSITION.BOTTOM&&this.buttons.enable_bottom)){var n=this.overlayElement,i=function(t,i){clearTimeout(e.terminationTimeoutId),e.closeCallback(n,i,"",".apx-inapp-container".concat(e.cssPostFix),e.closeListener,e.redirectionListener)},o={next:function(t,n){i(0,"next"),e.stepperCallBack(t,n)},prev:function(t,n){i(0,"prev"),e.stepperCallBack(t,n)},complete:i,cancel:i,_isCancelled:!1,action:""},a={};a=t===BUTTON_CONTAINER_POSITION.TOP?this.buttons.top:t===BUTTON_CONTAINER_POSITION.CENTER?this.buttons.center:this.buttons.bottom;var r=generateButtonsBlock(this.configId,this.name,this.stepper,EVENT_PREFIX.INAPP,a,this.direction.buttons,t,o,this.isWalkthrough,this.uis,this.index,"center",1,this.step);t===BUTTON_CONTAINER_POSITION.TOP?this.topButtonContainer.appendChild(r):t===BUTTON_CONTAINER_POSITION.CENTER?this.centerButtonContainer.appendChild(r):this.bottomButtonContainer.appendChild(r)}}},{key:"_setCloseButton",value:function(){var t=this;if(this.enable_close_button){var e=document.createElement("span");this.close_button.type===CLOSE_BUTTON_STYLE.NORMAL?e.innerHTML=getCloseSVG(this.close_button.width,this.close_button.height,this.close_button.color):this.close_button.type===CLOSE_BUTTON_STYLE.FILL?"circle"===this.close_button.shape?e.innerHTML=getCloseWithCircleSVG(this.close_button.width,this.close_button.height,this.close_button.fill_color,this.close_button.color):e.innerHTML=getCloseWithRectangleSVG(this.close_button.width,this.close_button.height,this.close_button.fill_color,this.close_button.color):e.innerHTML='<img src="'.concat(this.close_button.path,'" width="').concat(this.close_button.width,'px" height="').concat(this.close_button.height,'px"></img>'),e.classList.add("apx-inapp-close".concat(this.cssPostFix)),e.addEventListener("click",(function(){"dismiss"===t.close_button.action?window.Apxor.logActionEvent(EVENT_PREFIX.INAPP+"InAppXIconClicked_Clicked",t.configId,t.name):"cancel"===t.close_button.action&&window.Apxor.logActionEvent("walk_through_cancelled",t.configId,t.name),clearTimeout(t.terminationTimeoutId),t.closeCallback(t.overlayElement,t.close_button.action,"",".apx-inapp-container".concat(t.cssPostFix),t.closeListener,t.redirectionListener)})),this.direction.non_media===DIRECTION.VERTICAL||this.direction.nudge===DIRECTION.VERTICAL?this.inAppContainer.appendChild(e):this.buttonContainer.appendChild(e)}}},{key:"_setAutoTerminate",value:function(){var t=this;!0===this.terminationConfig.auto_dismiss&&(this.terminationTimeoutId=window.setTimeout((function(){t.closeCallback(t.overlayElement,"dismiss","",".apx-inapp-container".concat(t.cssPostFix),t.closeListener,t.redirectionListener)}),this.terminationConfig.duration))}},{key:"_showInApp",value:function(){this.inAppContainer.classList.toggle("open"),this.showCallback()}}]),ModalInApp}(),PIPButton=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.color=getColorOrDefault(e.color,"#FFFFFF"),this.fill_color=getColorOrDefault(e.fill_color,"#FFFFFF"),this.type=getStringOrDefault(e.type,"normal"),this.path=e.path,this.offset_top=getNumberOrDefault(e.offset_top,8),this.offset_right=getNumberOrDefault(e.offset_right,8),this.height=getNumberOrDefault(e.height,24),this.width=getNumberOrDefault(e.width,24),this.action=getStringOrDefault(e.action,"dismiss")}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),PIP=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.enable_toggles=e.enable_toggles}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),Logger=console,VideoInApp=function(){function t(e,n,i,o,a,r){var s,l,c=this;_classCallCheck(this,t),_defineProperty(this,"showVideoInApp",(function(){c.createPlayer();try{if(c.mode==VIDEOS_MODES.PIP){var t=c.videoElement,e=c.hideCallback;t.onloadedmetadata=function(){var n=this;t.disablePictureInPicture=!1,t.requestPictureInPicture().then((function(){t.play()})).catch((function(t){var i;Logger.error("Can't show PIP:".concat(t)),null===(i=window.ApxorRTM)||void 0===i||i.logEvent("apx_video_inapp_failed",{campaignName:n.name,id:n.configId,failureReason:t}),e()}))},t.onabort=function(){var t;Logger.error("Can't show video: resource is not fully loaded"),null===(t=window.ApxorRTM)||void 0===t||t.logEvent("apx_video_inapp_failed",{campaignName:this.name,id:this.configId,failureReason:"Can't show video, meta data not loaded"}),this.hideCallback()},t.onstalled=function(){var t;Logger.error("Can't show video: data is unexpectedly not forthcoming"),null===(t=window.ApxorRTM)||void 0===t||t.logEvent("apx_video_inapp_failed",{campaignName:this.name,id:this.configId,failureReason:"Can't show video, data is unexpectedly not forthcoming"}),this.hideCallback()}}else c.WBUO();c.showCallback()}catch(t){var n;Logger.error("Can't show video:".concat(t)),null===(n=window.ApxorRTM)||void 0===n||n.logEvent("apx_video_inapp_failed",{campaignName:c.name,id:c.configId,failureReason:t}),c.hideCallback()}})),_defineProperty(this,"rPxd",(function(){var t=getHeightWidthFromResolution(c.video,1),e=t.width,n=t.height;c.height=n,c.width=e})),_defineProperty(this,"VmWu",(function(){var t=document.getElementById("apx-mpl-styles");t&&t.remove()})),_defineProperty(this,"ONtK",(function(){c.videoElement.addEventListener("ended",(function(){var t=document.getElementById("apx-cta-btn");t&&t.classList.remove("apx-video-hide-elmt".concat(c.cssPostFix)),document.fullscreenElement?(c.totalDurationMaximised+=Math.round(c.videoElement.duration)-Math.round(c.slotStartTime),c.durationMaximisedSlots.push("".concat(Math.round(c.slotStartTime),"-").concat(Math.round(c.videoElement.duration)))):(c.totalDurationMinimised+=Math.round(c.videoElement.duration)-Math.round(c.slotStartTime),c.durationMinimisedSlots.push("".concat(Math.round(c.slotStartTime),"-").concat(Math.round(c.videoElement.duration))))})),c.videoElement.addEventListener("play",(function(){var t;c.inAppShown||(c.minimisedCount=0,c.maximisedCount=0,c.totalDurationMinimised=0,c.totalDurationMaximised=0,c.durationMinimisedSlots=[],c.durationMaximisedSlots=[],c.volumeClickedCount=0,c.slotStartTime=0,c.slotStartTimeVolumeChange=0,null===(t=window.ApxorRTM)||void 0===t||t.logEvent("inapp_shown",{message_name:c.name,visibleScreen:location.pathname,inappType:"PIP Inapp",autoReplay:c.videoElement.loop?"On":"Off",defaultSound:c.videoElement.muted?"Mute":"Unmute",id:c.configId,videoDuration:Math.round(c.videoElement.duration),videoResolution:"".concat(c.videoElement.videoWidth,"x").concat(c.videoElement.videoHeight),videoConfiguration:"Streaming"}),c.inAppShown=!0);0!==c.videoElement.currentTime&&c.videoElement.currentTime!==c.videoElement.duration||(c.replayCount++,c.slotStartTime=0,c.slotStartTimeVolumeChange=0);var e=document.getElementById("apx-cta-btn");e&&e.classList.add("apx-video-hide-elmt".concat(c.cssPostFix))})),c.videoElement.addEventListener("fullscreenchange",(function(){var t,e;(c.slotEndTime=c.videoElement.currentTime,document.fullscreenElement)?(c.maximisedCount++,c.durationMinimised=Math.round(c.slotEndTime)-Math.round(c.slotStartTime),c.videoElement.currentTime!==c.videoElement.duration&&(c.totalDurationMinimised+=c.durationMinimised,c.durationMinimisedSlots.push("".concat(Math.round(c.slotStartTime),"-").concat(Math.round(c.slotEndTime)))),null===(t=window.ApxorRTM)||void 0===t||t.logEvent("apx_video_inapp_maximised",{message_name:c.name,durationMinimised:c.durationMinimised,durationSlotMinimised:"".concat(Math.round(c.slotStartTime),"-").concat(Math.round(c.slotEndTime)),id:c.configId,totalDurationWatched:Math.round(c.totalDurationMinimised),totalDurationWatchedSlot:c.durationMinimisedSlots,maximisedCount:c.maximisedCount})):(c.durationMaximised=Math.round(c.slotEndTime)-Math.round(c.slotStartTime),c.minimisedCount++,c.videoElement.currentTime!==c.videoElement.duration&&(c.totalDurationMaximised+=c.durationMaximised,c.durationMaximisedSlots.push("".concat(Math.round(c.slotStartTime),"-").concat(Math.round(c.slotEndTime)))),null===(e=window.ApxorRTM)||void 0===e||e.logEvent("apx_video_inapp_minimised",{message_name:c.name,durationMaximised:c.durationMaximised,durationSlotMaximised:"".concat(Math.round(c.slotStartTime),"-").concat(Math.round(c.slotEndTime)),id:c.configId,totalDurationWatched:Math.round(c.totalDurationMaximised),totalDurationWatchedSlot:c.durationMaximisedSlots,minimisedCount:c.minimisedCount}));c.slotStartTime=c.videoElement.currentTime})),c.videoElement.addEventListener("volumechange",(function(){var t;isNaN(c.slotStartTimeVolumeChange)||(c.volumeClickedCount++,null===(t=window.ApxorRTM)||void 0===t||t.logEvent("apx_video_inapp_volume_button_clicked",{message_name:c.name,id:c.configId,actionPerformed:c.videoElement.muted?"mute":"unmute",totalDurationWatchedSlot:"".concat(Math.round(c.slotStartTimeVolumeChange),"-").concat(Math.round(c.videoElement.currentTime)),totalDurationWatched:Math.round(c.videoElement.currentTime)-Math.round(c.slotStartTimeVolumeChange)}),c.slotStartTimeVolumeChange=c.videoElement.currentTime)}))})),_defineProperty(this,"zHuY",(function(){var t;if("PIP"!==c.mode||null!==(t=c.terminationConfig)&&void 0!==t&&t.auto_dismiss){if("mini"===c.mode&&c.enable_pip_button){if(c.videoElement.addEventListener("enterpictureinpicture",(function(){c.videoPlayer.classList.add("apx-video-hide-elmt".concat(c.cssPostFix))}),!1),c.pip.enable_toggles){c.videoElement.addEventListener("leavepictureinpicture",(function(){c.videoElement.disablePictureInPicture=!0,c.videoPlayer.classList.remove("apx-video-hide-elmt".concat(c.cssPostFix))}),!1)}else c.videoElement.addEventListener("leavepictureinpicture",(function(){c._onClose("web_pip_x_icon_clicked")}),!1)}}else c.videoElement.addEventListener("leavepictureinpicture",(function(){c._onClose("web_pip_x_icon_clicked")}),!1)})),_defineProperty(this,"mvBn",(function(){if(c.enable_close_button,c.enable_close_button){var t=document.createElement("span");c.close_button.type===CLOSE_BUTTON_STYLE.NORMAL?t.innerHTML=getCloseSVG(c.close_button.width,c.close_button.height,c.close_button.color):c.close_button.type===CLOSE_BUTTON_STYLE.FILL?"circle"===c.close_button.shape?t.innerHTML=getCloseWithCircleSVG(c.close_button.width,c.close_button.height,c.close_button.fill_color,c.close_button.color):t.innerHTML=getCloseWithRectangleSVG(c.close_button.width,c.close_button.height,c.close_button.fill_color,c.close_button.color):t.innerHTML='<img src="'.concat(c.close_button.path,'" width="').concat(c.close_button.width,'px" height="').concat(c.close_button.height,'px"></img>'),t.classList.add("apx-video-close-btn".concat(c.cssPostFix)),t.addEventListener("click",(function(){c._onClose()})),c.videoPlayer.appendChild(t)}if(c.enable_pip_button){var e=document.createElement("span");e.innerHTML=getPIPSVG(c.pip_button.width,c.pip_button.height,c.pip_button.color),c.pip_button.path&&(e.innerHTML='<img src="'.concat(c.pip_button.path,'" width="').concat(c.pip_button.width,'px" height="').concat(c.pip_button.height,'px"></img>')),e.classList.add("apx-video-pip-btn".concat(c.cssPostFix)),e.addEventListener("click",(function(){try{c.videoElement.disablePictureInPicture=!1,c.videoElement.requestPictureInPicture()}catch(t){console.log("Error \n ".concat(t," \n while starting the PIP"))}})),c.videoPlayer.appendChild(e)}})),_defineProperty(this,"GgUp",(function(){c.videoPlayer.classList.add("apx-video-hide-elmt".concat(c.cssPostFix))})),_defineProperty(this,"WBUO",(function(){c.videoPlayer.classList.remove("apx-video-hide-elmt".concat(c.cssPostFix))})),_defineProperty(this,"SsdY",(function(){return c.videoElement})),this.videoPlayer=null,this.videoElement=null,this.showCallback=a,this.terminationConfig=n,this.hideCallback=r,this.height=320,this.width=320,this.configId=i,this.config=e,this.name=o||"VideoPlayer",this.cssPostFix="-".concat(this.configId,"-").concat(this.name).replace(/\s+/g,"").replace(/[^\w-]/g,""),this.replayCount=0,this.inAppShown=!1,this.videoConfig=e,this.bg_color=e.bg_color,this.mode=getStringOrDefault(e.mode,"PIP"),this.position=new Position(e.position),this.enable_buttons=e.enable_buttons,this.enable_buttons&&(this.buttons=new Buttons(e.buttons)),this.direction=new Direction(e.direction),this.enable_close_button=e.enable_close_button,this.enable_close_button&&(this.close_button=new CloseButton(e.close_button)),this.enable_pip_button=e.enable_pip_button,this.enable_pip_button&&(this.pip_button=new PIPButton(e.pip_button)),this.video=new Video(e.video),this.pip=new PIP(e.pip),this.step=null!==(s=this.config)&&void 0!==s&&null!==(s=s.additional_info)&&void 0!==s&&s.apx_step?null===(l=this.config)||void 0===l||null===(l=l.additional_info)||void 0===l?void 0:l.apx_step:-1}return _createClass(t,[{key:"createPlayer",value:function(){this.videoPlayer=document.createElement("div"),this.videoPlayer.setAttribute("id","apx-video-player"),this.videoPlayer.style.backgroundColor=this.bg_color,this.rPxd(),this._setVideoPlayerStyles(),this._setVideoPlayerPosition(),this._setPlayerContent(),this.ONtK(),this.zHuY(),this.mvBn(),this._setButtons(BUTTON_CONTAINER_POSITION.CENTER),this.GgUp(),this._setAutoTerminate(),document.body.appendChild(this.videoPlayer)}},{key:"_setVideoPlayerStyles",value:function(){if(!document.getElementById("apx-mpl-styles")){var t=document.createElement("style");t.setAttribute("id","apx-mpl-styles");var e=this.enable_pip_button?"\n      width: ".concat(this.pip_button.width,"px;\n      height:  ").concat(this.pip_button.height,"px;\n      "):"",n=this.enable_close_button?"\n      top: ".concat(this.close_button.offset_top,"px;\n      right: ").concat(this.close_button.offset_right,"px;\n      "):"";t.innerHTML="\n          #apx-video-player {\n            width: ".concat(this.width,"px;\n            height: ").concat(this.height,"px;\n          }\n\n          div.apx-video-player").concat(this.cssPostFix,"--topLeft {\n            position: fixed;\n            top: 0;\n            left: 0;\n            background-color: ").concat(COLORS.BLACK,";\n            z-index:99999999;\n          }\n          \n          div.apx-video-player").concat(this.cssPostFix,"--topRight {\n            position: fixed;\n            top: 0;\n            right: 0;\n            background-color: ").concat(COLORS.BLACK,";\n            z-index:99999999;\n          }\n          \n          div.apx-video-player").concat(this.cssPostFix,"--bottomLeft {\n            position: fixed;\n            bottom: 0;\n            left: 0;\n            background-color: ").concat(COLORS.BLACK,";\n            z-index:99999999;\n          }\n          \n          div.apx-video-player").concat(this.cssPostFix,"--bottomRight {\n            position: fixed;\n            bottom: 0;\n            right: 0;\n            background-color: ").concat(COLORS.BLACK,";\n            z-index:99999999;\n          }\n\n          div.apx-video-player").concat(this.cssPostFix,"--center {\n            position: fixed;\n            left: 50%;\n            top: 50%;\n            background-color: ").concat(COLORS.BLACK,";\n            transform: translate(-50%, -50%);\n            z-index:99999999;\n          }\n          .apx-video-hide-elmt").concat(this.cssPostFix," {\n            display : none;\n          }\n\n          #apx-cta-btn.apx-video-hide-elmt").concat(this.cssPostFix," {\n            display : none;\n          }\n\n          .apx-video-pip-btn").concat(this.cssPostFix," {\n            position: absolute;\n            top: 10px;\n            left: 10px;\n            opacity: 0.3;\n            transition: opacity .3s ease;\n            cursor: pointer;\n            ").concat(e,"\n          }\n\n          video:hover~.apx-video-pip-btn").concat(this.cssPostFix," {\n            opacity: 1;\n          }\n          \n          .apx-video-close-btn").concat(this.cssPostFix," {\n            position: absolute;\n            opacity: 0.3;\n            transition: opacity .3s ease;\n            cursor: pointer;\n            ").concat(n,"\n          }\n\n          video:hover~.apx-video-close-btn").concat(this.cssPostFix," {\n            opacity: 1;\n          }\n\n          .apx-video-cta").concat(this.cssPostFix,' {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            -webkit-transform: translate(-50%, -50%);\n            -moz-transform: translate(-50%, -50%);\n            width: auto;\n            height: auto;\n            transition: opacity .3s ease;\n            cursor: pointer;\n          }\n          \n          .bi::before,\n          [class^="bi-"]::before,\n          [class*=" bi-"]::before {\n            display: inline-block;\n            font-style: normal;\n            font-weight: normal !important;\n            font-variant: normal;\n            text-transform: none;\n            line-height: 1;\n            vertical-align: -.125em;\n            -webkit-font-smoothing: antialiased;\n            -moz-osx-font-smoothing: grayscale;\n          }\n          \n          .bi-pip::before { \n            content: "\f4ef"; \n          }\n\n          .bi-x-circle::before { \n            content: "\f623"; \n          }\n\n      '),document.head.appendChild(t)}}},{key:"_setVideoPlayerPosition",value:function(){switch(this.position.position){case INAPP_POSITION.TOP_LEFT:this.videoPlayer.classList.add("apx-video-player".concat(this.cssPostFix,"--topLeft"));break;case INAPP_POSITION.TOP_RIGHT:this.videoPlayer.classList.add("apx-video-player".concat(this.cssPostFix,"--topRight"));break;case INAPP_POSITION.BOTTOM_LEFT:this.videoPlayer.classList.add("apx-video-player".concat(this.cssPostFix,"--bottomLeft"));break;case INAPP_POSITION.BOTTOM_RIGHT:this.videoPlayer.classList.add("apx-video-player".concat(this.cssPostFix,"--bottomRight"));break;case INAPP_POSITION.CENTER:this.videoPlayer.classList.add("apx-video-player".concat(this.cssPostFix,"--center"));break;default:this.videoPlayer.classList.add("apx-video-player".concat(this.cssPostFix,"--bottomRight"))}}},{key:"_setPlayerContent",value:function(){var t;this.videoElement=document.createElement("video"),this.videoElement.width=this.width,this.videoElement.height=this.height,this.videoElement.style.objectFit="fill",this.videoElement.controlsList="nodownload",this.videoElement.controls=!0,"ios"===(null===(t=window.Apxor)||void 0===t?void 0:t.platform)&&(this.videoElement.playsInline=!0),this.videoElement.disablePictureInPicture=!0,this.videoElement.autoplay=!0,this.video.enable_audio||(this.videoElement.muted=!0);var e=document.createElement("source");e.setAttribute("src",this.video.path),e.setAttribute("type",this.video.format),this.videoElement.appendChild(e),this.videoPlayer.appendChild(this.videoElement)}},{key:"_onClose",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"web_minimise_x_clicked";try{var e,n;if(this.inAppShown&&(document.fullscreenElement?(this.totalDurationMaximised+=Math.round(this.videoElement.currentTime)-Math.round(this.slotStartTime),this.durationMaximisedSlots.push("".concat(Math.round(this.videoElement.currentTime),"-").concat(Math.round(this.slotStartTime)))):(this.totalDurationMinimised+=Math.round(this.videoElement.currentTime)-Math.round(this.slotStartTime),this.durationMinimisedSlots.push("".concat(Math.round(this.videoElement.currentTime),"-").concat(Math.round(this.slotStartTime))))),this.videoPlayer.remove(),this.VmWu(),"auto_dismiss"!==t)null===(n=window.ApxorRTM)||void 0===n||n.logEvent("apx_video_inapp_close_button_clicked",{message_name:this.name,id:this.configId,totalDurationWatchedSlot:"0-".concat(Math.round(this.videoElement.currentTime)),totalDurationWatched:Math.round(this.videoElement.currentTime),closeButtonName:t});null===(e=window.ApxorRTM)||void 0===e||e.logEvent("apx_inapp_dismissed",{campaignName:this.name,id:this.configId,totalDurationWatched:Math.round(this.videoElement.currentTime),totalDurationWatchedSlot:"0-".concat(Math.round(this.videoElement.currentTime)),totalReplayCount:this.replayCount,totalMinimiseCount:this.minimisedCount,totalMaximiseCount:this.maximisedCount,totalDurationMinimised:Math.round(this.totalDurationMinimised),totalDurationMaximised:Math.round(this.totalDurationMaximised),dismissType:t,volumeClickedCount:this.volumeClickedCount,inappType:"PIP Inapp",apx_completed:this.videoElement.currentTime===this.videoElement.duration,apx_completion_percentage:this.videoElement.currentTime/this.videoElement.duration}),this.hideCallback("cancel")}catch(t){console.log("Error \n ".concat(t," \n occured while closing the video"))}}},{key:"_setButtons",value:function(t){var e=this;if(this.enable_buttons&&(this.buttons.enable_top||this.buttons.enable_center||this.buttons.enable_bottom)){var n=function(t,n,i){try{var o,a;e.buttons.enable_top&&e.buttons.top.length>0&&(a=e.buttons.top),e.buttons.enable_center&&e.buttons.center.length&&(a=e.buttons.center),e.buttons.enable_bottom&&e.buttons.bottom.length&&(a=e.buttons.bottom),null===(o=window.ApxorRTM)||void 0===o||o.logEvent("apx_video_inapp_button_clicked",{buttonName:a.at(i).text.text,redirection:a.at(i).action.type,totalDurationWatched:Math.round(e.videoElement.currentTime),message_name:e.name,id:e.configId,totalDurationWatchedSlot:"0-".concat(Math.round(e.videoElement.currentTime)),replayCount:e.replayCount}),e.videoPlayer.remove(),e.VmWu(),e.hideCallback()}catch(t){console.log("Can't close the video player\n".concat(t))}},i={next:n,prev:n,complete:n,cancel:n,_isCancelled:!1,action:""},o={};o=this.buttons.top.length>0?this.buttons.top:this.buttons.center.length>0?this.buttons.center:this.buttons.bottom;var a=generateButtonsBlock(this.configId,this.name,this.stepper,EVENT_PREFIX.INAPP,o,this.direction.buttons,t,i,this.isWalkthrough,this.uis,this.index,"center",1,this.step);a.setAttribute("id","apx-cta-btn"),a.classList.add("apx-video-cta".concat(this.cssPostFix)),a.classList.add("apx-video-hide-elmt".concat(this.cssPostFix)),this.videoPlayer.appendChild(a)}}},{key:"_setAutoTerminate",value:function(){var t,e=this;!0===(null===(t=this.terminationConfig)||void 0===t?void 0:t.auto_dismiss)&&window.setTimeout((function(){document.pictureInPictureEnabled&&document.pictureInPictureElement&&(e.videoElement.pause(),document.exitPictureInPicture()),e._onClose("auto_dismiss")}),this.terminationConfig.duration)}}],[{key:"isAVideoBeingPlayed",value:function(){return!!document.getElementById("apx-video-player")}},{key:"canShowVideoInApp",value:function(t){var e=t.binding,n=t.activity,i=!0;return e&&""!=n&&window.location.pathname!==n&&(i=!1),i}}]),t}(),EmbedCards=_createClass((function EmbedCards(_config,configId,name,showCallback,closeCallback){var _this=this,_config$wait_interval,_config$termination;_classCallCheck(this,EmbedCards),_defineProperty(this,"showEmbedCards",(function(){try{var _window;null===(_window=window)||void 0===_window||null===(_window=_window.ApxorLogger)||void 0===_window||_window.debug("called showEmbedCards");var element=_this.rfdT(_this.layout);_this.tDnz(),window.onresize=function(){_this.WdwG()},_this.imageElements.forEach((function(t){t.addEventListener("error",(function(){_this.Osqo("provided image doesn't exists")}))}));var rootContainer=document.createElement("div");rootContainer.style.display="flex",rootContainer.style.justifyContent="center",rootContainer.appendChild(element),document.body.appendChild(rootContainer);var styleElement=document.createElement("style");styleElement.innerHTML=_this.styleContent,document.head.appendChild(styleElement),_this.aUig(_this.termination);try{eval(_this.script)}catch(t){var _window2;console.log("found error while executing script: ".concat(t)),null===(_window2=window)||void 0===_window2||null===(_window2=_window2.ApxorLogger)||void 0===_window2||_window2.error("found error while executing script: ".concat(null==t?void 0:t.name," ").concat(null==t?void 0:t.message))}_this.intervalToCheckMediaLoadingStatus=setInterval((function(){_this.wait_interval-=1,_this.wait_interval<=0?_this.Osqo("provided media doesn't exists"):_this.hstK()&&_this.mAWN()&&_this.RMQV()&&(_this.WdwG(),clearInterval(_this.intervalToCheckMediaLoadingStatus))}),100)}catch(t){var _window3;console.log("failed while creating embed card with error ".concat(t)),null===(_window3=window)||void 0===_window3||null===(_window3=_window3.ApxorLogger)||void 0===_window3||_window3.error("failed while creating embed card with error: ".concat(null==t?void 0:t.name," ").concat(null==t?void 0:t.message))}})),_defineProperty(this,"Osqo",(function(t){var e,n;!_this.loggedNudgeNotShownEvent&&(null===(e=window.ApxorRTM)||void 0===e||e.logEvent("apx_nudge_not_shown",{apx_nudge_name:_this.name,apx_nudge_id:_this.configId,apx_template_time:"embed-card",apx_notshown_type:"error",apx_reason:t})),_this.loggedNudgeNotShownEvent=!0,window.onresize=null,clearInterval(_this.intervalToCheckMediaLoadingStatus),null===(n=window)||void 0===n||null===(n=n.ApxorWidget)||void 0===n||n.removeEmbedCard(_this.configId)})),_defineProperty(this,"tDnz",(function(){var t=document.createElement("style");t.innerHTML=_this.initialStyles,t.setAttribute("apx-embedded-card-styles",""),document.head.appendChild(t)})),_defineProperty(this,"rfdT",(function(t){var e,n;switch(t.type){case"cell":case"img":case"text":case"cta_button":case"button":n=document.createElement(EMBED_CARD_TYPE[t.type]);break;case"video":(n=document.createElement("video")).controlsList="noplaybackrate nodownload nofullscreen",n.controls=!1,n.muted=!0,n.disablePictureInPicture=!0,n.autoplay=!0,"ios"===(null===(e=window.Apxor)||void 0===e?void 0:e.platform)&&(n.playsInline=!0);break;case"cross_button":(n=document.createElement("div")).innerHTML=CROSS_ICON_SVG;break;default:n=document.createElement(t.type)}if(t.properties)for(var i in t.properties)if(!("img"===t.type&&"src"===i||"img"===t.type&&"format"===i))if("video"!==t.type||"source"!==i){var o,a,r,s;if("card_name"===i)null===(o=n)||void 0===o||null===(a=(r=o).setAttribute)||void 0===a||a.call(r,i,null!==(s=t.properties[i])&&void 0!==s?s:"");n[i]=t.properties[i]}else{var l=document.createElement("source");for(var c in null===(d=t.properties)||void 0===d?void 0:d[i]){var d,p;l[c]=null===(p=t.properties)||void 0===p||null===(p=p[i])||void 0===p?void 0:p[c]}l.type="video/mp4",n.appendChild(l)}if(n.classList.add(t._id),t.css){var h="";if("img"===t.type){var u=removeKeys(parseCSS(t.css),Object.keys(imgWrapperStyles));h=".".concat(t._id," {\n        ").concat(objectToCSS(u),"\n      }\n      ")}else if(t._id===_this.layout._id){var m=parseCSS(t.css);if(m["background-image"]){var g=extractBgImageUrl(m);m["background-image"]="url(".concat(decodeURIComponent(g),")"),_this.bgImageUrl=decodeURIComponent(g)}h=".".concat(t._id," {\n        ").concat(objectToCSS(m),"\n      }\n      ")}else{var f,v;h="".concat(null!==(f=null==t||null===(v=t.properties)||void 0===v||null===(v=v.custom_font)||void 0===v?void 0:v.font_face)&&void 0!==f?f:"",".").concat(t._id," {\n          ").concat(t.css,"\n        }\n        ")}_this.initialStyles+=h}if(t.enable_actions&&t.actions.length>0&&t.actions.forEach((function(t){switch(t.type){case"deeplink":case"activity":case"ir":n.onclick=function(e){e.stopPropagation(),window.Apxor.redirect(JSON.stringify(t)),_this.YtYs(e)};break;case"show-video":n.onclick=function(e){e.stopPropagation(),window.Apxor.showVideoInApp(_this.configId,_this.name,t.url),_this.YtYs(e)};break;case"cancel":n.onclick=function(t){t.stopPropagation(),_this.YtYs(t),window.Apxor.logActionEvent("walk_through_cancelled",_this.configId,_this.name)};break;case"dismiss":n.onclick=function(t){t.stopPropagation(),_this.YtYs(t)};break;case"never":n.onclick=function(t){t.stopPropagation(),window.Apxor.neverShow(_this.configId,_this.name,"IN_APP"),window.Apxor.logActionEvent("never_show_clicked",_this.configId,_this.name),_this.YtYs(t)};break;case"toggle-class":n.onclick=function(e){e.stopPropagation();var n=document.getElementById(null==t?void 0:t.target_id);isNull(n)&&(n=document.querySelector(null==t?void 0:t.target_id)),n&&n.classList.add(null==t?void 0:t.class_name)};break;case"copy-content":n.onclick=function(e){e.stopPropagation();var n=null==t?void 0:t.content,i=document.createElement("input");i.value=n,document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i),_this.YtYs(e)};break;case"log-app-event":n.onclick=function(e){e.stopPropagation(),window.Apxor.logAppEvent(null==t?void 0:t.event_name)};break;case"log-client-event":n.onclick=function(e){e.stopPropagation(),window.Apxor.logClientEvent(null==t?void 0:t.event_name)}}})),t.absolute_position_children&&t.absolute_position_children.length>0&&t.absolute_position_children.forEach((function(t){var e=_this.QMbf(t);n.appendChild(e)})),t.children&&t.children.length>0&&t.children.forEach((function(t){var e=_this.rfdT(t);n.appendChild(e)})),"img"===t.type){var _,b,y,x,w=null==t||null===(_=t.properties)||void 0===_?void 0:_.src,C=null==t||null===(b=t.properties)||void 0===b?void 0:b.format;n.src=w&&C&&(null===(y=window)||void 0===y||null===(y=y.Apxor)||void 0===y||null===(x=y.getFilePath)||void 0===x?void 0:x.call(y,_this.configId,w,C))||w,_this.imageElements.push(n);var E=document.createElement("div"),k=parseCSS(t.css);return Object.keys(imgWrapperStyles).forEach((function(t){t in k&&(E.style[imgWrapperStyles[t]]=k[t])})),n.style.maxWidth="100%",n.style.height="auto",E.appendChild(n),E}return"video"===t.type&&_this.videoElements.push(n),n})),_defineProperty(this,"YtYs",(function(t){var e,n,i,o,a,r,s,l={apx_nudge_name:_this.name,apx_nudge_id:_this.configId,apx_card_name:null!==(e=null==t||null===(n=t.target)||void 0===n||null===(i=n.getAttribute)||void 0===i?void 0:i.call(n,"card_name"))&&void 0!==e?e:"",apx_template_name:"embed-card"};"BUTTON"===t.target.tagName?(l.apx_cta_text=null!==(o=null==t||null===(a=t.target)||void 0===a?void 0:a.innerHTML)&&void 0!==o?o:"",null===(r=window.ApxorRTM)||void 0===r||r.logEvent("apx_card_CTA_clicked",l)):null===(s=window.ApxorRTM)||void 0===s||s.logEvent("apx_card_interaction",l)})),_defineProperty(this,"aUig",(function(t){t.forEach((function(t){var e=document.getElementById(t);e&&(e.style.display="none")}))})),_defineProperty(this,"mAWN",(function(){return 0===_this.imageElements.length||_this.imageElements.every((function(t){return t.complete}))})),_defineProperty(this,"hstK",(function(){return 0===_this.videoElements.length||_this.videoElements.every((function(t){return t.readyState>=3}))})),_defineProperty(this,"RMQV",(function(){if(!_this.bgImageUrl)return!0;var t=new Image;return t.src=_this.bgImageUrl,t.complete})),_defineProperty(this,"WdwG",(function(){var t,e,n=window.document.querySelector("html").offsetWidth,i=window.document.querySelector("html").offsetHeight;null===(t=window)||void 0===t||null===(t=t.ApxorWidget)||void 0===t||t.setDimensions(n,i),null===(e=window)||void 0===e||null===(e=e.ApxorLogger)||void 0===e||e.debug("called setWebViewDimensions with width: ".concat(n," and height: ").concat(i)),n>0&&i>0&&!_this.loggedNudgeShownEvent&&(_this.showCallback(),_this.loggedNudgeShownEvent=!0)})),this.configId=configId,this.name=name,this.showCallback=showCallback,this.closeCallback=closeCallback,this.layout=_config.layout,this.styleContent=_config.css,this.wait_interval=null!==(_config$wait_interval=null==_config?void 0:_config.wait_interval)&&void 0!==_config$wait_interval?_config$wait_interval:50,this.termination=null!==(_config$termination=_config.termination)&&void 0!==_config$termination?_config$termination:[],this.script=_config.script,this.initialStyles="",this.imageElements=[],this.videoElements=[],this.bgImageUrl="",this.intervalToCheckMediaLoadingStatus=null,this.loggedNudgeShownEvent=!1,this.loggedNudgeNotShownEvent=!1})),ProgressBar$1=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.seen_color=getColorOrDefault(null==e?void 0:e.seen_color,"#FFFFFF"),this.unseen_color=getColorOrDefault(null==e?void 0:e.unseen_color,"#000000")})),Stories=function(){function t(e,n,i,o,a,r,s,l){var c,d,p=this;(_classCallCheck(this,t),_defineProperty(this,"showStories",(function(){p.storyContainer=document.createElement("div"),p.storyContainer.classList.add("pause"),p.storyContainer.style="height:100%;display:flex;align-items:center;",p.progressContainer=document.createElement("div"),p._getStoriesStyles(),p.progressContainer.classList.add("progress-container"),p.loader=document.createElement("div"),p.loader.classList.add("loader-1","center");var t=document.createElement("span");p.loader.appendChild(t),p.storyContainer.appendChild(p.loader);var e=document.createElement("style");e.type="text/css",e.innerText='\n          *,\n          ::after,\n          ::before {\n            box-sizing: border-box;\n          }\n          .loader-1 {\n            height: 32px;\n            width: 32px;\n            animation: loader-1-1 4.8s linear infinite;\n          }\n          @keyframes loader-1-1 {\n            0% {\n              transform: rotate(0deg);\n            }\n            100% {\n              transform: rotate(360deg);\n            }\n          }\n          .loader-1 span {\n            display: block;\n            position: absolute;\n            top: 0;\n            left: 0;\n            bottom: 0;\n            right: 0;\n            margin: auto;\n            height: 32px;\n            width: 32px;\n            clip: rect(0, 32px, 32px, 16px);\n            animation: loader-1-2 1.2s linear infinite;\n          }\n          @keyframes loader-1-2 {\n            0% {\n              transform: rotate(0deg);\n            }\n            100% {\n              transform: rotate(220deg);\n            }\n          }\n          .loader-1 span::after {\n            content: "";\n            position: absolute;\n            top: 0;\n            left: 0;\n            bottom: 0;\n            right: 0;\n            margin: auto;\n            height: 32px;\n            width: 32px;\n            clip: rect(0, 32px, 32px, 16px);\n            border: 3px solid #fff;\n            border-radius: 50%;\n            animation: loader-1-3 1.2s cubic-bezier(0.77, 0, 0.175, 1) infinite;\n          }\n          @keyframes loader-1-3 {\n            0% {\n              transform: rotate(-140deg);\n            }\n            50% {\n              transform: rotate(-160deg);\n            }\n            100% {\n              transform: rotate(140deg);\n            }\n          }\n          .center {\n            display: block;\n            position: absolute;\n            top: 0;\n            left: 0;\n            bottom: 0;\n            right: 0;\n            margin: auto;\n          }\n        ',document.head.appendChild(e),p.slides.forEach((function(t,e){var n=document.createElement("div");n.classList.add("slide".concat(e)),n.classList.add("progress");var i=t.duration/1e3;n.style.animationDuration="".concat(i,"s"),p.progressContainer.appendChild(n)})),p.storyContainer.appendChild(p.progressContainer);var n=document.createElement("br");p.storyContainer.appendChild(n);var i=document.createElement("div");i.classList.add("slide-header"),i.style="position:relative;top:20px;";var o=document.createElement("div");o.classList.add("slide-details"),o.style="display:flex;align-items:center;height:auto;width:100%",p.storyContainer.appendChild(i),p.storyContainer.appendChild(o),document.body.appendChild(p.storyContainer),p.UHsA(),p.BPGv(),p.progress=Array.from(document.querySelectorAll(".progress"));var a=document.querySelector(".slide-details"),r=function t(e){var n,i,o,r,s,l,c,d=e&&e.target,h=Array.from(document.querySelectorAll(".progress")).findIndex((function(t){return t.classList.contains("active")}));(l=(Date.now()-p.slideStartTime)/1e3,-1!=h)&&(null===(c=window.ApxorRTM)||void 0===c||c.logEvent("apx_slide_completed",{apx_nudge_id:p.config[p.position].id,apx_nudge_name:p.config[p.position].campaign_name,apx_template_name:"stories",apx_variant_code:p.config[p.position].variant_code,apx_slide_number:h+1,apx_slide_label:p.current_slide_config.slide_label,apx_time_taken:l}));if(d){var u=p.progress.indexOf(d);if(u<p.progress.length-1){p.storyContainer.removeEventListener("touchend",p.boundSwipeUpHandling),document.querySelectorAll(".apx-slide-header").forEach((function(t){t.remove()})),document.querySelector(".slide-details").innerHTML="",s=p.progress[u+1]}else{p.storyContainer.removeEventListener("touchend",p.boundSwipeUpHandling),document.querySelectorAll(".apx-slide-header").forEach((function(t){t.remove()})),document.querySelector(".slide-details").innerHTML="",p.position=p.position+1;var m=p.position;if(m<p.config.length){var g;p.progressContainer.innerHTML="";var f,v=p.config[m].slides;p.progress_bar=new ProgressBar$1(p.config[m].progress_bar),p.slides=v,p.slides.forEach((function(t,e){var n=document.createElement("div");n.classList.add("slide".concat(e)),n.classList.add("progress");var i=t.duration/1e3;n.style.animationDuration="".concat(i,"s"),p.progressContainer.appendChild(n)})),p.progress=Array.from(document.querySelectorAll(".progress")),p.progress.map((function(e){return e.addEventListener("animationend",t,!1)})),s=p.progress[0],p.current_slide_config=p.config[p.position].slides,"none"===p.current_slide_config.media_type?p.currentMediaType="builder":p.currentMediaType=p.current_slide_config.media_type,f=(Date.now()-p.slideStartTime)/1e3,null===(g=window.ApxorRTM)||void 0===g||g.logEvent("apx_story_changed",{apx_nudge_id:p.config[p.position].id,apx_nudge_name:p.config[p.position].campaign_name,apx_template_name:"stories",apx_variant_code:p.config[p.position].variant_code,apx_slide_number:1,apx_slide_label:p.current_slide_config.slide_label,apx_slide_type:p.currentMediaType,apx_change_action:"autoplay",apx_time_taken:f})}else if(u===p.progress.length-1){var _,b,y,x=document.querySelector(".progress-container").querySelectorAll(".progress");return x[x.length-1].classList.add("passed"),null===(_=window)||void 0===_||null===(_=_.Apxor)||void 0===_||null===(b=_.logInternalEvent)||void 0===b||b.call(_,"story_slides_closed"),"none"===p.current_slide_config.media_type?p.currentMediaType="builder":p.currentMediaType=p.current_slide_config.media_type,void(null===(y=window.ApxorRTM)||void 0===y||y.logEvent("apx_slide_closed",{apx_nudge_id:p.config[p.position].id,apx_nudge_name:p.config[p.position].campaign_name,apx_template_name:"stories",apx_variant_code:p.config[p.position].variant_code,apx_slide_number:u+1,apx_slide_label:p.current_slide_config.slide_label,apx_slide_type:p.currentMediaType}))}}d.classList.remove("active"),d.classList.add("passed")}if(!s){p.progress.forEach((function(t){t.classList.remove("active"),t.classList.remove("passed")})),s=p.progress[p.slidesSeenCount];for(var w=document.querySelector(".progress-container").querySelectorAll(".progress"),C=0;C<p.slidesSeenCount;C++){var E;null===(E=w[C])||void 0===E||E.classList.add("passed")}}s.classList.add("active");var k=p.slides[p.progress.indexOf(s)];p.current_slide_config=k;var T,A,O=document.querySelectorAll(".slide_header");if(O.length>0&&O[0].remove(),document.querySelectorAll(".apx-slide-header").forEach((function(t){t.remove()})),T=document.createElement("div"),k.layout.absolute_position_children.forEach((function(t){var e;e=p.QMbf(t),T.appendChild(e)})),null===(n=T)||void 0===n||n.classList.add("apx-slide-header"),document.body.appendChild(T),"image"===k.media_type){var S,I,P;if(A=document.createElement("div"),"ios"!=(null===(S=window.Apxor)||void 0===S?void 0:S.platform))(I=null===(P=window.Apxor)||void 0===P?void 0:P.getFilePathForStories(p.config[p.position].id,k.media_url))&&""!=I?(document.body.style.backgroundImage="url(".concat(I,")"),document.body.style.backgroundSize="100% auto",document.body.style.backgroundPosition="center",document.body.style.backgroundRepeat="no-repeat"):(document.body.style.backgroundImage="url(".concat(k.media_url,")"),document.body.style.backgroundSize="100% auto",document.body.style.backgroundPosition="center",document.body.style.backgroundRepeat="no-repeat");else document.body.style.backgroundImage="url(".concat(k.media_url,")"),document.body.style.backgroundSize="100% auto",document.body.style.backgroundPosition="center",document.body.style.backgroundRepeat="no-repeat";document.body.style.backgroundColor=k.media_background_color,document.body.style.margin="0px"}else if("video"===k.media_type){var L,M,N,$;if("ios"!==(null===(L=window.Apxor)||void 0===L?void 0:L.platform))N=(null===($=window.Apxor)||void 0===$?void 0:$.getFilePathForStories(p.config[p.position].id,k.media_url))||k.media_url;document.body.style.backgroundImage="",document.body.style.backgroundSize="",document.body.style.backgroundPosition="",document.body.style.backgroundRepeat="",(A=document.createElement("video")).classList.add("apx-story-video"),A.disablePictureInPicture=!0,A.autoplay=!0;var R=document.createElement("source");N&&""!==N?R.setAttribute("src",N):R.setAttribute("src",k.media_url),R.setAttribute("type","video/mp4"),"ios"===(null===(M=window.Apxor)||void 0===M?void 0:M.platform)&&(A.playsInline=!0),A.appendChild(R),A.style="width:100%;height:auto;align-items:center;display:flex;align-items:center;object-fit:cover",document.body.style.backgroundColor=k.media_background_color,document.body.style.margin="0px"}else if("none"===k.media_type){document.body.style.backgroundImage="",document.body.style.backgroundSize="",document.body.style.backgroundPosition="",document.body.style.backgroundRepeat="";var D=JSON.parse(JSON.stringify(k.layout));delete D.absolute_position_children,A=p.QMbf(D),document.body.style.backgroundColor=k.media_background_color,document.body.style.margin="0px"}a.children.length>0&&a.removeChild(a.children[0]),a.appendChild(A),p.iRVI(),window.intervalToCheckImgStatus=setInterval((function(){p.ItlR()&&clearInterval(window.intervalToCheckImgStatus)}),500),null===(i=window)||void 0===i||null===(i=i.Apxor)||void 0===i||null===(o=i.logInternalEvent)||void 0===o||o.call(i,"story_slide_seen",JSON.stringify({config_id:p.config[p.position].id,position:p.position,index:parseInt(p.progress.indexOf(s))+1,view_id:p.view_id}));var B=Date.now();p.slideStartTime=B,"none"===p.current_slide_config.media_type?p.currentMediaType="builder":p.currentMediaType=p.current_slide_config.media_type,null===(r=window.ApxorRTM)||void 0===r||r.logEvent("apx_slide_viewed",{apx_nudge_id:p.config[p.position].id,apx_nudge_name:p.config[p.position].campaign_name,apx_template_name:"stories",apx_variant_code:p.config[p.position].variant_code,apx_slide_number:parseInt(p.progress.indexOf(s))+1,apx_slide_label:p.current_slide_config.slide_label,apx_slide_type:p.currentMediaType})};p.progress.map((function(t){return t.addEventListener("animationend",r,!1)})),r()})),_defineProperty(this,"dWOH",(function(){document.body.classList.add("slide-right");var t=0;document.body.addEventListener("animationend",(function e(){2===++t&&(document.body.classList.remove("slide-right"),document.body.removeEventListener("animationend",e))}))})),_defineProperty(this,"QMbf",(function(t){var e,n,i,o,a,r,s,l,c,d="",h=document.createElement("style");switch(t.type){case"cell":case"text":case"button":n=document.createElement(EMBED_CARD_TYPE[t.type]);break;case"img":(n=document.createElement(EMBED_CARD_TYPE[t.type])).addEventListener("error",(function(){n.style.visibility="hidden";var t=document.querySelector(".loader-1");p.continueLoading=!0,t.style.display="block",t.style.visibility="visible",document.querySelector(".progress-container").style.visibility="hidden",document.querySelector(".apx-slide-header").style.visibility="hidden",document.querySelector(".slide-details").style.visibility="hidden"}));break;case"copy_button":n=document.createElement("div");break;case"floating_button":n=document.createElement("button");break;case"swipe_up_button":(n=document.createElement("div")).style.animation="moveUpDownButton 1000ms ease-in-out infinite alternate";break;case"swipe_up_icon":(n=document.createElement("div")).innerHTML='<svg width="30" height="26" viewBox="0 0 30 26" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M22.1338 22.1335C21.8994 22.3679 21.5815 22.4995 21.25 22.4995C20.9186 22.4995 20.6007 22.3679 20.3663 22.1335L15 16.7673L9.63377 22.1335C9.51847 22.2529 9.38053 22.3481 9.22803 22.4137C9.07552 22.4792 8.9115 22.5136 8.74552 22.5151C8.57955 22.5165 8.41495 22.4849 8.26133 22.4221C8.10771 22.3592 7.96815 22.2664 7.85078 22.149C7.73341 22.0317 7.6406 21.8921 7.57775 21.7385C7.51489 21.5848 7.48327 21.4202 7.48471 21.2543C7.48615 21.0883 7.52064 20.9243 7.58615 20.7718C7.65166 20.6193 7.74688 20.4813 7.86627 20.366L14.1163 14.116C14.3507 13.8817 14.6686 13.75 15 13.75C15.3315 13.75 15.6494 13.8817 15.8838 14.116L22.1338 20.366C22.3681 20.6004 22.4998 20.9183 22.4998 21.2498C22.4998 21.5812 22.3681 21.8991 22.1338 22.1335ZM22.1338 14.6335C21.8994 14.8679 21.5815 14.9995 21.25 14.9995C20.9186 14.9995 20.6007 14.8679 20.3663 14.6335L15 9.26728L9.63377 14.6335C9.39802 14.8612 9.08227 14.9872 8.75452 14.9844C8.42678 14.9815 8.11326 14.8501 7.8815 14.6183C7.64974 14.3865 7.51828 14.073 7.51543 13.7453C7.51258 13.4175 7.63857 13.1018 7.86627 12.866L14.1163 6.61603C14.3507 6.38169 14.6686 6.25004 15 6.25004C15.3315 6.25004 15.6494 6.38169 15.8838 6.61603L22.1338 12.866C22.3681 13.1004 22.4998 13.4183 22.4998 13.7498C22.4998 14.0812 22.3681 14.3991 22.1338 14.6335Z"/>\n        </svg>';break;case"cross_button":(n=document.createElement("div")).innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M5.46995 5.46983C5.61058 5.32938 5.8012 5.25049 5.99995 5.25049C6.1987 5.25049 6.38933 5.32938 6.52995 5.46983L18.53 17.4698C18.6036 17.5385 18.6627 17.6213 18.7037 17.7133C18.7447 17.8053 18.7668 17.9046 18.7685 18.0053C18.7703 18.106 18.7518 18.206 18.7141 18.2994C18.6764 18.3928 18.6202 18.4776 18.549 18.5489C18.4778 18.6201 18.3929 18.6762 18.2995 18.714C18.2062 18.7517 18.1061 18.7702 18.0054 18.7684C17.9047 18.7666 17.8054 18.7446 17.7134 18.7036C17.6214 18.6626 17.5386 18.6035 17.4699 18.5298L5.46995 6.52983C5.3295 6.3892 5.25061 6.19858 5.25061 5.99983C5.25061 5.80108 5.3295 5.61045 5.46995 5.46983Z" />\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M18.53 5.46983C18.6704 5.61045 18.7493 5.80108 18.7493 5.99983C18.7493 6.19858 18.6704 6.3892 18.53 6.52983L6.52997 18.5298C6.38779 18.6623 6.19975 18.7344 6.00545 18.731C5.81114 18.7276 5.62576 18.6489 5.48835 18.5114C5.35093 18.374 5.27222 18.1887 5.26879 17.9944C5.26537 17.8 5.33749 17.612 5.46997 17.4698L17.47 5.46983C17.6106 5.32938 17.8012 5.25049 18 5.25049C18.1987 5.25049 18.3893 5.32938 18.53 5.46983Z" />\n        </svg>';break;case"unmute_icon":(n=document.createElement("div")).innerHTML='<svg width="25" height="25" viewBox="0 0 25 25" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n        <path d="M12.5 4.16667L10.3229 6.34375L12.5 8.52083M4.44792 3.125L3.125 4.44792L8.05208 9.375H3.125V15.625H7.29167L12.5 20.8333V13.8229L16.9271 18.2604C16.2292 18.7917 15.4479 19.2292 14.5833 19.4792V21.6354C16.0208 21.3021 17.3229 20.6458 18.4167 19.75L20.5521 21.875L21.875 20.5521L12.5 11.1771M19.7917 12.5C19.7917 13.4792 19.5833 14.3958 19.2292 15.25L20.8021 16.8229C21.5051 15.4903 21.8733 14.0067 21.875 12.5C21.875 8.04167 18.75 4.3125 14.5833 3.36458V5.51042C17.5938 6.40625 19.7917 9.19792 19.7917 12.5ZM17.1875 12.5C17.1875 10.6562 16.1458 9.07292 14.5833 8.30208V10.6042L17.1354 13.1562C17.1875 12.9479 17.1875 12.7188 17.1875 12.5Z" />\n        </svg>';break;case"mute_icon":(n=document.createElement("div")).innerHTML='<svg width="30" height="30" viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg">\n        <path d="M12.375 4L10.1979 6.17708L7.92708 9.20833H3V15.4583H7.16667L12.375 20.6667V4Z" fill="currentColor" />\n        <path d="M14.4905 20.2167C18.9193 20.2167 22.5095 16.6265 22.5095 12.1977C22.5095 7.76894 18.9193 4.17871 14.4905 4.17871" stroke="currentColor" fill ="transparent" stroke-width="1.782"/>\n        <path d="M14.4905 15.7618C16.4588 15.7618 18.0545 14.1661 18.0545 12.1978C18.0545 10.2294 16.4588 8.63379 14.4905 8.63379" stroke="currentColor" fill="transparent" stroke-width="1.782"/>\n        </svg>',n.id="apx-mute-icon",n.addEventListener("touchstart",(function(t){p.nrDB(t)}));break;case"copy_icon":(n=document.createElement("div")).innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M15 1.25H10.944C9.106 1.25 7.65 1.25 6.511 1.403C5.339 1.561 4.39 1.893 3.641 2.641C2.893 3.39 2.561 4.339 2.403 5.511C2.25 6.651 2.25 8.106 2.25 9.944V16C2.25002 16.8934 2.56894 17.7575 3.14934 18.4367C3.72974 19.1159 4.53351 19.5657 5.416 19.705C5.553 20.469 5.818 21.121 6.348 21.652C6.95 22.254 7.708 22.512 8.608 22.634C9.475 22.75 10.578 22.75 11.945 22.75H15.055C16.422 22.75 17.525 22.75 18.392 22.634C19.292 22.512 20.05 22.254 20.652 21.652C21.254 21.05 21.512 20.292 21.634 19.392C21.75 18.525 21.75 17.422 21.75 16.055V10.945C21.75 9.578 21.75 8.475 21.634 7.608C21.512 6.708 21.254 5.95 20.652 5.348C20.121 4.818 19.469 4.553 18.705 4.416C18.5657 3.53351 18.1159 2.72974 17.4367 2.14934C16.7575 1.56894 15.8934 1.25002 15 1.25ZM17.13 4.271C16.9779 3.827 16.6909 3.44166 16.3089 3.16893C15.927 2.89619 15.4693 2.74971 15 2.75H11C9.093 2.75 7.739 2.752 6.71 2.89C5.705 3.025 5.125 3.279 4.702 3.702C4.279 4.125 4.025 4.705 3.89 5.711C3.752 6.739 3.75 8.093 3.75 10V16C3.74971 16.4693 3.89619 16.927 4.16892 17.3089C4.44166 17.6908 4.827 17.9779 5.271 18.13C5.25 17.52 5.25 16.83 5.25 16.055V10.945C5.25 9.578 5.25 8.475 5.367 7.608C5.487 6.708 5.747 5.95 6.348 5.348C6.95 4.746 7.708 4.488 8.608 4.367C9.475 4.25 10.578 4.25 11.945 4.25H15.055C15.83 4.25 16.52 4.25 17.13 4.271ZM7.408 6.41C7.685 6.133 8.073 5.953 8.808 5.854C9.562 5.753 10.564 5.751 11.999 5.751H14.999C16.434 5.751 17.435 5.753 18.191 5.854C18.925 5.953 19.313 6.134 19.59 6.41C19.867 6.687 20.047 7.075 20.146 7.81C20.247 8.564 20.249 9.566 20.249 11.001V16.001C20.249 17.436 20.247 18.437 20.146 19.193C20.047 19.927 19.866 20.315 19.59 20.592C19.313 20.869 18.925 21.049 18.19 21.148C17.435 21.249 16.434 21.251 14.999 21.251H11.999C10.564 21.251 9.562 21.249 8.807 21.148C8.073 21.049 7.685 20.868 7.408 20.592C7.131 20.315 6.951 19.927 6.852 19.192C6.751 18.437 6.749 17.436 6.749 16.001V11.001C6.749 9.566 6.751 8.564 6.852 7.809C6.951 7.075 7.132 6.687 7.408 6.41Z"/>\n        </svg>';break;case"video":(n=document.createElement("video")).style.width="100%",n.style.height="auto",n.controlsList="noplaybackrate nodownload nofullscreen",n.disablePictureInPicture=!0,n.autoplay=!0,"ios"===(null===(e=window.Apxor)||void 0===e?void 0:e.platform)&&(n.playsInline=!0),n.addEventListener("error",(function(){n.style.visibility="hidden",document.querySelector(".progress-container").style.visibility="hidden",document.querySelector(".apx-slide-header").style.visibility="hidden",document.querySelector(".slide-details").style.visibility="hidden"}));break;default:n=document.createElement(t.type)}if(t.properties)for(var u in t.properties)if(!("img"===t.type&&"src"===u||"img"===t.type&&"format"===u))if("video"!==t.type||"source"!==u)n[u]=t.properties[u];else{var m=document.createElement("source");for(var g in null===(f=t.properties)||void 0===f?void 0:f[u]){var f,v;m[g]=null===(v=t.properties)||void 0===v||null===(v=v[u])||void 0===v?void 0:v[g]}m.type="video/mp4",n.appendChild(m)}(n.classList.add(t._id),t.css)&&("img"==t.type?(o=objectToCSS(removeKeys(parseCSS(t.css),Object.keys(imgWrapperStylesForStories))),n.style=o):(n.style=t.css,null!=t&&null!==(a=t.properties)&&void 0!==a&&a.custom_font&&(d="".concat(null!==(r=null===(s=t.properties)||void 0===s||null===(s=s.custom_font)||void 0===s?void 0:s.font_face)&&void 0!==r?r:""))));t.enable_actions&&t.actions.length>0&&t.actions.forEach((function(t){switch(t.type){case"activity":case"deeplink":n.ontouchstart=function(e){var n;p.redirectionFlag=!0,e.stopPropagation(),l=_objectSpread2(_objectSpread2({},t),{},{display_type:"stories"}),window.Apxor.redirect(JSON.stringify(l));var i,o=Array.from(document.querySelectorAll(".progress")).findIndex((function(t){return t.classList.contains("active")}));"none"===p.current_slide_config.media_type?p.currentMediaType="builder":p.currentMediaType=p.current_slide_config.media_type,i=(Date.now()-p.slideStartTime)/1e3,null===(n=window.ApxorRTM)||void 0===n||n.logEvent("apx_slide_interaction",{apx_nudge_id:p.config[p.position].id,apx_nudge_name:p.config[p.position].campaign_name,apx_template_name:"stories",apx_variant_code:p.config[p.position].variant_code,apx_slide_number:o+1,apx_slide_label:p.current_slide_config.slide_label,apx_slide_type:p.currentMediaType,apx_interaction_type:"cta-clicked",apx_time_taken:i})};break;case"swipe_redirect_deeplink":case"swipe_redirect_activity":c=_objectSpread2(_objectSpread2({},t),{},{display_type:"stories"}),p.storyContainer.addEventListener("touchstart",(function(t){t.stopPropagation(),i=t.touches[0].clientY,p.startY=i,p.swipe_action=c})),p.storyContainer.addEventListener("touchend",p.boundSwipeUpHandling);break;case"dismiss":return void(n.ontouchstart=function(t){var e,n,i;t.stopPropagation(),p.dismissFlag=!0;for(var o=document.querySelector(".slide-details").querySelectorAll("video"),a=0;a<o.length;a++){var r=o[a];"video"===r.tagName.toLowerCase()&&(r.muted=!0)}var s=Array.from(document.querySelectorAll(".progress")).findIndex((function(t){return t.classList.contains("active")}));"none"===p.current_slide_config.media_type?p.currentMediaType="builder":p.currentMediaType=p.current_slide_config.media_type,null===(e=window.ApxorRTM)||void 0===e||e.logEvent("apx_slide_closed",{apx_nudge_id:p.config[p.position].id,apx_nudge_name:p.config[p.position].campaign_name,apx_template_name:"stories",apx_variant_code:p.config[p.position].variant_code,apx_slide_number:s+1,apx_slide_label:p.current_slide_config.slide_label,apx_slide_type:p.currentMediaType}),null===(n=window)||void 0===n||null===(n=n.Apxor)||void 0===n||null===(i=n.logInternalEvent)||void 0===i||i.call(n,"story_slides_closed")});case"never":n.onclick=function(){window.Apxor.neverShow(p.config[p.position].id,p.name,"IN_APP"),window.Apxor.logActionEvent("never_show_clicked",p.config[p.position].id,p.name)};break;case"copy-content":n.ontouchstart=function(e){var n,i,o;e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault();var a=t.content;null===(n=window)||void 0===n||null===(n=n.Apxor)||void 0===n||null===(i=n.logInternalEvent)||void 0===i||i.call(n,"TextCopied",JSON.stringify({text_to_copy:a.toString()}));var r,s=Array.from(document.querySelectorAll(".progress")).findIndex((function(t){return t.classList.contains("active")}));"none"===p.current_slide_config.media_type?p.currentMediaType="builder":p.currentMediaType=p.current_slide_config.media_type,r=(Date.now()-p.slideStartTime)/1e3,null===(o=window.ApxorRTM)||void 0===o||o.logEvent("apx_slide_interaction",{apx_nudge_id:p.config[p.position].id,apx_nudge_name:p.config[p.position].campaign_name,apx_template_name:"stories",apx_variant_code:p.config[p.position].variant_code,apx_slide_number:s+1,apx_slide_label:p.current_slide_config.slide_label,apx_slide_type:p.currentMediaType,apx_interaction_type:"cta-clicked",apx_time_taken:r})};break;case"log-app-event":n.onclick=function(){window.Apxor.logAppEvent(null==t?void 0:t.event_name)};break;case"log-client-event":n.onclick=function(){window.Apxor.logClientEvent(null==t?void 0:t.event_name)}}}));if(t.absolute_position_children&&t.absolute_position_children.length>0&&t.absolute_position_children.forEach((function(t){var e=p.QMbf(t);n.appendChild(e)})),t.children&&t.children.length>0&&t.children.forEach((function(t){var e=p.QMbf(t);n.appendChild(e)})),"img"===t.type){var _,b,y,x=null==t||null===(_=t.properties)||void 0===_?void 0:_.src;n.src=x&&(null===(b=window)||void 0===b||null===(b=b.Apxor)||void 0===b||null===(y=b.getFilePathForStories)||void 0===y?void 0:y.call(b,p.config[p.position].id,x))||x,p.imageElements.push(n);var w=document.createElement("div"),C=parseCSS(t.css);return Object.keys(imgWrapperStylesForStories).forEach((function(t){t in C&&(w.style[imgWrapperStylesForStories[t]]=C[t],"width"===t&&(n.style.width=C[t]))})),w.appendChild(n),w}return"video"===t.type&&p.videoElements.push(n),h.innerHTML=d,n.appendChild(h),n})),_defineProperty(this,"nrDB",(function(t){var e,n;if(p.muteElement=document.getElementById("apx-mute-icon"),t.stopPropagation(),"unmute"===p.videoAudioState){p.muteElement.innerHTML='<svg width="30" height="30" viewBox="0 0 25 25" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n        <path d="M12.5 4.16667L10.3229 6.34375L12.5 8.52083M4.44792 3.125L3.125 4.44792L8.05208 9.375H3.125V15.625H7.29167L12.5 20.8333V13.8229L16.9271 18.2604C16.2292 18.7917 15.4479 19.2292 14.5833 19.4792V21.6354C16.0208 21.3021 17.3229 20.6458 18.4167 19.75L20.5521 21.875L21.875 20.5521L12.5 11.1771M19.7917 12.5C19.7917 13.4792 19.5833 14.3958 19.2292 15.25L20.8021 16.8229C21.5051 15.4903 21.8733 14.0067 21.875 12.5C21.875 8.04167 18.75 4.3125 14.5833 3.36458V5.51042C17.5938 6.40625 19.7917 9.19792 19.7917 12.5ZM17.1875 12.5C17.1875 10.6562 16.1458 9.07292 14.5833 8.30208V10.6042L17.1354 13.1562C17.1875 12.9479 17.1875 12.7188 17.1875 12.5Z" />\n        </svg>',p.videoAudioState="mute",e=document.querySelector(".slide-details").querySelectorAll("video");for(var i=0;i<e.length;i++){var o=e[i];"video"===o.tagName.toLowerCase()&&(o.muted=!0)}}else if("mute"===p.videoAudioState){p.muteElement.innerHTML='<svg width="30" height="30" viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg">\n      <path d="M12.375 4L10.1979 6.17708L7.92708 9.20833H3V15.4583H7.16667L12.375 20.6667V4Z" fill="currentColor" />\n      <path d="M14.4905 20.2167C18.9193 20.2167 22.5095 16.6265 22.5095 12.1977C22.5095 7.76894 18.9193 4.17871 14.4905 4.17871" stroke="currentColor" fill ="transparent" stroke-width="1.782"/>\n      <path d="M14.4905 15.7618C16.4588 15.7618 18.0545 14.1661 18.0545 12.1978C18.0545 10.2294 16.4588 8.63379 14.4905 8.63379" stroke="currentColor" fill="transparent" stroke-width="1.782"/>\n      </svg>',p.videoAudioState="unmute",n=document.querySelector(".slide-details").querySelectorAll("video");for(var a=0;a<n.length;a++){var r=n[a];"video"===r.tagName.toLowerCase()&&(r.muted=!1)}}})),_defineProperty(this,"BPGv",(function(){var t;p.storyContainer.addEventListener("touchstart",(function(e){p.gestureTouch=!0;var n=(e.touches[0].clientX-p.storyContainer.getBoundingClientRect().left)/p.storyContainer.offsetWidth;clearTimeout(t),t=setTimeout((function(){if(p.swipe_up_redirect)p.swipe_up_redirect=!1;else{var t,e,n=Array.from(document.querySelectorAll(".progress")),i=n.findIndex((function(t){return t.classList.contains("active")}));n[i].style.animationPlayState="paused",p.slidePaused=!0,"none"===p.current_slide_config.media_type?p.currentMediaType="builder":p.currentMediaType=p.current_slide_config.media_type,e=(Date.now()-p.slideStartTime)/1e3,null===(t=window.ApxorRTM)||void 0===t||t.logEvent("apx_slide_paused",{apx_nudge_id:p.config[p.position].id,apx_nudge_name:p.config[p.position].campaign_name,apx_template_name:"stories",apx_variant_code:p.config[p.position].variant_code,apx_slide_number:i+1,apx_slide_label:p.current_slide_config.slide_label,apx_slide_type:p.currentMediaType,apx_time_taken:e});for(var o=document.querySelector(".slide-details").querySelectorAll("video"),a=0;a<o.length;a++){var r=o[a];"video"===r.tagName.toLowerCase()&&r.pause()}}}),200),e.target.dataset.relativeX=n})),p.storyContainer.addEventListener("touchend",(function(e){setTimeout((function(){if(p.gestureTouch&&!p.swipeUpTouch){p.gestureTouch=!1,clearTimeout(t);var n,i,o=Array.from(document.querySelectorAll(".progress")),a=o.findIndex((function(t){return t.classList.contains("active")}));if(o[a].style.animationPlayState="running",p.slidePaused)"none"===p.current_slide_config.media_type?p.currentMediaType="builder":p.currentMediaType=p.current_slide_config.media_type,i=(Date.now()-p.slideStartTime)/1e3,null===(n=window.ApxorRTM)||void 0===n||n.logEvent("apx_slide_resumed",{apx_nudge_id:p.config[p.position].id,apx_nudge_name:p.config[p.position].campaign_name,apx_template_name:"stories",apx_variant_code:p.config[p.position].variant_code,apx_slide_number:a+1,apx_slide_label:p.current_slide_config.slide_label,apx_slide_type:p.currentMediaType,apx_time_taken:i}),p.slidePaused=!1;for(var r=document.querySelector(".slide-details").querySelectorAll("video"),s=0;s<r.length;s++){var l=r[s];"video"===l.tagName.toLowerCase()&&l.play()}if(e.timeStamp-e.target.dataset.touchStartTime<200){var c=e.target.dataset.relativeX;if(!p.swipeDownFlag)if(c>.5){for(var d=document.querySelector(".slide-details").children,h=0;h<d.length;h++){var u=d[h];"video"===u.tagName.toLowerCase()&&(u.muted=!0)}p.dismissFlag||p.swipeDownFlag||(p.swipeLeft||p.swipeRight?(p.swipeLeft=!1,p.swipeRight=!1):p.moveToNextSlide())}else c<.5&&(p.swipeLeft||p.swipeRight?(p.swipeLeft=!1,p.swipeRight=!1):p.moveToPreviousSlide())}}else p.swipeUpTouch=!1}),50)})),p.storyContainer.addEventListener("touchstart",(function(t){t.target.dataset.touchStartTime=t.timeStamp}))})),_defineProperty(this,"UHsA",(function(){var t,e;p.storyContainer.addEventListener("touchstart",(function(n){p.swipeTouch=!0,e=n.touches[0].clientX,t=n.touches[0].clientY})),p.storyContainer.addEventListener("touchend",(function(n){setTimeout((function(){if(p.swipeTouch&&!p.swipeUpTouch){var i=n.changedTouches[0].clientX,o=n.changedTouches[0].clientY,a=t-o,r=e-i;n.stopPropagation(),n.preventDefault();var s=Array.from(document.querySelectorAll(".progress")),l=s.findIndex((function(t){return t.classList.contains("active")}));if(p.swipeTouch=!1,a<-50&&Math.abs(a)>Math.abs(r)){var c,d;p.swipeDownFlag=!0;for(var h=document.querySelector(".slide-details").querySelectorAll("video"),u=0;u<h.length;u++){var m=h[u];"video"===m.tagName.toLowerCase()&&(m.muted=!0)}return void(null===(c=window)||void 0===c||null===(c=c.Apxor)||void 0===c||null===(d=c.logInternalEvent)||void 0===d||d.call(c,"story_slides_closed"))}if(r>50&&Math.abs(r)>Math.abs(a)){var g,f,v,_,b,y,x;if(p.swipeRight=!0,p.position===p.config.length-1){var w,C;null===(w=window)||void 0===w||null===(w=w.Apxor)||void 0===w||null===(C=w.logInternalEvent)||void 0===C||C.call(w,"story_slides_closed");for(var E=document.querySelector(".slide-details").querySelectorAll("video"),k=0;k<E.length;k++){var T=E[k];"video"===T.tagName.toLowerCase()&&(T.muted=!0)}return}p.position++,p.progress_bar=new ProgressBar$1(p.config[p.position].progress_bar),p.slides=p.config[p.position].slides,x=p.slides.length===p.config[p.position].slides_seen||0===p.config[p.position].slides_seen?0:p.config[p.position].slides_seen,null===(g=s[l])||void 0===g||g.classList.remove("active"),null===(f=s[l])||void 0===f||f.classList.add("passed");var A,O=document.querySelector(".progress-container");O.innerHTML="",p.slides.forEach((function(t,e){var n=document.createElement("div");n.classList.add("slide".concat(e)),n.classList.add("progress");var i=t.duration/1e3;n.style.animationDuration="".concat(i,"s"),O.appendChild(n)}));for(var S=O.querySelectorAll(".progress"),I=0;I<x;I++){var P;null===(P=S[I])||void 0===P||P.classList.add("passed")}S[x].classList.add("active"),Array.from(S).map((function(t){return t.addEventListener("animationend",(function(){p.moveToNextSlide()}),!1)})),p._getStoriesStyles(),p.storyContainer.removeEventListener("touchend",p.boundSwipeUpHandling),p.updateSlideDetails(0),null===(v=window)||void 0===v||null===(v=v.Apxor)||void 0===v||null===(_=v.logInternalEvent)||void 0===_||_.call(v,"story_slide_seen",JSON.stringify({config_id:p.config[p.position].id,position:p.position,index:x+1,view_id:p.view_id})),null===(b=window.ApxorRTM)||void 0===b||b.logEvent("apx_slide_viewed",{apx_slide_number:x+1,apx_slide_label:p.current_slide_config.slide_label,apx_slide_type:p.currentMediaType,apx_template_name:"stories",apx_nudge_id:p.config[p.position].id,apx_nudge_name:p.config[p.position].campaign_name,apx_variant_code:p.config[p.position].variant_code}),A=(Date.now()-p.slideStartTime)/1e3,null===(y=window.ApxorRTM)||void 0===y||y.logEvent("apx_story_changed",{apx_nudge_id:p.config[p.position].id,apx_nudge_name:p.config[p.position].campaign_name,apx_template_name:"stories",apx_variant_code:p.config[p.position].variant_code,apx_slide_number:x+1,apx_slide_label:p.current_slide_config.slide_label,apx_slide_type:p.currentMediaType,apx_change_action:"swiped-right",apx_time_taken:A});var L=Date.now();return void(p.slideStartTime=L)}if(r<-50&&Math.abs(r)>Math.abs(a)){var M,N,$,R,D,B,F;if(p.swipeLeft=!0,0===l&&0===p.position)return;if(0===p.position)return;p.position--,p.progress_bar=new ProgressBar$1(p.config[p.position].progress_bar),p.slides=p.config[p.position].slides,F=p.slides.length===p.config[p.position].slides_seen||0===p.config[p.position].slides_seen?0:p.config[p.position].slides_seen,null===(M=s[l])||void 0===M||M.classList.remove("active"),null===(N=s[l])||void 0===N||N.classList.add("passed");var V=document.querySelector(".progress-container");V.innerHTML="",p.slides.forEach((function(t,e){var n=document.createElement("div");n.classList.add("slide".concat(e)),n.classList.add("progress");var i=t.duration/1e3;n.style.animationDuration="".concat(i,"s"),V.appendChild(n)}));var H,W=V.querySelectorAll(".progress");if(W.length>0){for(var j=0;j<F;j++){var z;null===(z=W[j])||void 0===z||z.classList.add("passed")}W[F].classList.add("active")}Array.from(W).map((function(t){return t.addEventListener("animationend",(function(){p.moveToNextSlide()}),!1)})),p._getStoriesStyles(),p.storyContainer.removeEventListener("touchend",p.boundSwipeUpHandling),p.updateSlideDetails(F),null===($=window)||void 0===$||null===($=$.Apxor)||void 0===$||null===(R=$.logInternalEvent)||void 0===R||R.call($,"story_slide_seen",JSON.stringify({config_id:p.config[p.position].id,position:p.position,index:F+1,view_id:p.view_id})),"none"===p.current_slide_config.media_type?p.currentMediaType="builder":p.currentMediaType=p.current_slide_config.media_type,null===(D=window.ApxorRTM)||void 0===D||D.logEvent("apx_slide_viewed",{apx_nudge_id:p.config[p.position].id,apx_nudge_name:p.config[p.position].campaign_name,apx_template_name:"stories",apx_variant_code:p.config[p.position].variant_code,apx_slide_number:F+1,apx_slide_label:p.current_slide_config.slide_label,apx_slide_type:p.currentMediaType}),H=(Date.now()-p.slideStartTime)/1e3,null===(B=window.ApxorRTM)||void 0===B||B.logEvent("apx_story_changed",{apx_nudge_id:p.config[p.position].id,apx_nudge_name:p.config[p.position].campaign_name,apx_template_name:"stories",apx_variant_code:p.config[p.position].variant_code,apx_slide_number:F+1,apx_slide_label:p.current_slide_config.slide_label,apx_slide_type:p.currentMediaType,apx_change_action:"swiped-left",apx_time_taken:H});var U=Date.now();return void(p.slideStartTime=U)}}}),50)}))})),_defineProperty(this,"iRVI",(function(){p.loader.style.display="block";var t=Array.from(document.querySelectorAll(".progress")),e=t.findIndex((function(t){return t.classList.contains("active")}));t[e].style.animationPlayState="paused";for(var n=document.querySelector(".slide-details").querySelectorAll("video"),i=0;i<n.length;i++){var o=n[i];"video"===o.tagName.toLowerCase()&&(o.style.opacity=0)}})),_defineProperty(this,"UEaC",(function(){if(!p.continueLoading){for(var t=document.querySelector(".slide-details").querySelectorAll("video"),e=0;e<t.length;e++){var n=t[e];"video"===n.tagName.toLowerCase()&&(n.style.opacity=1)}var i=Array.from(document.querySelectorAll(".progress")),o=i.findIndex((function(t){return t.classList.contains("active")}));i[o].style.animationPlayState="running",document.querySelector(".loader-1").style.display="none",p.loader.style.display="none"}})),_defineProperty(this,"mAWN",(function(){return 0===p.imageElements.length||p.imageElements.every((function(t){return t.complete}))})),_defineProperty(this,"hstK",(function(){return 0===p.videoElements.length||p.videoElements.every((function(t){return t.readyState>=3}))})),_defineProperty(this,"ItlR",(function(){var t=window.getComputedStyle(document.body).backgroundImage;if(t&&"none"!==t&&"image"===p.current_slide_config.media_type){var e=t.slice(5,-2);document.createElement("div").classList.add="wrapper";var n=new Image;return n.src=e,!!n.complete&&(p.UEaC(),!0)}return"video"===p.current_slide_config.media_type?document.querySelector(".slide-details").querySelectorAll("video")[0].readyState>=3&&(p.UEaC(),!0):0==p.videoElements.length&&0==p.imageElements.length||p.mAWN()&&p.hstK()?(p.UEaC(),!0):void 0})),_defineProperty(this,"RFQC",(function(t,e,n){t.stopPropagation();var i=e-t.changedTouches[0].clientY;if(p.redirectionFlag)p.redirectionFlag=!1;else if(i>50){var o;p.swipe_up_redirect=!0,p.swipeUpTouch=!0,window.Apxor.redirect(JSON.stringify(n));var a,r=Array.from(document.querySelectorAll(".progress")),s=r.findIndex((function(t){return t.classList.contains("active")}));"none"===p.current_slide_config.media_type?p.currentMediaType="builder":p.currentMediaType=p.current_slide_config.media_type,a=(Date.now()-p.slideStartTime)/1e3,null===(o=window.ApxorRTM)||void 0===o||o.logEvent("apx_slide_interaction",{apx_nudge_id:p.config[p.position].id,apx_nudge_name:p.config[p.position].campaign_name,apx_template_name:"stories",apx_variant_code:p.config[p.position].variant_code,apx_slide_number:s+1,apx_slide_label:p.current_slide_config.slide_label,apx_slide_type:p.currentMediaType,apx_interaction_type:"gesture",apx_time_taken:a}),r[s].style.animationPlayState="running";for(var l=document.querySelector(".slide-details").querySelectorAll("video"),c=0;c<l.length;c++){var d=l[c];"video"===d.tagName.toLowerCase()&&d.play()}return}})),this.config=e,this.configId=n,this.name=i,this.position=o,this.slidesSeenCount=a,this.view_id=r,this.showCallback=s,this.closeCallback=l,this.progress_bar=new ProgressBar$1(e[o].progress_bar),this.slides=e[o].slides,this.slides.length===this.slidesSeenCount&&(this.slidesSeenCount=0),this.slidesSeenCount>this.slides.length)&&(null===(c=window)||void 0===c||null===(c=c.Apxor)||void 0===c||null===(d=c.logInternalEvent)||void 0===d||d.call(c,"story_slides_closed"));this.enable_download_files=null==e?void 0:e.enable_download_files,this.enable_download_files||(this.enable_download_files=!1),this.enable_download_files&&(this.download_files=null==e?void 0:e.download_files),this.storiesStyles="",this.progressContainer,this.storyContainer,this.dismissFlag=!1,this.videoAudioState="unmute",this.muteElement,this.progress=[],this.swipeDownFlag=!1,this.current_slide_config,this.imageElements=[],this.videoElements=[],this.swipeTouch=!1,this.gestureTouch=!1,this.swipeLeft=!1,this.swipeRight=!1,this.slidePaused=!1,this.currentMediaType,this.slideStartTime,this.swipeUpTouch=!1,this.swipe_up_redirect=!1,this.boundSwipeUpHandling,this.redirectionFlag=!1,this.startY,this.swipe_action,this.continueLoading=!1,this.boundSwipeUpHandling=function(t){return p.RFQC(t,p.startY,p.swipe_action)}}return _createClass(t,[{key:"_getStoriesStyles",value:function(){(document.head||document.getElementsByTagName("head")[0]).querySelectorAll(".apx-progressbar-styles").forEach((function(t){t.parentNode.removeChild(t)})),this.storiesStyles="\n    .progress-container {\n      position:absolute;\n      top:12px;\n      display: flex;\n      flex-direction: row;\n      width:100%;\n    }\n\n    *,:before,:after {\n      box-sizing: border-box;\n      -webkit-user-select: none;\n      -webkit-touch-callout: none;\n      border-width: 0;\n      border-style: solid;\n      border-color: #e5e7eb\n  }\n\n    .progress {\n      height: 4px;\n      flex-grow: 1;\n      border-radius: 4px;\n      margin: 0 4px;\n      display: flex;\n      background-image: linear-gradient(\n        to right,\n        ".concat(this.progress_bar.seen_color," 0%,\n        ").concat(this.progress_bar.seen_color," 50%,\n        ").concat(this.progress_bar.unseen_color," 50%,\n        ").concat(this.progress_bar.unseen_color," 100%\n      );\n      background-repeat: no-repeat;\n      background-size: 200%;\n      background-position: 100% 50%;\n      animation-timing-function: linear;\n      animation-delay: 0.2s;\n    }\n\n    .progress.active {\n      animation-name: Loader;\n    }\n\n    .progress.passed { \n      background-position: 0 0;\n    }\n\n    .slide-right {\n      animation: 0.5s slide-right forwards;\n      background: linear-gradient(to right, rgba(225, 219, 30, 0.99), rgb(36, 202, 238)); \n      background-size: 200% 100%;\n    }\n    \n    @keyframes slide-right {\n      from {\n        background-position: 0% 0;\n      }\n      to {\n        background-position: 100% 0;\n      }\n    }\n\n    @-webkit-keyframes Loader {\n      0% {\n        background-position: 100% 0;\n      }\n      100% {\n        background-position: 0 0;\n      }\n    }\n\n    @keyframes moveUpDownButton {\n      0%,\n      100% {\n        bottom: 12px;\n      }\n      50% {\n        bottom: 32px;\n      }\n    }    \n\n    body {\n      background: #121216;\n    }\n      ").replaceAll("\n","").replace(/[\s]{2,999}/g,"");var t=document.createElement("style");return t.setAttribute("apx-stories-styles",""),t.classList.add("apx-progressbar-styles"),t.innerHTML=this.storiesStyles,document.head.appendChild(t),this.storiesStyles}},{key:"moveToNextSlide",value:function(){var t,e,n,i,o,a,r,s;this.storyContainer.removeEventListener("touchend",this.boundSwipeUpHandling);var l,c=Array.from(document.querySelectorAll(".progress")).findIndex((function(t){return t.classList.contains("active")}));l=(Date.now()-this.slideStartTime)/1e3,null===(t=window.ApxorRTM)||void 0===t||t.logEvent("apx_slide_completed",{apx_nudge_id:this.config[this.position].id,apx_nudge_name:this.config[this.position].campaign_name,apx_template_name:"stories",apx_variant_code:this.config[this.position].variant_code,apx_slide_number:c+1,apx_slide_label:this.current_slide_config.slide_label,apx_time_taken:l});var d=Array.from(document.querySelectorAll(".progress")),p=d.findIndex((function(t){return t.classList.contains("active")}));if(p!==d.length-1){var h,u=p+1;null===(e=d[p])||void 0===e||e.classList.remove("active"),null===(n=d[p])||void 0===n||n.classList.add("passed"),null===(i=d[u])||void 0===i||i.classList.add("active"),this.updateSlideDetails(u),null===(o=window)||void 0===o||null===(o=o.Apxor)||void 0===o||null===(a=o.logInternalEvent)||void 0===a||a.call(o,"story_slide_seen",JSON.stringify({config_id:this.config[this.position].id,position:this.position,index:p+2,view_id:this.view_id})),"none"===this.current_slide_config.media_type?this.currentMediaType="builder":this.currentMediaType=this.current_slide_config.media_type,h=(Date.now()-this.slideStartTime)/1e3,null===(r=window.ApxorRTM)||void 0===r||r.logEvent("apx_slide_changed",{apx_nudge_id:this.config[this.position].id,apx_nudge_name:this.config[this.position].campaign_name,apx_template_name:"stories",apx_variant_code:this.config[this.position].variant_code,apx_slide_number:p+2,apx_slide_label:this.current_slide_config.slide_label,apx_slide_type:this.currentMediaType,apx_change_action:"next-clicked",apx_time_taken:h}),null===(s=window.ApxorRTM)||void 0===s||s.logEvent("apx_slide_viewed",{apx_nudge_id:this.config[this.position].id,apx_nudge_name:this.config[this.position].campaign_name,apx_template_name:"stories",apx_variant_code:this.config[this.position].variant_code,apx_slide_number:p+2,apx_slide_label:this.current_slide_config.slide_label,apx_slide_type:this.currentMediaType});var m=Date.now();this.slideStartTime=m}else{if(this.position===this.config.length-1){var g,f;null===(g=window)||void 0===g||null===(g=g.Apxor)||void 0===g||null===(f=g.logInternalEvent)||void 0===f||f.call(g,"story_slides_closed");for(var v=document.querySelector(".slide-details").querySelectorAll("video"),_=0;_<v.length;_++){var b=v[_];"video"===b.tagName.toLowerCase()&&(b.muted=!0)}return}var y,x,w,C,E,k,T,A,O;this.position++,this.progress_bar=new ProgressBar$1(this.config[this.position].progress_bar),this.slides=this.config[this.position].slides,this.updateProgressBarSegments(),null===(y=d[p])||void 0===y||y.classList.remove("active"),null===(x=d[p])||void 0===x||x.classList.add("passed"),null===(w=d[0])||void 0===w||w.classList.add("active"),this.updateSlideDetails(0),null===(C=window)||void 0===C||null===(C=C.Apxor)||void 0===C||null===(E=C.logInternalEvent)||void 0===E||E.call(C,"story_slide_seen",JSON.stringify({config_id:this.config[this.position].id,position:this.position,index:1,view_id:this.view_id})),O=(Date.now()-this.slideStartTime)/1e3,"none"===this.current_slide_config.media_type?this.currentMediaType="builder":this.currentMediaType=this.current_slide_config.media_type,null===(k=window.ApxorRTM)||void 0===k||k.logEvent("apx_slide_changed",{apx_nudge_id:this.config[this.position].id,apx_nudge_name:this.config[this.position].campaign_name,apx_template_name:"stories",apx_variant_code:this.config[this.position].variant_code,apx_slide_number:1,apx_slide_label:this.current_slide_config.slide_label,apx_slide_type:this.currentMediaType,apx_change_action:"next-clicked",apx_time_taken:O}),null===(T=window.ApxorRTM)||void 0===T||T.logEvent("apx_slide_viewed",{apx_nudge_id:this.config[this.position].id,apx_nudge_name:this.config[this.position].campaign_name,apx_template_name:"stories",apx_variant_code:this.config[this.position].variant_code,apx_slide_number:1,apx_slide_label:this.current_slide_config.slide_label,apx_slide_type:this.currentMediaType}),null===(A=window.ApxorRTM)||void 0===A||A.logEvent("apx_story_changed",{apx_nudge_id:this.config[this.position].id,apx_nudge_name:this.config[this.position].campaign_name,apx_template_name:"stories",apx_variant_code:this.config[this.position].variant_code,apx_slide_number:1,apx_slide_label:this.current_slide_config.slide_label,apx_slide_type:this.currentMediaType,apx_change_action:"autoplay",apx_time_taken:O});var S=Date.now();this.slideStartTime=S}}},{key:"moveToPreviousSlide",value:function(){var t,e,n,i,o,a,r,s,l;this.storyContainer.removeEventListener("touchend",this.boundSwipeUpHandling);var c,d=Array.from(document.querySelectorAll(".progress")).findIndex((function(t){return t.classList.contains("active")}));c=(Date.now()-this.slideStartTime)/1e3,null===(t=window.ApxorRTM)||void 0===t||t.logEvent("apx_slide_completed",{apx_nudge_id:this.config[this.position].id,apx_nudge_name:this.config[this.position].campaign_name,apx_template_name:"stories",apx_variant_code:this.config[this.position].variant_code,apx_slide_number:d+1,apx_slide_label:this.current_slide_config.slide_label,apx_time_taken:c});var p=Array.from(document.querySelectorAll(".progress")),h=p.findIndex((function(t){return t.classList.contains("active")}));if(0!==h||0!==this.position)if(0!==h){var u=h-1;null===(e=p[h])||void 0===e||e.classList.remove("active"),null===(n=p[h])||void 0===n||n.classList.add("passed"),null===(i=p[u])||void 0===i||i.classList.remove("passed"),null===(o=p[u])||void 0===o||o.classList.add("active");for(var m=p.length,g=h;g<m;g++){var f;null===(f=p[g])||void 0===f||f.classList.remove("passed")}this.updateSlideDetails(u),null===(a=window)||void 0===a||null===(a=a.Apxor)||void 0===a||null===(r=a.logInternalEvent)||void 0===r||r.call(a,"story_slide_seen",JSON.stringify({config_id:this.config[this.position].id,position:this.position,index:h,view_id:this.view_id}));var v,_=Date.now();"none"===this.current_slide_config.media_type?this.currentMediaType="builder":this.currentMediaType=this.current_slide_config.media_type,v=(Date.now()-this.slideStartTime)/1e3,null===(s=window.ApxorRTM)||void 0===s||s.logEvent("apx_slide_changed",{apx_nudge_id:this.config[this.position].id,apx_nudge_name:this.config[this.position].campaign_name,apx_template_name:"stories",apx_variant_code:this.config[this.position].variant_code,apx_slide_number:h,apx_slide_label:this.current_slide_config.slide_label,apx_slide_type:this.currentMediaType,apx_change_action:"previous-clicked",apx_time_taken:v}),null===(l=window.ApxorRTM)||void 0===l||l.logEvent("apx_slide_viewed",{apx_nudge_id:this.config[this.position].id,apx_nudge_name:this.config[this.position].campaign_name,apx_template_name:"stories",apx_variant_code:this.config[this.position].variant_code,apx_slide_number:h,apx_slide_label:this.current_slide_config.slide_label,apx_slide_type:this.currentMediaType}),this.slideStartTime=_}else{var b,y,x,w,C,E,k,T;this.position--,this.progress_bar=new ProgressBar$1(this.config[this.position].progress_bar),this.slides=this.config[this.position].slides,this.updateProgressBarSegments(!0);var A,O=this.slides.length-1;null===(b=p[h])||void 0===b||b.classList.remove("active"),null===(y=p[h])||void 0===y||y.classList.add("passed"),null===(x=p[O])||void 0===x||x.classList.add("active"),this.updateSlideDetails(O),null===(w=window)||void 0===w||null===(w=w.Apxor)||void 0===w||null===(C=w.logInternalEvent)||void 0===C||C.call(w,"story_slide_seen",JSON.stringify({config_id:this.config[this.position].id,position:this.position,index:O+1,view_id:this.view_id})),"none"===this.current_slide_config.media_type?this.currentMediaType="builder":this.currentMediaType=this.current_slide_config.media_type,A=(Date.now()-this.slideStartTime)/1e3,null===(E=window.ApxorRTM)||void 0===E||E.logEvent("apx_slide_changed",{apx_nudge_id:this.config[this.position].id,apx_nudge_name:this.config[this.position].campaign_name,apx_template_name:"stories",apx_variant_code:this.config[this.position].variant_code,apx_slide_number:O+1,apx_slide_label:this.current_slide_config.slide_label,apx_slide_type:this.currentMediaType,apx_change_action:"previous-clicked",apx_time_taken:A}),null===(k=window.ApxorRTM)||void 0===k||k.logEvent("apx_slide_viewed",{apx_nudge_id:this.config[this.position].id,apx_nudge_name:this.config[this.position].campaign_name,apx_template_name:"stories",apx_variant_code:this.config[this.position].variant_code,apx_slide_number:O+1,apx_slide_label:this.current_slide_config.slide_label,apx_slide_type:this.currentMediaType}),null===(T=window.ApxorRTM)||void 0===T||T.logEvent("apx_story_changed",{apx_nudge_id:this.config[this.position].id,apx_nudge_name:this.config[this.position].campaign_name,apx_template_name:"stories",apx_variant_code:this.config[this.position].variant_code,apx_slide_number:O+1,apx_slide_label:this.current_slide_config.slide_label,apx_slide_type:this.currentMediaType,apx_change_action:"autoplay",apx_time_taken:A});var S=Date.now();this.slideStartTime=S}}},{key:"updateSlideDetails",value:function(t){var e=this;document.querySelectorAll(".apx-slide-header").forEach((function(t){t.remove()}));var n=document.querySelector(".slide-details");n.style.display="none",n.innerHTML="",n.style.display="flex";var i=this.slides[t];this.current_slide_config=i;var o,a=document.createElement("div");if(a.classList.add("slide-header"),a.style.position="relative",a.style.top="20px",n.appendChild(a),"image"===(null==i?void 0:i.media_type)){var r,s,l;if(o=document.createElement("div"),"ios"!=(null===(r=window.Apxor)||void 0===r?void 0:r.platform))(s=null===(l=window.Apxor)||void 0===l?void 0:l.getFilePathForStories(this.config[this.position].id,i.media_url))&&""!=s?(document.body.style.backgroundImage="url(".concat(s,")"),document.body.style.backgroundSize="100% auto",document.body.style.backgroundPosition="center",document.body.style.backgroundRepeat="no-repeat"):(document.body.style.backgroundImage="url(".concat(i.media_url,")"),document.body.style.backgroundSize="100% auto",document.body.style.backgroundPosition="center",document.body.style.backgroundRepeat="no-repeat");else document.body.style.backgroundImage="url(".concat(i.media_url,")"),document.body.style.backgroundSize="100% auto",document.body.style.backgroundPosition="center",document.body.style.backgroundRepeat="no-repeat";document.body.style.backgroundColor=i.media_background_color,document.body.style.margin="0px"}else if("video"===(null==i?void 0:i.media_type)){var c;document.body.style.backgroundImage="",document.body.style.backgroundSize="",document.body.style.backgroundPosition="",document.body.style.backgroundRepeat="",(o=document.createElement("video")).classList.add("apx-story-video"),o.disablePictureInPicture=!0,o.autoplay=!0;var d=document.createElement("source");d.setAttribute("src",i.media_url),d.setAttribute("type","video/mp4"),o.appendChild(d),o.style.width="100%",o.style.height="auto",document.body.style.backgroundColor=i.media_background_color,document.body.style.margin="0px","ios"===(null===(c=window.Apxor)||void 0===c?void 0:c.platform)&&(o.playsInline=!0),o.style.alignItems="center",o.style.objectFit="cover",o.style.display="flex",o.style.alignItems="center"}else if("none"===(null==i?void 0:i.media_type)){document.body.style.backgroundImage="",document.body.style.backgroundSize="",document.body.style.backgroundPosition="",document.body.style.backgroundRepeat="";var p=JSON.parse(JSON.stringify(i.layout));delete p.absolute_position_children,o=this.QMbf(p)}document.body.style.backgroundColor=i.media_background_color,document.body.style.margin="0px",n.appendChild(o),this.iRVI(),i.layout.absolute_position_children&&i.layout.absolute_position_children.length>0&&i.layout.absolute_position_children.forEach((function(t){var i=e.QMbf(t);n.appendChild(i)})),window.intervalToCheckImgStatus2=setInterval((function(){e.ItlR()&&clearInterval(window.intervalToCheckImgStatus2)}),500)}},{key:"updateProgressBarSegments",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=document.querySelector(".progress-container");n.innerHTML="",this.slides.forEach((function(t,e){var i=document.createElement("div");i.classList.add("slide".concat(e)),i.classList.add("progress");var o=t.duration/1e3;i.style.animationDuration="".concat(o,"s"),n.appendChild(i)}));var i=n.querySelectorAll(".progress");if(i.length>0)if(e){for(var o=0;o<i.length-1;o++){var a;null===(a=i[o])||void 0===a||a.classList.add("passed")}i[i.length-1].classList.add("active")}else i[0].classList.add("active");Array.from(i).map((function(e){return e.addEventListener("animationend",(function(){t.moveToNextSlide()}),!1)})),this._getStoriesStyles()}}]),t}(),Badgeborder=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.color=e.color,this.corners=e.corners,this.width=e.width})),Shape=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.type=e.type,this.color=getColorOrDefault(e.color,"transparent"),this.enable_gradient=e.enable_gradient,this.enable_gradient&&(this.gradient=new Gradient(e.gradient)),this.enable_border=e.enable_border,this.enable_border&&(this.border=new Badgeborder(e.border))})),Badgebackground=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.width=e.width,this.height=e.height,this.enable_image=e.enable_image,this.enable_image&&(this.image=new Image$1(e.image)),this.shape=new Shape(e.shape)})),Badgecontent=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.enable_label=e.enable_label,this.enable_label&&(this.label=new Text(e.label)),this.enable_icon=e.enable_icon,this.enable_icon&&(this.icon=new Icon(e.icon))})),Autoscroll=_createClass((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.duration_millis=getNumberOrDefault(e.duration_millis,2)/1e3,this.direction=getStringOrDefault(e.direction,"to_top"),this.horizontal_gap=null==e?void 0:e.horizontal_gap})),BadgeAnimation=function(){function t(){var e,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(_classCallCheck(this,t),this.type=getStringOrDefault(i.type,"cycle"),this.duration=getNumberOrDefault(i.duration,1),this.delay_millis=getNumberOrDefault(i.delay_millis,1e3)/1e3,this.duration_millis=getNumberOrDefault(i.duration_millis,1e3)/1e3,this.inter_count=getNumberOrDefault(i.inter_count,0),this.intra_count=getNumberOrDefault(i.intra_count,0),this.type){case"fade":this.fade_opacity=getNumberOrDefault(i.fade.opacity,50);break;case"ripple":this.rippleArea=getNumberOrDefault(i.ripple.area,8),this.rippleColor=getColorOrDefault(i.ripple.color,"#FFFFFF"),this.rippleCornerRadius=getNumberOrDefault(i.ripple.corner_radius,8),this.rippleShape=getStringOrDefault(i.ripple.shape,"rectangle");break;case"shake":this.shakeDirection=getStringOrDefault(i.shake.direction,"horizontal");break;case"shine":this.shineDirection=getStringOrDefault(i.shine.direction,"to_bottom_right"),this.shineColor=getColorOrDefault(i.shine.color,"#FFFFFF"),this.lines_gap=null==i||null===(e=i.shine)||void 0===e?void 0:e.lines_gap,this.lines=null==i||null===(n=i.shine)||void 0===n?void 0:n.lines}this.anim_function=getStringOrDefault(i.anim_function,"ease-in-out"),this.iteration_count=getNumberOrDefault(i.iteration_count,"infinite")}return _createClass(t,null,[{key:"isEnabled",value:function(t){return!(isUndefined$1(t)||isNull(t)||isEmptyObject(t))}}]),t}(),Badge=_createClass((function t(e){var n,i=this;_classCallCheck(this,t),this.position=new Position(e.position),this.enable_background=e.enable_background,this.enable_background&&(this.background=new Badgebackground(e.background)),this.content=[],null!=e&&e.content&&0!==e.content.length&&(null!=e&&e.enable_auto_scroll&&"to_bottom"===(null==e||null===(n=e.auto_scroll)||void 0===n?void 0:n.direction)?e.content.forEach((function(t){i.content.unshift(new Badgecontent(t))})):e.content.forEach((function(t){i.content.push(new Badgecontent(t))}))),this.enable_shadow=e.enable_shadow,this.enable_shadow&&(this.shadow=new Shadow(e.shadow)),this.enable_animation=e.enable_animation,this.animation=new BadgeAnimation(e.animation),this.enable_auto_scroll=e.enable_auto_scroll,this.enable_auto_scroll&&(this.auto_scroll=new Autoscroll(e.auto_scroll)),this.tooltipShown=e.tooltipShown})),ApxorBadge=function(){function t(e,n,i,o,a){var r,s,l,c,d,p=this;_classCallCheck(this,t),_defineProperty(this,"Uisq",(function(){var t=1e3*p.delayMillis;p.shakeAnimationRepeat(p.interCount,t)})),_defineProperty(this,"lbot",(function(){var t=1e3*p.delayMillis;p.fadeAnimationRepeat(p.interCount,t)})),_defineProperty(this,"aalX",(function(){var t,e=1e3*p.delayMillis,n=".apxor-badge-container-stylesdummy-".concat(p.cssPostFix," {\n      opacity:0;\n    }").replaceAll("\n","").replace(/[\s]{2,999}/g,""),i=document.createElement("style");i.innerHTML=n,null===(t=p.targetElement)||void 0===t||t.appendChild(i),p.rippleAnimationRepeat(p.interCount,e)})),_defineProperty(this,"JJQb",(function(){var t=1e3*p.delayMillis;p.shineAnimationRepeat(p.interCount,t)})),_defineProperty(this,"TclR",(function(){var t=document.querySelectorAll(".apx-main-styles-".concat(p.configId));null==t||t.forEach((function(t){null==t||t.remove()}));var e=document.querySelectorAll(".apxor-badge-container-stylesdummy-".concat(p.cssPostFix));null==e||e.forEach((function(t){null==t||t.remove()})),p.WZmW()})),_defineProperty(this,"WZmW",(function(){var t=document.querySelector(".image-container-".concat(p.configId));if(t){var e=t.querySelector("img");e&&(t.parentNode.insertBefore(e,t),t.remove(),p.targetElement=e)}})),_defineProperty(this,"jujN",(function(t,e){if(t.nodeType!==Node.ELEMENT_NODE)return"";for(var n=[],i=t;i;){var o=p.ywVR(i,!!e,i===t);if(!o)break;if(n.push(o),o.optimized)break;i=i.parentNode}return n.reverse(),n.join(" > ")})),_defineProperty(this,"ywVR",(function(t,e,n){if(t.nodeType!==Node.ELEMENT_NODE)return null;var i=t.getAttribute("id");if(e){if(i)return new DOMNodePathStep(l(i),!0);var o=t.nodeName.toLowerCase();if("body"===o||"head"===o||"html"===o)return new DOMNodePathStep(t.nodeName.toLowerCase(),!0)}var a=t.nodeName.toLowerCase();if(i)return new DOMNodePathStep(a.toLowerCase()+l(i),!0);var r=t.parentNode;if(!r||r.nodeType===Node.DOCUMENT_NODE)return new DOMNodePathStep(a.toLowerCase(),!0);function s(t){var e=t.getAttribute("class");return e?e.split(/\s+/g).filter(Boolean).map((function(t){return"$"+t})):[]}function l(t){return"#"+c(t)}function c(t){if(/^-?[a-zA-Z_][a-zA-Z0-9_-]*$/.test(t))return t;var e=/^(?:[0-9]|-[0-9-]?)/.test(t),n=t.length-1;return t.replace(/./g,(function(t,i){return e&&0===i||!function(t){return!!/[a-zA-Z0-9_-]/.test(t)||t.charCodeAt(0)>=160}(t)?function(t,e){return"\\"+function(t){var e=t.charCodeAt(0).toString(16);1===e.length&&(e="0"+e);return e}(t)+(e?"":" ")}(t,i===n):t}))}for(var d=s(t),p=!1,h=!1,u=-1,m=-1,g=r.children,f=0;(-1===u||!h)&&f<g.length;++f){var v=g[f];if(v.nodeType===Node.ELEMENT_NODE)if(m+=1,v!==t){if(!h&&v.nodeName.toLowerCase()===a.toLowerCase()){p=!0;var _=new Set(d);if(_.size)for(var b=s(v),y=0;y<b.length;++y){var x=b[y];if(_.has(x)&&(_.delete(x),!_.size)){h=!0;break}}else h=!0}}else u=m}var w=a.toLowerCase();if(n&&"input"===a.toLowerCase()&&t.getAttribute("type")&&!t.getAttribute("id")&&!t.getAttribute("class")&&(w+='[type="'+t.getAttribute("type")+'"]'),h)w+=":nth-child("+(u+1)+")";else if(p)for(var C in d)w+="."+c(d[C].substr(1));return new DOMNodePathStep(w,!1)})),this.uiConfig=e,this.rtmInstance=o,this.configId=i.configId,this.name=i.configName,this.terminationConfig=n,this.showCallback=a,this.cssPostFix="-".concat(this.configId,"-").concat(this.name).replace(/\s+/g,"").replace(/[^\w-]/g,""),this.target=new Target$1(e.target),this.view_additional_info=(null==e?void 0:e.view_additional_info)||{},this.find_config=(null==e?void 0:e.find_config)||{},this.elementVisibilityRetries=null!==(r=null===(s=this.target)||void 0===s||null===(s=s.retry)||void 0===s?void 0:s.max_retries)&&void 0!==r?r:0,this.badge=new Badge(e.badge),this.enable_marketing=e.enable_marketing,this.enable_marketing&&(this.marketing=new Marketing(e.marketing)),this.intraCount=null===(l=this.badge.animation)||void 0===l?void 0:l.intra_count,this.interCount=null===(c=this.badge.animation)||void 0===c?void 0:c.inter_count,this.delayMillis=null===(d=this.badge.animation)||void 0===d?void 0:d.delay_millis,this.count=1,this.shineWidth=0,this.c=1,this.badgeDummyContainer=null,this.contentLabelWidth=0,this.contentIconWidth=0,this.contentWidth=0,this.labelElementDummy=null,this.iconElementdummy=null,this.targetClicked=!1,this.zIndexValue=1,this.zIndexValueminusOne=1,this.contentZindexValue=1}return _createClass(t,[{key:"VQmb",value:function(){var t=this,e=function(){var e,n=window.getComputedStyle(t.targetElement).getPropertyValue("z-index"),i=parseInt(n,10);null===(e=t.targetElement)||void 0===e||e.classList.add("apx-badge-target-style".concat(t.cssPostFix)),t.zIndexValue=i+3,t.zIndexValueminusOne=i+1,t.contentZindexValue=i+5,isNaN(t.zIndex)&&(t.zIndexValue=999,t.zIndexValueminusOne=998,t.contentZindexValue=1e3),t._setBadgeStyles(),t._setBadgeContent(),t._setOnClickTerminationForBadges(),t.showCallback()};this._setTargetElement((function(){t._isElementVisible()?e():(t.target.retry.max_retries=t.elementVisibilityRetries,t._retryFindingTargetElement(!0,e))}))}},{key:"_setTargetElement",value:function(t){if(this.targetElement=getElementFromSelector(this.target.id,this.target.frame_id,this.find_config,this.view_additional_info),this.targetElement&&"img"===this.targetElement.tagName.toLowerCase()){var e=document.createElement("div");e.classList.add("image-container-".concat(this.configId)),e.style.position="relative",e.style.display="inline-block",this.targetElement.parentNode.insertBefore(e,this.targetElement),e.appendChild(this.targetElement),this.targetElement=e}this.targetElement?t():this.target.enable_retry&&this._retryFindingTargetElement(!1,t)}},{key:"_isElementVisible",value:function(){try{var t=this.targetElement.getBoundingClientRect();if(0===t.width||0===t.height)return!1}catch(t){return!1}return!0}},{key:"_retryFindingTargetElement",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,i=setInterval((function(){var o,a;(t.targetElement=getElementFromSelector(t.target.id,t.target.frame_id,t.find_config,t.view_additional_info),e)?t._isElementVisible()?(clearInterval(i),n()):(t.target.retry.max_retries=t.target.retry.max_retries-1,t.target.retry.max_retries<=0&&(clearInterval(i),null===(o=window)||void 0===o||null===(o=o.ApxorRTM)||void 0===o||o.logEvent("apx_nudge_not_shown",{apx_nudge_type:"campaign",apx_nudge_id:t.configId,apx_nudge_name:t.name,apx_notshown_type:"error",apx_reason:"View not found"}))):t.targetElement?(clearInterval(i),n()):(t.target.retry.max_retries=t.target.retry.max_retries-1,t.target.retry.max_retries<=0&&(clearInterval(i),console.warn("Element with selector:".concat(t.target.id," not found.")),null===(a=window)||void 0===a||null===(a=a.ApxorRTM)||void 0===a||a.logEvent("apx_nudge_not_shown",{apx_nudge_type:"campaign",apx_nudge_id:t.configId,apx_nudge_name:t.name,apx_notshown_type:"error",apx_reason:"View not found"})))}),this.target.retry.interval)}},{key:"_setBadgeStyles",value:function(){var t,e="\n      ".concat(this._gettargetStyles(),"\n      ").concat(this._getBadgeContainerStyles(),"\n      ").concat(this._getBadgeContentStyles(),"\n      ").concat(this._getBadgeContentElementStyles(),"\n      ").concat(this._getBadgeAnimationStyles(),"\n      ").concat(this._getBadgeScrollStyles(),"\n      ").replaceAll("\n","").replace(/[\s]{2,999}/g,""),n=document.createElement("style");n.classList.add("apx-main-styles-".concat(this.configId)),n.innerHTML=e,null===(t=this.targetElement)||void 0===t||t.appendChild(n)}},{key:"_gettargetStyles",value:function(){return"\n    .apx-badge-target-style".concat(this.cssPostFix,"{\n      position:relative;\n      overflow:initial;\n    }")}},{key:"_getBadgeContainerStyles",value:function(){var t,e,n,i,o,a=this.badge.enable_background&&this.badge.background.shape.enable_border?this.badge.background.width+this.badge.background.shape.border.width.left+this.badge.background.shape.border.width.right:0,r=this.badge.enable_background&&this.badge.background.shape.enable_border?this.badge.background.height+this.badge.background.shape.border.width.top+this.badge.background.shape.border.width.bottom:0;o=this.badge.enable_background?"\n      width:".concat(a,"px;\n      height:").concat(r,"px;"):"\n      width:auto;\n      height:auto;";var s,l=this.badge.position.offset.x,c=this.badge.position.offset.y,d="auto",p="auto",h="auto",u="auto",m="circle"===this.badge.background.shape.type?this.badge.background.width:this.badge.background.height;switch(this.badge.position.position){case"top-left":d="-".concat(r/2,"px"),h="-".concat(a/2,"px");break;case"top-center":case"top":d="calc(".concat(c,"px - ").concat(m/2,"px + ").concat(-this.badge.background.shape.border.width.top,"px)"),h="calc(50% - ".concat(this.badge.background.width/2,"px + ").concat(l,"px + ").concat(-this.badge.background.shape.border.width.left,"px)");break;case"top-right":d="-".concat(r/2,"px"),u="-".concat(a/2,"px");break;case"bottom-left":p="-".concat(r/2,"px"),h="-".concat(a/2,"px");break;case"bottom-center":case"bottom":p="calc(".concat(-c,"px - ").concat(m/2,"px + ").concat(-this.badge.background.shape.border.width.bottom,"px)"),h="calc(50% - ".concat(this.badge.background.width/2,"px + ").concat(l,"px + ").concat(-this.badge.background.shape.border.width.left,"px)");break;case"bottom-right":p="-".concat(r/2,"px"),u="-".concat(a/2,"px");break;case"center-left":case"left":d="calc(50% - ".concat(m/2,"px + ").concat(c,"px + ").concat(-this.badge.background.shape.border.width.top,"px)"),h="calc(".concat(l,"px - ").concat(this.badge.background.width/2,"px + ").concat(-this.badge.background.shape.border.width.left,"px)");break;case"center-right":case"right":d="calc(50% - ".concat(m/2,"px + ").concat(c,"px + ").concat(-this.badge.background.shape.border.width.top,"px)"),u="calc(".concat(-l,"px - ").concat(this.badge.background.width/2,"px + ").concat(-this.badge.background.shape.border.width.right,"px)");break;case"center":default:d="calc(50% - ".concat(m/2,"px + ").concat(c,"px + ").concat(-this.badge.background.shape.border.width.top,"px)"),h="calc(50% - ".concat(this.badge.background.width/2,"px + ").concat(l,"px + ").concat(-this.badge.background.shape.border.width.left,"px)")}s="\n  top: ".concat(d,";\n  bottom: ").concat(p,";\n  left: ").concat(h,";\n  right: ").concat(u,";\n  -webkit-transform: translate(").concat(l,"px, ").concat(c,"px);\n");var g="";this.badge.enable_background&&this.badge.background.enable_image&&(g="\n        .apxor-badge-container-background-image".concat(this.cssPostFix,"{\n          background-image: url('").concat(this.badge.background.image.path,"');\n          background-repeat: no-repeat;\n          background-size: 100% 100%;\n          height: ").concat(this.badge.background.height,"px;\n          width: ").concat(this.badge.background.width,"px;\n        }"));var f="";this.badge.enable_background&&0!==Object.keys(this.badge.background.shape).length&&this.badge.background.shape.enable_gradient&&(f="\n        background-image:linear-gradient(".concat(this.badge.background.shape.gradient.direction,", ").concat(this.badge.background.shape.gradient.colors[0],", ").concat(this.badge.background.shape.gradient.colors[1],");\n      "));var v="";if(this.badge.enable_background&&null!==(t=this.badge.background)&&void 0!==t&&t.shape){var _="";this.badge.background.enable_image||("circle"===this.badge.background.shape.type?_="\n        border:".concat(this.badge.background.shape.border.width.top,"px solid ").concat(this.badge.background.shape.border.color,";\n        border-radius:50%;\n        background:").concat(this.badge.background.shape.color,";"):"rectangle"===this.badge.background.shape.type&&(_="\n        background:".concat(this.badge.background.shape.color,";\n        border-top:").concat(this.badge.background.shape.border.width.top,"px solid ").concat(this.badge.background.shape.border.color,";\n        border-right:").concat(this.badge.background.shape.border.width.right,"px solid ").concat(this.badge.background.shape.border.color,";\n        border-bottom:").concat(this.badge.background.shape.border.width.bottom,"px solid ").concat(this.badge.background.shape.border.color,";\n        border-left:").concat(this.badge.background.shape.border.width.left,"px solid ").concat(this.badge.background.shape.border.color,";\n        border-top-left-radius:").concat(this.badge.background.shape.border.corners.top_left,"px;\n        border-top-right-radius:").concat(this.badge.background.shape.border.corners.top_right,"px;\n        border-bottom-left-radius:").concat(this.badge.background.shape.border.corners.bottom_left,"px;\n        border-bottom-right-radius:").concat(this.badge.background.shape.border.corners.bottom_right,"px;\n        "))),v="\n      ".concat(_,"\n      ")}var b="",y="circle"===(null===(e=this.badge)||void 0===e||null===(e=e.animation)||void 0===e?void 0:e.rippleShape)?"50%":"".concat(null===(n=this.badge)||void 0===n||null===(n=n.animation)||void 0===n?void 0:n.rippleCornerRadius,"px");return this.badge.enable_shadow&&(b="\n        box-shadow: ".concat(this.badge.shadow.offset_x,"px ").concat(this.badge.shadow.offset_y,"px ").concat(this.badge.shadow.blur_radius,"px ").concat(this.badge.shadow.spread_radius,"px ").concat(this.badge.shadow.color,";\n      ")),"\n    .apxor-badge-container-styles-".concat(this.cssPostFix,"{\n      position:absolute;\n      display:flex;\n      align-items:center;\n      overflow:hidden;\n      ").concat(f,"\n      ").concat(o,"\n      ").concat(s,"\n      ").concat(v,"\n      ").concat(b,"\n      z-index:").concat(this.zIndexValue,";\n      text-transform:none;\n    }\n    .apxor-badge-container-stylesdummy-").concat(this.cssPostFix,"{\n      position:absolute;\n      display:flex;\n      z-index:").concat(this.zIndexValueminusOne,";\n      align-items:center;\n      overflow:hidden;\n      width:").concat(this.badge.background.width,"px;\n      height:").concat(this.badge.background.height,"px;\n      ").concat(s,"\n      ").concat(b,"\n      text-transform:none;\n      background:").concat(null===(i=this.badge)||void 0===i||null===(i=i.animation)||void 0===i?void 0:i.rippleColor,";\n      border-radius:").concat(y,";\n    }\n    ").concat(g)}},{key:"_getBadgeContentStyles",value:function(){var t="";return this.badge.enable_auto_scroll&&(t="to_right"===this.badge.auto_scroll.direction||"to_left"===this.badge.auto_scroll.direction?"display:flex;\n        flex-direction:row;\n        ":""),"\n    .apxor-badge-content-container-".concat(this.cssPostFix,"{\n      position:relative;\n      width:100%;\n      height:100%;\n      overflow:hidden;\n      ").concat(t,"\n    }")}},{key:"_getBadgeContentElementStyles",value:function(){var t,e=this,n="",i="";return i=(null===(t=this.badge.background)||void 0===t?void 0:t.width)>this.contentWidth?"center":"left",0!==this.badge.content.length&&this.badge.content.forEach((function(t,o){if(n+="\n        .apxor-badge-contentelement-".concat(o,"-").concat(e.cssPostFix,"{\n          width:100%;\n          height:100%;\n          display: flex;\n          justify-content:").concat(i,";\n          align-items:center;\n        }"),t.enable_icon){var a="";t.icon.enable_margin&&(a="margin:".concat(t.icon.margin.top,"px ").concat(t.icon.margin.right,"px ").concat(t.icon.margin.bottom,"px ").concat(t.icon.margin.left,"px;"));var r="";t.icon.enable_border&&(r="\n            border-radius:".concat(t.icon.border.radius,"%;\n            border:").concat(t.icon.border.width,"px ").concat(t.icon.border.style," ").concat(t.icon.border.color,";\n          ")),n+="\n          .apxor-badge-".concat(o,"-icon-container").concat(e.cssPostFix,"{\n            width:auto;\n            height:auto;\n           display: flex;\n            justify-content:center;\n            align-items:center;\n          }\n          .apxor-badge-").concat(o,"-icon-content").concat(e.cssPostFix," {\n            position:relative;\n            background:url('").concat(t.icon.path,"') no-repeat center;\n            background-size:cover;\n            display:inline-block;\n            height: ").concat(t.icon.height,"px;\n            width: ").concat(t.icon.width,"px;\n            ").concat(a,"\n            ").concat(r,"\n          }")}if(t.enable_label){var s="";t.label.enable_margin&&(s="margin:".concat(t.label.margin.top,"px ").concat(t.label.margin.right,"px ").concat(t.label.margin.bottom,"px ").concat(t.label.margin.left,"px;")),n+="\n          .apxor-badge-".concat(o,"-label-content-").concat(e.cssPostFix,"{\n            text-align:").concat(t.label.alignment,";\n           display: flex;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            align-items:center;\n            ").concat(s,"\n          }\n          ")}})),n}},{key:"_getBadgeAnimationStyles",value:function(){var t="",e="";if(this.badge.enable_animation){var n,i,o,a,r,s;if("shake"===(null===(n=this.badge.animation)||void 0===n?void 0:n.type))if(0==this.badge.animation.intra_count)t="\n        .apxor-badge-container-styles-".concat(this.cssPostFix,"{\n          animation: badgeAnimation ").concat(this.badge.animation.duration_millis,"s infinite;\n        }"),e="horizontal"===this.badge.animation.shakeDirection?"@keyframes badgeAnimation {\n              0% { transform: translateX(0) }\n              25% { transform: translateX(5px) }\n              50% { transform: translateX(0) }\n              75% { transform: translateX(-5px) }\n              100% {transform:translateX(0)}\n            }":"@keyframes badgeAnimation {\n              0% { transform: translateY(0) }\n          25% { transform: translateY(5px) }\n          50% { transform: translateY(0) }\n          75% { transform: translateY(-5px) }\n          100% { transform: translateY(0) }\n            }";else t="\n        .apxor-badge-container-styles-".concat(this.cssPostFix,"{\n          animation: badgeAnimation ").concat(this.badge.animation.duration_millis,"s ").concat(null===(r=this.badge.animation)||void 0===r?void 0:r.intra_count,";\n        }"),e="horizontal"===this.badge.animation.shakeDirection?"@keyframes badgeAnimation {\n              0% { transform: translateX(0) }\n              25% { transform: translateX(5px) }\n              50% { transform: translateX(0) }\n              75% { transform: translateX(-5px) }\n              100% {transform:translateX(0)}\n            }":"@keyframes badgeAnimation {\n              0% { transform: translateY(0) }\n          25% { transform: translateY(5px) }\n          50% { transform: translateY(0) }\n          75% { transform: translateY(-5px) }\n          100% { transform: translateY(0) }\n            }";if("fade"===(null===(i=this.badge.animation)||void 0===i?void 0:i.type))if(0==this.badge.animation.intra_count)t="\n        .apxor-badge-container-styles-".concat(this.cssPostFix,"{\n          animation: badgeAnimation ").concat(this.badge.animation.duration_millis,"s infinite;\n        }"),e="\n        @keyframes badgeAnimation {\n          0% { opacity:1;}\n          50% { opacity:".concat(this.badge.animation.fade_opacity/100,";}\n          100% { opacity:1}\n        }");else t="\n        .apxor-badge-container-styles-".concat(this.cssPostFix,"{\n          animation: badgeAnimation ").concat(this.badge.animation.duration_millis,"s ").concat(null===(s=this.badge.animation)||void 0===s?void 0:s.intra_count,";\n        }"),e="\n        @keyframes badgeAnimation {\n          0% { opacity:1;}\n          50% { opacity:".concat(this.badge.animation.fade_opacity/100,";}\n          100% { opacity:1}\n        }");if("ripple"===(null===(o=this.badge.animation)||void 0===o?void 0:o.type)){var l,c=this.badge.animation.rippleArea/2;if(0==this.badge.animation.intra_count)t="\n        .apxor-badge-container-stylesdummy-".concat(this.cssPostFix,"{\n          animation: badgeAnimation ").concat(this.badge.animation.duration_millis,"s ease-in-out;\n          animation-iteration-count: infinite;\n          \n        }"),e="\n        @keyframes badgeAnimation {\n        0% {\n          box-shadow: 0 0 0 0 ".concat(this.badge.animation.rippleColor,", 0 0 0 0 ").concat(this.badge.animation.rippleColor,";\n          }\n    \n          80% {\n              box-shadow: 0 0 0 ").concat(c,"px ").concat(this.badge.animation.rippleColor,", 0 0 0 ").concat(this.badge.animation.rippleArea,"px ").concat(this.badge.animation.rippleColor,";\n        }\n\n        100% {\n          box-shadow: 0 0 0 0 ").concat(this.badge.animation.rippleColor,", 0 0 0 0 ").concat(this.badge.animation.rippleColor,";\n        } \n      }");else t="\n        .apxor-badge-container-stylesdummy-".concat(this.cssPostFix,"{\n          animation: badgeAnimation ").concat(this.badge.animation.duration_millis,"s ease-in-out;\n          animation-iteration-count: ").concat(null===(l=this.badge.animation)||void 0===l?void 0:l.intra_count,";\n        }"),e="\n        @keyframes badgeAnimation {\n        0% {\n          box-shadow: 0 0 0 0 ".concat(this.badge.animation.rippleColor,", 0 0 0 0 ").concat(this.badge.animation.rippleColor,";\n          }\n    \n          80% {\n              box-shadow: 0 0 0 ").concat(c,"px ").concat(this.badge.animation.rippleColor,", 0 0 0 ").concat(this.badge.animation.rippleArea,"px ").concat(this.badge.animation.rippleColor,";\n        }\n\n        100% {\n          box-shadow: 0 0 0 0 ").concat(this.badge.animation.rippleColor,", 0 0 0 0 ").concat(this.badge.animation.rippleColor,";\n        } \n      }")}if("shine"===(null===(a=this.badge.animation)||void 0===a?void 0:a.type)){var d,p,h,u,m="",g=null===(d=this.badge.animation)||void 0===d||null===(d=d.lines[0])||void 0===d?void 0:d.width,f=null!==(p=null===(h=this.badge.animation)||void 0===h||null===(h=h.lines[1])||void 0===h?void 0:h.width)&&void 0!==p?p:0,v=Math.max(g,f),_=this.badge.background.width+v,b=this.badge.animation.lines.length,y=0,x=this.badge.animation.shineColor;switch(y=1===b?this.badge.animation.lines[0].width:this.badge.animation.lines_gap+g+f,this.badge.animation.shineDirection){case"to_bottom_right":m="\n            left:-".concat(_,"px;\n            transform: skewx(-30deg)\n            ");break;case"to_top_right":m="\n            left:-".concat(_,"px;\n            transform: skewx(30deg)\n            ");break;case"to_top_left":m="\n            right:-".concat(_,"px;\n            transform: skewx(-30deg)\n            ");break;case"to_bottom_left":m="\n            right:-".concat(_,"px;\n            transform: skewx(30deg)\n            ")}if(0==this.badge.animation.intra_count)t="\n        .apxor-badge-content-container-".concat(this.cssPostFix,"::before{\n          content:'';\n          position:absolute;\n          background:transparent;\n          width:").concat(y,"px;\n           ").concat(1===b?"border-left: ".concat(g,"px solid ").concat(x,";"):"border-left: ".concat(g,"px solid ").concat(x,"; border-right: ").concat(f,"px solid ").concat(x,";"),"\n          height:100%;\n          z-index:").concat(this.contentZindexValue,";\n          animation: badgeAnimation ").concat(this.badge.animation.duration_millis,"s infinite;\n          ").concat(m,";\n        }");else t="\n        .apxor-badge-content-container-".concat(this.cssPostFix,"::before{\n          content:'';\n          position:absolute;\n          background:transparent;\n          width:").concat(y,"px;\n           ").concat(1===b?"border-left: ".concat(g,"px solid ").concat(x,";"):"border-left: ".concat(g,"px solid ").concat(x,"; border-right: ").concat(f,"px solid ").concat(x,";"),"\n          height:100%;\n          animation: badgeAnimation ").concat(this.badge.animation.duration_millis,"s ").concat(null===(u=this.badge.animation)||void 0===u?void 0:u.intra_count,";\n          ").concat(m,";\n        }");e="to_bottom_right"===this.badge.animation.shineDirection||"to_top_right"===this.badge.animation.shineDirection?"@keyframes badgeAnimation {\n                0% {\n                  left:-30%;\n                }\n                100% {\n                  left:130%;\n                }\n            }":"@keyframes badgeAnimation {\n              0% {\n                right:-30%;\n              }\n              100% {\n                right:130%;\n              }\n            }"}}return"\n      ".concat(t,"\n      ").concat(e,"\n    ")}},{key:"_getBadgeScrollStyles",value:function(){var t="";return this.badge.enable_auto_scroll&&("to_top"!==this.badge.auto_scroll.direction&&"to_bottom"!==this.badge.auto_scroll.direction||(t="\n      #apxor-scroll-option".concat(this.cssPostFix,"{\n        width: inherit;\n        height: inherit;\n        animation: scrollAnimation ").concat(this.badge.auto_scroll.duration_millis,"s linear infinite;\n      }")),"to_left"!==this.badge.auto_scroll.direction&&"to_right"!==this.badge.auto_scroll.direction||(t="\n      #apxor-scroll-option".concat(this.cssPostFix,"{\n        width: inherit;\n        height: inherit;\n        animation: scrollText ").concat(this.badge.auto_scroll.duration_millis,"s linear infinite;\n      }"))),t}},{key:"_getBadgeScrollKeyFrameStyles",value:function(t){var e,n,i,o,a,r,s,l="";(r=1,(null===(e=this.badge)||void 0===e?void 0:e.background.width)>this.contentWidth)?a="100%":(r=this.contentWidth/(null===(s=this.badge)||void 0===s||null===(s=s.background)||void 0===s?void 0:s.width),a="".concat(100*r,"%"));if(null!==(n=!this.badge.enable_auto_scroll)&&void 0!==n?!n:null!==(i=this.badge)&&void 0!==i&&i.enable_animation){switch(this.badge.auto_scroll.direction){case"to_bottom":l="\n          @keyframes scrollAnimation {\n            0% {\n              transform: translateY(-".concat(100*t,"%);\n            }\n            100% {\n              transform: translateY(100%);\n            }\n          }\n          ");break;case"to_top":l="\n        @keyframes scrollAnimation {\n          0% {\n            transform: translateY(100%);\n          }\n          100% {\n            transform: translateY(-".concat(100*t,"%);\n          }\n        }\n        ");break;case"to_left":l="\n        @keyframes scrollText {\n         from {\n      transform: translate3d(100%, 0, 0);\n    }\n    to {\n      transform: translate3d(-".concat(a,", 0, 0);\n    }\n        }\n        ");break;case"to_right":l="\n        @keyframes scrollText {\n          from {\n      transform: translate3d(-".concat(a,", 0, 0);\n    }\n    to {\n      transform: translate3d(100%, 0, 0);\n    }\n        }\n        ")}var c="\n      ".concat(l,"\n      ").replaceAll("\n","").replace(/[\s]{2,999}/g,""),d=document.createElement("style");d.innerHTML=c,null===(o=this.targetElement)||void 0===o||o.appendChild(d)}}},{key:"_setBadgeContent",value:function(){this.createBadgeContainer(),this.createBadgeContent(),this.animationStop()}},{key:"animationStop",value:function(){var t,e,n,i,o=".apxor-badge-container-styles-".concat(this.cssPostFix),a=document.querySelector(o),r=".apxor-badge-container-stylesdummy-".concat(this.cssPostFix),s=document.querySelector(r);"shake"===(null===(t=this.badge.animation)||void 0===t?void 0:t.type)&&0!=this.badge.animation.intra_count&&this.badge.enable_animation?a.addEventListener("animationend",this.shakeAnimationRepeatFunction):"fade"===(null===(e=this.badge.animation)||void 0===e?void 0:e.type)&&0!=this.badge.animation.intra_count&&this.badge.enable_animation?a.addEventListener("animationend",this.fadeAnimationRepeatFunction):"ripple"===(null===(n=this.badge.animation)||void 0===n?void 0:n.type)&&0!=this.badge.animation.intra_count&&this.badge.enable_animation?s.addEventListener("animationend",this.rippleAnimationRepeatFunction):"shine"===(null===(i=this.badge.animation)||void 0===i?void 0:i.type)&&0!=this.badge.animation.intra_count&&this.badge.enable_animation&&a.addEventListener("animationend",this.shineAnimationRepeatFunction)}},{key:"shakeAnimationRepeat",value:function(t,e){var n=this,i=".apxor-badge-container-styles-".concat(this.cssPostFix),o=document.querySelector(i);0!=t&&this.count===t&&o.removeEventListener("animationend",this.shakeAnimationRepeatFunction);setTimeout((function(){if(n.count<t){var e,i,o,a;o="\n        .apxor-badge-container-styles-".concat(n.cssPostFix,"{\n          animation: badgeAnimation").concat(n.count," ").concat(n.badge.animation.duration_millis,"s ").concat(null===(e=n.badge.animation)||void 0===e?void 0:e.intra_count,";\n        }"),a="horizontal"===n.badge.animation.shakeDirection?"@keyframes badgeAnimation".concat(n.count," {\n              0% { transform: translateX(0) }\n              25% { transform: translateX(5px) }\n              50% { transform: translateX(0) }\n              75% { transform: translateX(-5px) }\n              100% {transform:translateX(0)}\n        }"):"@keyframes badgeAnimation".concat(n.count," {\n          0% { transform: translateY(0) }\n          25% { transform: translateY(5px) }\n          50% { transform: translateY(0) }\n          75% { transform: translateY(-5px) }\n          100% { transform: translateY(0) }\n        }");var r="\n        ".concat(o,"\n        ").concat(a,"\n        ").replaceAll("\n","").replace(/[\s]{2,999}/g,""),s=document.createElement("style");s.innerHTML=r,null===(i=n.targetElement)||void 0===i||i.appendChild(s),0!=n.badge.animation.inter_count&&(n.count=n.count+1),n.animationStop()}else if(0==t){var l,c,d,p;d="\n        .apxor-badge-container-styles-".concat(n.cssPostFix,"{\n          animation: badgeAnimation").concat(n.c," ").concat(n.badge.animation.duration_millis,"s ").concat(null===(l=n.badge.animation)||void 0===l?void 0:l.intra_count,";\n        }"),p="horizontal"===n.badge.animation.shakeDirection?"@keyframes badgeAnimation".concat(n.c," {\n              0% { transform: translateX(0) }\n              25% { transform: translateX(5px) }\n              50% { transform: translateX(0) }\n              75% { transform: translateX(-5px) }\n              100% {transform:translateX(0)}\n        }"):"@keyframes badgeAnimation".concat(n.c," {\n          0% { transform: translateY(0) }\n          25% { transform: translateY(5px) }\n          50% { transform: translateY(0) }\n          75% { transform: translateY(-5px) }\n          100% { transform: translateY(0) }\n        }");var h="\n        ".concat(d,"\n        ").concat(p,"\n        ").replaceAll("\n","").replace(/[\s]{2,999}/g,""),u=document.createElement("style");u.innerHTML=h,null===(c=n.targetElement)||void 0===c||c.appendChild(u),n.animationStop(),n.c=n.c+1}}),e)}},{key:"fadeAnimationRepeat",value:function(t,e){var n=this,i=".apxor-badge-container-styles-".concat(this.cssPostFix),o=document.querySelector(i);0!=t&&this.count===t&&o.removeEventListener("animationend",this.fadeAnimationRepeatFunction);setTimeout((function(){if(n.count<t){var e,i,o,a;o="\n        .apxor-badge-container-styles-".concat(n.cssPostFix,"{\n          animation: badgeAnimation").concat(n.count," ").concat(n.badge.animation.duration_millis,"s ").concat(null===(e=n.badge.animation)||void 0===e?void 0:e.intra_count,";\n        }"),a="\n        @keyframes badgeAnimation".concat(n.count," {\n          0% { opacity:1;}\n          50% { opacity:").concat(n.badge.animation.fade_opacity/100,";}\n          100% { opacity:1}\n        }");var r="\n        ".concat(o,"\n        ").concat(a,"\n        ").replaceAll("\n","").replace(/[\s]{2,999}/g,""),s=document.createElement("style");s.innerHTML=r,null===(i=n.targetElement)||void 0===i||i.appendChild(s),0!=n.badge.animation.inter_count&&(n.count=n.count+1),n.animationStop()}else if(0==t){var l,c,d,p;d="\n        .apxor-badge-container-styles-".concat(n.cssPostFix,"{\n          animation: badgeAnimation").concat(n.c," ").concat(n.badge.animation.duration_millis,"s ").concat(null===(l=n.badge.animation)||void 0===l?void 0:l.intra_count,";\n        }"),p="\n        @keyframes badgeAnimation".concat(n.c," {\n          0% { opacity:1;}\n          50% { opacity:").concat(n.badge.animation.fade_opacity/100,";}\n          100% { opacity:1}\n        }");var h="\n        ".concat(d,"\n        ").concat(p,"\n        ").replaceAll("\n","").replace(/[\s]{2,999}/g,""),u=document.createElement("style");u.innerHTML=h,null===(c=n.targetElement)||void 0===c||c.appendChild(u),n.c=n.c+1,n.animationStop()}}),e)}},{key:"rippleAnimationRepeat",value:function(t,e){var n=this,i=".apxor-badge-container-stylesdummy-".concat(this.cssPostFix),o=document.querySelector(i);0!=t&&this.count===t&&o.removeEventListener("animationend",this.rippleAnimationRepeatFunction);setTimeout((function(){var e=n.badge.animation.rippleArea/2;if(n.count<t){var i,o,a,r;a="\n        .apxor-badge-container-stylesdummy-".concat(n.cssPostFix,"{\n          animation: badgeAnimation").concat(n.count," ").concat(n.badge.animation.duration_millis,"s ease-in-out;\n          animation-iteration-count: ").concat(null===(i=n.badge.animation)||void 0===i?void 0:i.intra_count,";\n          opacity:1;\n        }"),r="\n        @keyframes badgeAnimation".concat(n.count," {\n        0% {\n          box-shadow: 0 0 0 0 ").concat(n.badge.animation.rippleColor,", 0 0 0 0 ").concat(n.badge.animation.rippleColor,";\n          }\n    \n          80% {\n              box-shadow: 0 0 0 ").concat(e,"px ").concat(n.badge.animation.rippleColor,", 0 0 0 ").concat(n.badge.animation.rippleArea,"px ").concat(n.badge.animation.rippleColor,";\n        }\n\n        100% {\n          box-shadow: 0 0 0 0 ").concat(n.badge.animation.rippleColor,", 0 0 0 0 ").concat(n.badge.animation.rippleColor,";\n        } \n      }");var s="\n        ".concat(a,"\n        ").concat(r,"\n        ").replaceAll("\n","").replace(/[\s]{2,999}/g,""),l=document.createElement("style");l.innerHTML=s,null===(o=n.targetElement)||void 0===o||o.appendChild(l),0!=n.badge.animation.inter_count&&(n.count=n.count+1),n.animationStop()}else if(0==t){var c,d,p,h;p="\n        .apxor-badge-container-stylesdummy-".concat(n.cssPostFix,"{\n          animation: badgeAnimation").concat(n.c," ").concat(n.badge.animation.duration_millis,"s ease-in-out;\n          animation-iteration-count: ").concat(null===(c=n.badge.animation)||void 0===c?void 0:c.intra_count,";\n        }"),h="\n        @keyframes badgeAnimation".concat(n.c," {\n        0% {\n          box-shadow: 0 0 0 0 ").concat(n.badge.animation.rippleColor,", 0 0 0 0 ").concat(n.badge.animation.rippleColor,";\n          }\n    \n          80% {\n              box-shadow: 0 0 0 ").concat(e,"px ").concat(n.badge.animation.rippleColor,", 0 0 0 ").concat(n.badge.animation.rippleArea,"px ").concat(n.badge.animation.rippleColor,";\n        }\n\n        100% {\n          box-shadow: 0 0 0 0 ").concat(n.badge.animation.rippleColor,", 0 0 0 0 ").concat(n.badge.animation.rippleColor,";\n        } \n      }");var u="\n        ".concat(p,"\n        ").concat(h,"\n        ").replaceAll("\n","").replace(/[\s]{2,999}/g,""),m=document.createElement("style");m.innerHTML=u,null===(d=n.targetElement)||void 0===d||d.appendChild(m),n.c=n.c+1,n.animationStop()}}),e)}},{key:"shineAnimationRepeat",value:function(t,e){var n,i,o=this,a=null===(n=this.badge.animation)||void 0===n||null===(n=n.lines[0])||void 0===n?void 0:n.width,r=null===(i=this.badge.animation)||void 0===i||null===(i=i.lines[1])||void 0===i?void 0:i.width,s=Math.max(a,r),l=this.badge.background.width+s,c=".apxor-badge-container-styles-".concat(this.cssPostFix),d=document.querySelector(c);0!=t&&this.count===t&&d.removeEventListener("animationend",this.shineAnimationRepeatFunction);setTimeout((function(){var e,n,i=o.badge.animation.lines.length,a=0,r=o.badge.animation.shineColor,s=null===(e=o.badge.animation)||void 0===e||null===(e=e.lines[0])||void 0===e?void 0:e.width,c=null===(n=o.badge.animation)||void 0===n||null===(n=n.lines[1])||void 0===n?void 0:n.width;if(a=1===i?o.badge.animation.lines[0].width:o.badge.animation.lines_gap+s+c,o.count<t){var d,p,h,u,m="";switch(o.badge.animation.shineDirection){case"to_bottom_right":m="\n            left:-".concat(l,"px;\n            transform: skewx(-30deg)\n            ");break;case"to_top_right":m="\n            left:-".concat(l,"pxx;\n            transform: skewx(30deg)\n            ");break;case"to_top_left":m="\n            right:-".concat(l,"px;\n            transform: skewx(-30deg)\n            ");break;case"to_bottom_left":m="\n            right:-".concat(l,"px;\n            transform: skewx(30deg)\n            ")}h="\n        .apxor-badge-content-container-".concat(o.cssPostFix,"::before{\n          content:'';\n          position:absolute;\n          background:transparent;\n          background:transparent;\n          z-index:").concat(o.contentZindexValue,";\n          width:").concat(a,"px;\n           ").concat(1===i?"border-left: ".concat(s,"px solid ").concat(r,";"):"border-left: ".concat(s,"px solid ").concat(r,"; border-right: ").concat(c,"px solid ").concat(r,";"),"\n          height:100%;\n          animation: badgeAnimation").concat(o.count," ").concat(o.badge.animation.duration_millis,"s ").concat(null===(d=o.badge.animation)||void 0===d?void 0:d.intra_count,";\n          ").concat(m,";\n        }"),u="to_bottom_right"===o.badge.animation.shineDirection||"to_top_right"===o.badge.animation.shineDirection?"@keyframes badgeAnimation".concat(o.count," {\n                0% {\n                  left:-30%;\n                }\n                100% {\n                  left:130%;\n                }\n            }"):"@keyframes badgeAnimation".concat(o.count," {\n              0% {\n                right:-30%;\n              }\n              100% {\n                right:130%;\n              }\n            }");var g="\n        ".concat(h,"\n        ").concat(u,"\n        ").replaceAll("\n","").replace(/[\s]{2,999}/g,""),f=document.createElement("style");f.innerHTML=g,null===(p=o.targetElement)||void 0===p||p.appendChild(f),0!=o.badge.animation.inter_count&&(o.count=o.count+1),o.animationStop()}else if(0==t){var v,_,b,y,x="";switch(o.badge.animation.shineDirection){case"to_bottom_right":x="\n            left:-".concat(l,"px;;\n            transform: skewx(-30deg)\n            ");break;case"to_top_right":x="\n            left:-".concat(l,"px;;\n            transform: skewx(30deg)\n            ");break;case"to_top_left":x="\n            right:-".concat(l,"px;;\n            transform: skewx(-30deg)\n            ");break;case"to_bottom_left":x="\n            right:-".concat(l,"px;;\n            transform: skewx(30deg)\n            ")}b="\n        .apxor-badge-content-container-".concat(o.cssPostFix,"::before{\n          content:'';\n          position:absolute;\n          background:transparent;\n          background:transparent;\n          width:").concat(a,"px;\n           ").concat(1===i?"border-left: ".concat(s,"px solid ").concat(r,";"):"border-left: ".concat(s,"px solid ").concat(r,"; border-right: ").concat(c,"px solid ").concat(r,";"),"\n          height:100%;\n          animation: badgeAnimation").concat(o.c," ").concat(o.badge.animation.duration_millis,"s ").concat(null===(v=o.badge.animation)||void 0===v?void 0:v.intra_count,";\n          ").concat(x,";\n        }"),y="to_bottom_right"===o.badge.animation.shineDirection||"to_top_right"===o.badge.animation.shineDirection?"@keyframes badgeAnimation".concat(o.c," {\n                0% {\n                  left:-30%;\n                }\n                100% {\n                  left:130%;\n                }\n            }"):"@keyframes badgeAnimation".concat(o.c," {\n              0% {\n                right:-30%;\n              }\n              100% {\n                right:130%;\n              }\n            }");var w="\n        ".concat(b,"\n        ").concat(y,"\n        ").replaceAll("\n","").replace(/[\s]{2,999}/g,""),C=document.createElement("style");C.innerHTML=w,null===(_=o.targetElement)||void 0===_||_.appendChild(C),o.c=o.c+1,o.animationStop()}}),e)}},{key:"createBadgeContainer",value:function(){this.badgeContainer=document.createElement("div"),this.badgeDummyContainer=document.createElement("div"),this.badgeContainer.id="apxor-badge-container-".concat("-".concat(this.configId).replaceAll(" ","").replace(/[^\w\s]/gi,"")),this.badgeContainer.classList.add("apxor-badge-container"),this.badgeContainer.classList.add("apxor-badge-container-styles-".concat(this.cssPostFix)),this.badgeDummyContainer.classList.add("apxor-badge-container"),this.badge.enable_animation&&this.badgeDummyContainer.classList.add("apxor-badge-container-stylesdummy-".concat(this.cssPostFix)),this.badge.enable_background&&this.badge.background.enable_image&&this.badgeContainer.classList.add("apxor-badge-container-background-image".concat(this.cssPostFix)),this.targetElement.appendChild(this.badgeContainer),this.targetElement.appendChild(this.badgeDummyContainer)}},{key:"createBadgeContent",value:function(){var t,e=this;if(this.badgeContent=document.createElement("div"),this.badgeContent.classList.add("apxor-badge-content-container-".concat(this.cssPostFix)),null!==(t=this.badge)&&void 0!==t&&t.content&&0!==this.badge.content.length){var n;if(this.badge.content.forEach((function(t,n){var i,o;if(e.badgeContentElement=document.createElement("div"),e.badgeContentElement.classList.add("apxor-badge-contentelement-".concat(n,"-").concat(e.cssPostFix)),e.badgeContentElement.setAttribute("id","apxor-scroll-option".concat(e.cssPostFix)),t.enable_icon&&null!==(i=t.icon)&&void 0!==i&&i.position&&"left"===t.icon.position){var a=document.createElement("div");a.classList.add("apxor-badge-".concat(n,"-icon-container").concat(e.cssPostFix));var r=document.createElement("div");r.classList.add("apxor-badge-".concat(n,"-icon-content").concat(e.cssPostFix)),a.appendChild(r),e.iconElementdummy=a,e.badgeContentElement.appendChild(a)}if(t.enable_label){var s=document.createElement("div");s.classList.add("apxor-badge-".concat(n,"-label-content-").concat(e.cssPostFix)),s.appendChild(createNewTextElement(t.label,e.configId,"label-content-".concat(n))),e.labelElementDummy=s,e.badgeContentElement.appendChild(s)}if(t.enable_icon&&null!==(o=t.icon)&&void 0!==o&&o.position&&"right"===t.icon.position){var l=document.createElement("div");l.classList.add("apxor-badge-".concat(n,"-icon-container").concat(e.cssPostFix));var c=document.createElement("div");c.classList.add("apxor-badge-".concat(n,"-icon-content").concat(e.cssPostFix)),l.appendChild(c),e.iconElementdummy=l,e.badgeContentElement.appendChild(l)}!0!==e.badge.enable_auto_scroll||0!=n||"to_left"!==e.badge.auto_scroll.direction&&"to_right"!==e.badge.auto_scroll.direction?!0===e.badge.enable_auto_scroll&&0===n?e.badgeContent.appendChild(e.badgeContentElement):!0!==e.badge.enable_auto_scroll||"to_top"!==e.badge.auto_scroll.direction&&"to_bottom"!==e.badge.auto_scroll.direction?!1===e.badge.enable_auto_scroll&&e.badgeContent.appendChild(e.badgeContentElement):e.badgeContent.appendChild(e.badgeContentElement):e.badgeContent.appendChild(e.badgeContentElement)})),this.badgeContainer.appendChild(this.badgeContent),this.badge.content[0].enable_label&&(this.contentLabelWidth=this.labelElementDummy.getBoundingClientRect().width),this.badge.content[0].enable_icon)this.contentIconWidth=null===(n=this.iconElementdummy)||void 0===n?void 0:n.getBoundingClientRect().width;this.contentWidth=this.contentLabelWidth+this.contentIconWidth,this._getBadgeScrollKeyFrameStyles(this.badge.content.length)}var i=document.querySelector(".apxor-badge-contentelement-0-".concat(this.cssPostFix));this.badge.background.width>this.contentWidth?i.style.justifyContent="center":i.style.justifyContent="left"}},{key:"_setOnClickTerminationForBadges",value:function(){var t=this;this.targetElement.addEventListener("click",(function e(){var n,i,o,a,r,s,l;t.uiConfig.additional_info&&t.uiConfig.additional_info.version&&4===t.uiConfig.additional_info.version?null===(o=window)||void 0===o||null===(o=o.ApxorRTM)||void 0===o||o.logEvent("apx_nudge_target_clicked",{apx_nudge_id:t.configId,apx_nudge_name:t.name,apx_template_name:"badge",apx_step:null!==(a=null===(r=t.uiConfig)||void 0===r||null===(r=r.additional_info)||void 0===r?void 0:r.apx_step)&&void 0!==a?a:1,apx_variant_code:null!==(s=null===(l=t.uiConfig)||void 0===l||null===(l=l.additional_info)||void 0===l?void 0:l.apx_variant_code)&&void 0!==s?s:""}):window.Apxor.logAppEvent("InlineTargetViewClicked",{id:t.configId,message_name:t.name,apx_message_step:1});if(null!==(n=t.terminationConfig)&&void 0!==n&&n.enable_touch&&0!==Object(t.terminationConfig.touch).length&&t.terminationConfig.touch.enable_user_interaction&&null!==(i=t.terminationConfig.touch)&&void 0!==i&&i.target_view){for(var c,d,p,h,u,m,g,f=document.getElementsByClassName("apxor-badge-container-styles-".concat(t.cssPostFix));f.length>0;)f[0].remove();if(null===(c=window.Apxor)||void 0===c||c.updateBadgeStatus("target_click",t.configId),t.targetClicked=!0,null===(d=t.targetElement)||void 0===d||d.classList.remove("apx-badge-target-style".concat(t.cssPostFix)),t.uiConfig.additional_info&&t.uiConfig.additional_info.version&&4===t.uiConfig.additional_info.version)null===(p=window)||void 0===p||null===(p=p.ApxorRTM)||void 0===p||p.logEvent("apx_nudge_terminated",{apx_nudge_id:t.configId,apx_nudge_name:t.name,apx_template_name:"badge",apx_step:null!==(h=null===(u=t.uiConfig)||void 0===u||null===(u=u.additional_info)||void 0===u?void 0:u.apx_step)&&void 0!==h?h:1,apx_termination_type:"Target Element Clicked",apx_variant_code:null!==(m=null===(g=t.uiConfig)||void 0===g||null===(g=g.additional_info)||void 0===g?void 0:g.apx_variant_code)&&void 0!==m?m:""});else window.Apxor.logAppEvent("inline_dismissed",{id:t.configId,message_name:t.name,apx_reason:"InlineTargetViewClicked"})}t.targetElement.removeEventListener("click",e)}))}}]),t}(),DOMNodePathStep=function(t,e){this.value=t,this.optimized=e||!1};DOMNodePathStep.prototype={toString:function(){return this.value}};var RTM=_createClass((function t(){var e=this;_classCallCheck(this,t),_defineProperty(this,"Zdhz",{}),_defineProperty(this,"isShowingAction",!1),_defineProperty(this,"currentAction",null),_defineProperty(this,"Txcf",null),_defineProperty(this,"version",92),_defineProperty(this,"isInitialised",!1),_defineProperty(this,"GFYy",{}),_defineProperty(this,"TYtA",!1),_defineProperty(this,"ootg",!1),_defineProperty(this,"BofY",(function(){e.isInitialised=!0;var t=history.pushState;history.pushState=function(){var e=t.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchange")),e};var n=history.replaceState;history.replaceState=function(){var t=n.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchange")),t},window.addEventListener("popstate",(function(){window.dispatchEvent(new Event("locationchange"))})),window.addEventListener("locationchange",(function(){e.removeAll()}))})),_defineProperty(this,"show",(function(t,n,i,o){var a;null===(a=window)||void 0===a||null===(a=a.ApxorLogger)||void 0===a||a.error("logger show"),e.isInitialised||e.BofY(),window.addEventListener("pagehide",(function(){var t,e;null===(t=window.Apxor)||void 0===t||null===(e=t.pageUnloaded)||void 0===e||e.call(t,i)}));try{var r;if(null!==e.currentAction&&void 0!==e.currentAction)return void(null===(r=window)||void 0===r||null===(r=r.ApxorLogger)||void 0===r||r.error("An action already being shown"));t=t.split("\n").join("\\n");var s=JSON.parse(t),l={};l.auto_dismiss=n>0,l.duration=n,"inline"===s.display_type?e.currentAction=showTooltip(s,[],l,{configId:i,configName:o},e):"new-inline"===s.display_type||"tooltip_builder"===s.action_class?e.createInLineToolTip(s,n,i,o,"tooltip_builder"===s.action_class?"tooltip_builder":"new-inline"):"coach_mark_v2"===s.display_type?e.XOmJ(s,n,i,o):showCoachmarkWithDelay(e,s,{configId:i,configName:o},l,(function(){var t,n,a,r;(e.isShowingAction=!0,window.Apxor&&window.Apxor.logActionEvent)&&(null===(t=window)||void 0===t||null===(t=t.Apxor)||void 0===t||null===(n=t.updateFlag)||void 0===n||n.call(t,!0),window.Apxor.logActionEvent("inline_shown",i,o),null===(a=window)||void 0===a||null===(a=a.Apxor)||void 0===a||null===(r=a.updateCount)||void 0===r||r.call(a,i),null!=s&&s.is_preview&&setTimeout((function(){var t,e;null===(t=window)||void 0===t||null===(t=t.Apxor)||void 0===t||null===(e=t.logInternalEvent)||void 0===e||e.call(t,"capt")}),500))}),(function(t){var n,a;e.isShowingAction=!1,null===(n=window)||void 0===n||null===(n=n.Apxor)||void 0===n||null===(a=n.updateFlag)||void 0===a||a.call(n,!1),e.currentAction=null,window.Apxor&&window.Apxor.logActionEvent&&(!isDefined(t)||"redirect"!==t&&"cancel"!==t)&&window.Apxor.logActionEvent("inline_dismissed",i,o)}),(function(t){e.currentAction=t}))}catch(t){var c,d,p;e.isShowingAction=!1,null===(c=window)||void 0===c||null===(c=c.Apxor)||void 0===c||null===(d=c.updateFlag)||void 0===d||d.call(c,!1),null===(p=window)||void 0===p||null===(p=p.ApxorLogger)||void 0===p||p.error("".concat(null==t?void 0:t.name," ").concat(null==t?void 0:t.message))}})),_defineProperty(this,"showBadge",(function(t,n,i,o,a){e.isInitialised||e.BofY(),window.addEventListener("pagehide",(function(){var t,e;null===(t=window.Apxor)||void 0===t||null===(e=t.pageUnloaded)||void 0===e||e.call(t,i)})),t=t.split("\n").join("\\n");var r=JSON.parse(t);"P"!==o&&"p"!==o||e.removeBadge(o,i);var s=JSON.parse(a);e.VQmb(r,n,i,o,s)})),_defineProperty(this,"showInApp",(function(t,n,i,o){try{t=t.split("\n").join("\\n"),"videos"===JSON.parse(t).layout_type?e.createInAppVideo(t,n,i,o):"modal"!==JSON.parse(t).layout_type&&"inapp_builder"!==JSON.parse(t).action_class||e.createInAppModal(t,n,i,o,"inapp_builder"===JSON.parse(t).action_class?"inapp_builder":"modal")}catch(t){var a,r,s,l,c,d;if("ios"===(null===(a=window.Apxor)||void 0===a?void 0:a.platform))null===(s=window)||void 0===s||null===(s=s.Apxor)||void 0===s||null===(l=s.updateFlag)||void 0===l||l.call(s,!1,"IN_APP");else null===(c=window)||void 0===c||null===(c=c.Apxor)||void 0===c||null===(d=c.updateFlag)||void 0===d||d.call(c,"IN_APP",!1);console.error(t),null===(r=window)||void 0===r||null===(r=r.ApxorLogger)||void 0===r||r.error("".concat(null==t?void 0:t.name," ").concat(null==t?void 0:t.message))}})),_defineProperty(this,"showEmbedCards",(function(t,n,i,o){if(!e.ootg)try{t=t.split("\n").join("\\n");var a=JSON.parse(t);e.createembedCards(a,i,o)}catch(t){var r,s;null===(r=window.ApxorRTM)||void 0===r||r.logEvent("apx_nudge_not_shown",{campaignName:o,id:i,apx_template_name:"embed-card",apx_notshown_type:"error",apx_reason:"".concat(null==t?void 0:t.name," ").concat(null==t?void 0:t.message)}),console.error(t),null===(s=window)||void 0===s||null===(s=s.ApxorLogger)||void 0===s||s.error("".concat(null==t?void 0:t.name," ").concat(null==t?void 0:t.message))}})),_defineProperty(this,"createembedCards",(function(t,n,i){new EmbedCards(t,n,i,(function(){var o,a,r,s;null===(o=window)||void 0===o||null===(o=o.ApxorLogger)||void 0===o||o.debug("successfully showing the nudge"),(null==t?void 0:t.initialRender)&&(null===(a=window.ApxorRTM)||void 0===a||a.logEvent("apx_nudge_shown",{apx_nudge_name:i,apx_nudge_id:n,apx_template_name:"embed-card",apx_screen_name:null==t||null===(r=t.additional_info)||void 0===r?void 0:r.apx_screen_name,apx_variant_code:null==t||null===(s=t.additional_info)||void 0===s?void 0:s.apx_variant_code})),e.ootg=!0}),(function(){var t;null===(t=window)||void 0===t||null===(t=t.ApxorLogger)||void 0===t||t.debug("nudge dismissed")})).showEmbedCards()})),_defineProperty(this,"showStories",(function(t,n,i,o,a,r,s){try{t=t.split("\n").join("\\n");var l=JSON.parse(t);e.wutl(l,i,o,a,r,s)}catch(t){var c,d,p,h,u,m,g;if("ios"===(null===(c=window.Apxor)||void 0===c?void 0:c.platform))null===(d=window)||void 0===d||null===(d=d.Apxor)||void 0===d||null===(p=d.logInternalEvent)||void 0===p||p.call(d,"story_slides_closed"),null===(h=window)||void 0===h||null===(h=h.Apxor)||void 0===h||null===(u=h.updateFlag)||void 0===u||u.call(h,!1,"IN_APP");else null===(m=window)||void 0===m||null===(m=m.Apxor)||void 0===m||null===(g=m.updateFlag)||void 0===g||g.call(m,"IN_APP",!1);console.error(t)}})),_defineProperty(this,"wutl",(function(t,e,n,i,o,a){new Stories(t,e,n,i,o,a,(function(){var o,a;window.Apxor.logAppEvent("apx_nudge_shown",{apx_nudge_name:n,apx_nudge_id:e,apx_template_name:"stories",apx_step:null!=i?i:0,apx_screen_name:null==t||null===(o=t.additional_info)||void 0===o?void 0:o.apx_screen_name,apx_variant_code:null==t||null===(a=t.additional_info)||void 0===a?void 0:a.apx_variant_code})}),(function(){})).showStories()})),_defineProperty(this,"removeAll",(function(){var t,n;if(null===(t=window)||void 0===t||null===(t=t.Apxor)||void 0===t||null===(n=t.updateFlag)||void 0===n||n.call(t,!1),null!==e.currentAction&&void 0!==e.currentAction){e.isShowingAction=!1;try{e.currentAction(),e.currentAction=null}catch(t){}}})),_defineProperty(this,"createInLineToolTip",(function(t,n,i,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"new-inline",r={};r.auto_dismiss=n>0,r.duration=n;var s=function(){var n,a,r,s;(e.isShowingAction=!0,window.Apxor&&window.Apxor.logActionEvent)&&(null===(n=window)||void 0===n||null===(n=n.Apxor)||void 0===n||null===(a=n.updateFlag)||void 0===a||a.call(n,!0),window.Apxor.logActionEvent("inline_shown",i,o),null===(r=window)||void 0===r||null===(r=r.Apxor)||void 0===r||null===(s=r.updateCount)||void 0===s||s.call(r,i),null!=t&&t.is_preview&&setTimeout((function(){var t,e;null===(t=window)||void 0===t||null===(t=t.Apxor)||void 0===t||null===(e=t.logInternalEvent)||void 0===e||e.call(t,"capt")}),500))},l=function(t){var n,a,r,s;(e.isShowingAction=!1,e.currentAction=null,e.Txcf=null,null===(n=window)||void 0===n||null===(n=n.Apxor)||void 0===n||null===(a=n.updateFlag)||void 0===a||a.call(n,!1),window.Apxor&&window.Apxor.logActionEvent&&!t&&window.Apxor.logActionEvent("inline_dismissed",i,o),"web-inline"===(null===(r=window)||void 0===r||null===(r=r.ApxorWebView)||void 0===r?void 0:r.getLayoutType()))&&(null===(s=window)||void 0===s||null===(s=s.ApxorWebView)||void 0===s||s.removeWebView())};"new-inline"===a?e.Txcf=new InLineTooltip(t,[],[],r,{configId:i,configName:o},e,s,l,(function(){}),!1,0):"tooltip_builder"===a&&(e.Txcf=new NewInLineTooltip(t,r,{configId:i,configName:o},e,s,l)),setTimeout((function(){e.Txcf.createNewTooltip()}),t.delay)})),_defineProperty(this,"XOmJ",(function(t,n,i,o){var a={};a.auto_dismiss=n>0,a.duration=n,e._currentCoachmark=new InLineCoachMark(t,[],[],a,{configId:i,configName:o},e,(function(){var n,a;(e.isShowingAction=!0,window.Apxor&&window.Apxor.logActionEvent)&&(null===(n=window)||void 0===n||null===(n=n.Apxor)||void 0===n||null===(a=n.updateFlag)||void 0===a||a.call(n,!0),window.Apxor.logActionEvent("inline_shown",i,o),null!=t&&t.is_preview&&setTimeout((function(){var t,e;null===(t=window)||void 0===t||null===(t=t.Apxor)||void 0===t||null===(e=t.logInternalEvent)||void 0===e||e.call(t,"capt")}),500))}),(function(t){var n,a,r,s;(e.isShowingAction=!1,e.currentAction=null,e.Txcf=null,null===(n=window)||void 0===n||null===(n=n.Apxor)||void 0===n||null===(a=n.updateFlag)||void 0===a||a.call(n,!1),window.Apxor&&window.Apxor.logActionEvent&&!t&&window.Apxor.logActionEvent("inline_dismissed",i,o),"web-inline"===(null===(r=window)||void 0===r||null===(r=r.ApxorWebView)||void 0===r?void 0:r.getLayoutType()))&&(null===(s=window)||void 0===s||null===(s=s.ApxorWebView)||void 0===s||s.removeWebView())}),e.stepperCallback,!1,0),e._currentCoachmark.createNewCoachMark()})),_defineProperty(this,"VQmb",(function(t,n,i,o,a){e._currentBadge=new ApxorBadge(t,a,{configId:i,configName:o},e,(function(){var e;window.Apxor&&window.Apxor.logActionEvent&&(null===(e=window.Apxor)||void 0===e||e.updateBadgeStatus("show",i),null!=t&&t.is_preview&&setTimeout((function(){var t,e;null===(t=window)||void 0===t||null===(t=t.Apxor)||void 0===t||null===(e=t.logInternalEvent)||void 0===e||e.call(t,"capt")}),500))})),e._currentBadge.TclR(),e._currentBadge.VQmb()})),_defineProperty(this,"updateElementPositionOnScroll",(function(t,n,i,o){e.Txcf&&e.Txcf.updateElementPositionOnScroll(t,n,i,o)})),_defineProperty(this,"createInAppVideo",(function(t,n,i,o){var a=JSON.parse(t);if(!VideoInApp.isAVideoBeingPlayed()&&VideoInApp.canShowVideoInApp(a)){var r={};r.auto_dismiss=n>0,r.duration=n,new VideoInApp(a,r,i,o,(function(){var t,n;(e.isShowingAction=!0,window.Apxor&&window.Apxor.logActionEvent)&&(null===(t=window)||void 0===t||null===(t=t.Apxor)||void 0===t||null===(n=t.updateFlag)||void 0===n||n.call(t,!0),window.Apxor.logActionEvent("inapp_shown",i,o))}),(function(){var t,n;e.isShowingAction=!1,e.currentAction=null,null===(t=window)||void 0===t||null===(t=t.Apxor)||void 0===t||null===(n=t.updateFlag)||void 0===n||n.call(t,!1),window.Apxor&&window.Apxor.logActionEvent&&window.Apxor.logActionEvent("inapp_dismissed",i,o)})).showVideoInApp()}})),_defineProperty(this,"createInAppModal",(function(t,n,i,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"modal",r=JSON.parse(t),s={};s.auto_dismiss=n>0,s.duration=n;var l=function(){var t,n,s,l,c;(e.isShowingAction=!0,"ios"===(null===(t=window.Apxor)||void 0===t?void 0:t.platform))?null===(n=window)||void 0===n||null===(n=n.Apxor)||void 0===n||null===(s=n.updateFlag)||void 0===s||s.call(n,!0,"IN_APP"):null===(l=window)||void 0===l||null===(l=l.Apxor)||void 0===l||null===(c=l.updateFlag)||void 0===c||c.call(l,"IN_APP",!0);if("modal"===a&&window.Apxor&&window.Apxor.logActionEvent)window.Apxor.logActionEvent("inapp_shown",i,o);else if("inapp_builder"===a){var d,p,h,u,m,g,f,v,_,b;null===(d=window.ApxorRTM)||void 0===d||d.logEvent("apx_nudge_shown",{apx_nudge_name:o,apx_nudge_id:"ios"===(null===(p=window.Apxor)||void 0===p?void 0:p.platform)?null==r||null===(h=r.additional_info)||void 0===h?void 0:h.id:i,apx_template_name:"inapp",apx_step:"ios"===(null===(u=window.Apxor)||void 0===u?void 0:u.platform)?null!=r&&null!==(m=r.additional_info)&&void 0!==m&&m.is_preview?1:null==r||null===(g=r.additional_info)||void 0===g?void 0:g.apx_step:null!=r&&null!==(f=r.additional_info)&&void 0!==f&&f.is_preview?1:null==r||null===(v=r.additional_info)||void 0===v?void 0:v.apx_step,apx_screen_name:null==r||null===(_=r.additional_info)||void 0===_?void 0:_.apx_screen_name,apx_variant_code:null==r||null===(b=r.additional_info)||void 0===b?void 0:b.apx_variant_code})}},c=function(t,n){var s,l,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".apx-dlg-c",p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;document.body.removeEventListener("click",p),document.body.removeEventListener("click",h);var u,m,g,f,v=document.querySelector(d);(null==v||null===(s=v.classList)||void 0===s||s.toggle("open"),t.remove(),e.isShowingAction=!1,"ios"===(null===(l=window.Apxor)||void 0===l?void 0:l.platform))?null===(u=window)||void 0===u||null===(u=u.Apxor)||void 0===u||null===(m=u.updateFlag)||void 0===m||m.call(u,!1,"IN_APP"):null===(g=window)||void 0===g||null===(g=g.Apxor)||void 0===g||null===(f=g.updateFlag)||void 0===f||f.call(g,"IN_APP",!1);if(e.currentAction=null,"modal"===a&&window.Apxor&&window.Apxor.logActionEvent&&"cancel"!=n&&"redirect"!=n)window.Apxor.logActionEvent("inapp_dismissed",i,o);else if("inapp_builder"===a){var _;if("cancel"!=n&&"never"!=n){var b,y,x,w,C,E,k,T,A,O={apx_nudge_name:o,apx_nudge_id:"ios"===(null===(b=window.Apxor)||void 0===b?void 0:b.platform)?null==r||null===(y=r.additional_info)||void 0===y?void 0:y.id:i,apx_template_name:"inapp",apx_variant_code:null==r||null===(x=r.additional_info)||void 0===x?void 0:x.apx_variant_code,apx_step:"ios"===(null===(w=window.Apxor)||void 0===w?void 0:w.platform)?null!=r&&null!==(C=r.additional_info)&&void 0!==C&&C.is_preview?1:null==r||null===(E=r.additional_info)||void 0===E?void 0:E.apx_step:null!=r&&null!==(k=r.additional_info)&&void 0!==k&&k.is_preview?1:null==r||null===(T=r.additional_info)||void 0===T?void 0:T.apx_step};""!=c&&(O.apx_dismiss_type=c),null===(A=window.ApxorRTM)||void 0===A||A.logEvent("apx_nudge_dismissed",O)}if("cancel"===n){var S,I,P,L,M,N,$,R,D,B={apx_nudge_name:o,apx_nudge_id:"ios"===(null===(S=window.Apxor)||void 0===S?void 0:S.platform)?null==r||null===(I=r.additional_info)||void 0===I?void 0:I.id:i,apx_template_name:"inapp",apx_variant_code:null==r||null===(P=r.additional_info)||void 0===P?void 0:P.apx_variant_code,apx_step:"ios"===(null===(L=window.Apxor)||void 0===L?void 0:L.platform)?null!=r&&null!==(M=r.additional_info)&&void 0!==M&&M.is_preview?1:null==r||null===(N=r.additional_info)||void 0===N?void 0:N.apx_step:null!=r&&null!==($=r.additional_info)&&void 0!==$&&$.is_preview?1:null==r||null===(R=r.additional_info)||void 0===R?void 0:R.apx_step};null===(D=window.ApxorRTM)||void 0===D||D.logEvent("apx_nudge_cancelled",B)}null===(_=window)||void 0===_||null===(_=_.ApxorInternals)||void 0===_||_.removeBuilderTemplate(i)}};"modal"===a?new ModalInApp(r,s,i,o,l,c,(function(){}),!1,[],0).createInAppModal():"inapp_builder"===a&&new NewModalInApp(r,s,i,o,l,c).createInAppModal()})),_defineProperty(this,"showPlaceHolder",(function(){var t;if(!e.TYtA){e.TYtA=!0;var n=document.createElement("div");n.innerHTML="place your immersive card here",n.style.backgroundColor="#f5f5f5",n.style.color="#7F7F7F",n.style.border="dashed #2E90FA",n.style.textAlign="center",n.style.padding="12px",n.style.fontSize="14px",document.body.appendChild(n),null===(t=window)||void 0===t||null===(t=t.ApxorWidget)||void 0===t||t.setDimensions(window.document.querySelector("html").offsetWidth,window.document.querySelector("html").offsetHeight)}})),_defineProperty(this,"pauseStories",(function(){var t=Array.from(document.querySelectorAll(".progress")),e=t.findIndex((function(t){return t.classList.contains("active")}));t[e].style.animationPlayState="paused";for(var n=document.querySelector(".slide-details").querySelectorAll("video"),i=0;i<n.length;i++){var o=n[i];"video"===o.tagName.toLowerCase()&&o.pause()}})),_defineProperty(this,"resumeStories",(function(){var t=Array.from(document.querySelectorAll(".progress")),e=t.findIndex((function(t){return t.classList.contains("active")}));t[e].style.animationPlayState="running";for(var n=document.querySelector(".slide-details").querySelectorAll("video"),i=0;i<n.length;i++){var o=n[i];"video"===o.tagName.toLowerCase()&&o.play()}})),_defineProperty(this,"logEvent",(function(t,e){var n;"ios"===(null===(n=window.Apxor)||void 0===n?void 0:n.platform)?window.Apxor.logAppEvent(t,e):window.Apxor.logAppEvent(t,JSON.stringify(e))})),_defineProperty(this,"pauseVideos",(function(){for(var t=document.querySelector(".slide-details").querySelectorAll("video"),e=0;e<t.length;e++){var n=t[e];"video"===n.tagName.toLowerCase()&&(n.muted=!0)}})),_defineProperty(this,"removeBadge",(function(t,e){var n="-".concat(e,"-").concat(t).replace(/\s+/g,"").replace(/[^\w-]/g,""),i=Array.from(document.getElementsByClassName("apxor-badge-container")).find((function(t){return t.classList.contains("apxor-badge-container-styles-".concat(n))}));i&&i.remove()}))})),rtm=new RTM;window.ApxorRTM=rtm;try{void 0===exports&&null===exports||(exports.default=rtm,module.exports=exports.default)}catch(t){}return rtm}));
